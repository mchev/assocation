import{z,c as y,o as r,w as o,l as t,k as c,f as l,x as q,s as i,A as v,i as u,u as a,p as d,S as p}from"./app-Dxi_zOPt.js";import{_ as j}from"./AppLayout-BwpoDvZd.js";import{_ as x}from"./index-BQrMDRwh.js";import"./FlashMessage-CzzF30Hd.js";import"./x-D8rw9deL.js";import"./Input.vue_vue_type_script_setup_true_lang-8fiRc5ck.js";import"./createLucideIcon-BC-dXbGm.js";const S={class:"flex justify-between items-center"},N={class:"font-semibold text-xl text-gray-800 leading-tight"},A={class:"flex items-center space-x-4"},D={class:"py-12"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},C={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},B={class:"p-6"},M={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},V={class:"lg:col-span-2 space-y-6"},$={class:"flex items-center justify-between"},E={class:"mt-2 text-gray-600"},O={class:"mt-2 text-gray-600"},P={key:0},F={class:"mt-2 text-gray-600"},L={class:"mt-2 grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2"},T={class:"mt-1 text-sm text-gray-900"},G={class:"mt-1 text-sm text-gray-900"},H={class:"mt-1 text-sm text-gray-900"},I={class:"mt-1 text-sm text-gray-900"},J={class:"space-y-6"},K={class:"bg-gray-50 p-6 rounded-lg"},Q={class:"mt-4 space-y-4"},U={class:"mt-1 text-sm text-gray-900"},W={class:"mt-1 text-sm text-gray-900"},X={key:0,class:"bg-gray-50 p-6 rounded-lg"},Y={class:"mt-4 space-y-4"},Z={key:1,class:"bg-gray-50 p-6 rounded-lg"},_={key:2,class:"bg-gray-50 p-6 rounded-lg"},at={__name:"Show",props:{organization:{type:Object,required:!0},reservation:{type:Object,required:!0},can:{type:Object,required:!0}},setup(s){const n=s,m=z({}),f=g=>new Date(g).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),b=()=>{m.post(route("organizations.reservations.approve",[n.organization,n.reservation]))},w=()=>{m.post(route("organizations.reservations.reject",[n.organization,n.reservation]))},h=()=>{m.post(route("organizations.reservations.cancel",[n.organization,n.reservation]))},k=()=>{confirm("Êtes-vous sûr de vouloir supprimer cette réservation ?")&&m.delete(route("organizations.reservations.destroy",[n.organization,n.reservation]))};return(g,e)=>(r(),y(j,{title:"Réservation - "+s.reservation.equipment.name},{header:o(()=>[t("div",S,[t("h2",N," Réservation de "+i(s.reservation.equipment.name),1),t("div",A,[u(a(p),{href:g.route("organizations.reservations.index",s.organization),class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},{default:o(()=>e[0]||(e[0]=[d(" Retour à la liste ")])),_:1,__:[0]},8,["href"]),s.can.update?(r(),y(a(p),{key:0,href:g.route("organizations.reservations.edit",[s.organization,s.reservation]),class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:o(()=>e[1]||(e[1]=[d(" Modifier ")])),_:1,__:[1]},8,["href"])):l("",!0)])])]),default:o(()=>[t("div",D,[t("div",R,[t("div",C,[t("div",B,[t("div",M,[t("div",V,[t("div",$,[e[2]||(e[2]=t("h3",{class:"text-lg font-medium text-gray-900"},"Statut",-1)),t("span",{class:q([{"bg-yellow-100 text-yellow-800":s.reservation.status==="pending","bg-green-100 text-green-800":s.reservation.status==="approved","bg-red-100 text-red-800":s.reservation.status==="rejected","bg-gray-100 text-gray-800":s.reservation.status==="cancelled"},"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},i({pending:"En attente",approved:"Approuvée",rejected:"Rejetée",cancelled:"Annulée"}[s.reservation.status]),3)]),t("div",null,[e[3]||(e[3]=t("h3",{class:"text-lg font-medium text-gray-900"},"Période",-1)),t("p",E," Du "+i(f(s.reservation.start_date))+" au "+i(f(s.reservation.end_date)),1)]),t("div",null,[e[4]||(e[4]=t("h3",{class:"text-lg font-medium text-gray-900"},"Motif",-1)),t("p",O,i(s.reservation.purpose),1)]),s.reservation.notes?(r(),c("div",P,[e[5]||(e[5]=t("h3",{class:"text-lg font-medium text-gray-900"},"Notes",-1)),t("p",F,i(s.reservation.notes),1)])):l("",!0),t("div",null,[e[10]||(e[10]=t("h3",{class:"text-lg font-medium text-gray-900"},"Matériel",-1)),t("dl",L,[t("div",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500"},"Nom",-1)),t("dd",T,i(s.reservation.equipment.name),1)]),t("div",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500"},"Catégorie",-1)),t("dd",G,i(s.reservation.equipment.category),1)]),t("div",null,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500"},"Prix de location",-1)),t("dd",H,i(s.reservation.equipment.rental_price?`${s.reservation.equipment.rental_price} €`:"Non spécifié"),1)]),t("div",null,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium text-gray-500"},"Caution requise",-1)),t("dd",I,i(s.reservation.equipment.requires_deposit?`${s.reservation.equipment.deposit_amount} €`:"Non"),1)])])])]),t("div",J,[t("div",K,[e[13]||(e[13]=t("h3",{class:"text-lg font-medium text-gray-900"},"Demandeur",-1)),t("dl",Q,[t("div",null,[e[11]||(e[11]=t("dt",{class:"text-sm font-medium text-gray-500"},"Nom",-1)),t("dd",U,i(s.reservation.user.name),1)]),t("div",null,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium text-gray-500"},"Email",-1)),t("dd",W,i(s.reservation.user.email),1)])])]),s.can.update&&s.reservation.status==="pending"?(r(),c("div",X,[e[16]||(e[16]=t("h3",{class:"text-lg font-medium text-gray-900"},"Actions",-1)),t("div",Y,[t("form",{onSubmit:v(b,["prevent"]),class:"inline-block"},[u(a(x),{type:"submit"},{default:o(()=>e[14]||(e[14]=[d(" Approuver ")])),_:1,__:[14]})],32),t("form",{onSubmit:v(w,["prevent"]),class:"inline-block ml-4"},[u(a(x),{type:"submit"},{default:o(()=>e[15]||(e[15]=[d(" Rejeter ")])),_:1,__:[15]})],32)])])):l("",!0),s.can.update&&["pending","approved"].includes(s.reservation.status)?(r(),c("div",Z,[t("form",{onSubmit:v(h,["prevent"]),class:"inline-block"},[u(a(x),{type:"submit"},{default:o(()=>e[17]||(e[17]=[d(" Annuler la réservation ")])),_:1,__:[17]})],32)])):l("",!0),s.can.delete?(r(),c("div",_,[t("form",{onSubmit:v(k,["prevent"]),class:"inline-block"},[u(a(x),{type:"submit"},{default:o(()=>e[18]||(e[18]=[d(" Supprimer la réservation ")])),_:1,__:[18]})],32)])):l("",!0)])])])])])])]),_:1},8,["title"]))}};export{at as default};
