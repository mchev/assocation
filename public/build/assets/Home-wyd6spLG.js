import{q as R,d as e,j as M,x as vt,k as V,y as te,J as Z,c as L,o as m,w as p,m as P,h as O,b as f,K as ee,f as J,am as ht,s as ae,v as Ve,B as N,an as gt,H as Ie,g as b,a as r,e as T,t as I,l as Ne,F as G,r as W,n as Q,G as _t,T as yt,z as Ge,Q as We,M as pe,a5 as xt,u as bt,ao as Ke,C as kt}from"./app-BNngCqM9.js";import{_ as wt}from"./AppLayout-DHnsaJDZ.js";import{_ as Ct,a as $t}from"./CardContent.vue_vue_type_script_setup_true_lang-C6jq-un2.js";import{P as Y,_ as X,c as se}from"./index-qzVJJdJM.js";import{c as de,b as he,i as St,X as ce,u as Qe,d as Xe}from"./Teleport-BLBMxXSW.js";import{A as qt}from"./arrow-right-BvzZw4ka.js";import{S as Vt}from"./sparkles-CgOofJmV.js";import{S as It}from"./shield-check-CX4g7e_7.js";import{c as fe}from"./createLucideIcon-CUAIGWov.js";import{U as Lt}from"./users-DLAEkrPi.js";import{a as Et,b as jt,c as Tt,d as ne,_ as zt}from"./SelectValue.vue_vue_type_script_setup_true_lang-DveYxoEu.js";import{_ as re}from"./Label.vue_vue_type_script_setup_true_lang-EZ7AhvTT.js";import{j as Le,m as Bt,s as Je,u as Ft,p as Ot,e as Rt,f as Mt,g as Pt}from"./UserDropdown-CFOp5G7X.js";import{f as Ee,h as Kt,_ as At}from"./FlashMessage-C33iSKYj.js";import{_ as je,a as Te,b as ze}from"./PopoverTrigger.vue_vue_type_script_setup_true_lang-x1YcbTJZ.js";import{d as Dt}from"./debounce-BAK-8Xwv.js";import{M as Ae}from"./map-pin-Bdh8ZAK_.js";import{i as Ce}from"./ohash.D__AXeF1-DHF4M4F_.js";import{u as Ut}from"./useFormControl-PoLrDV5R.js";import{u as Ht}from"./useKbd-kRIii9yh.js";import{V as Nt}from"./VisuallyHiddenInput-CRggKuXK.js";import{b as Ye,h as ke,g as Gt,u as Wt,r as oe,v as Qt}from"./useForwardExpose-Cc0VdT9s.js";import{_ as Ze}from"./index-DbZ7vT0B.js";import{C as $e}from"./check-CHLhehBo.js";import{C as Xt}from"./circle-help-CDpkzUhp.js";import{I as Jt}from"./image-BkRDqafr.js";import{L as Yt}from"./loader-circle-DqAywOZm.js";import"./useNonce-BSEUWHe-.js";import"./chevron-down-B7BcWIoJ.js";import"./nullish-CHIgUVhi.js";import"./package-Upu6EfQ-.js";import"./Input.vue_vue_type_script_setup_true_lang-CfmwFcDj.js";import"./plus-vPxp5Lab.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=fe("ChevronsUpDownIcon",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=fe("LayoutListIcon",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=fe("PackageSearchIcon",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=fe("SearchXIcon",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=fe("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);function sa(t,n,o){const u=t.findIndex(a=>Ce(a,n)),d=t.findIndex(a=>Ce(a,o));if(u===-1||d===-1)return[];const[s,l]=[u,d].sort((a,i)=>a-i);return t.slice(s,l+1)}function oa(t){const n=R(()=>e(t)),o=R(()=>new Intl.Collator("en",{usage:"search",...n.value}));return{startsWith:(l,a)=>a.length===0?!0:(l=l.normalize("NFC"),a=a.normalize("NFC"),o.value.compare(l.slice(0,a.length),a)===0),endsWith:(l,a)=>a.length===0?!0:(l=l.normalize("NFC"),a=a.normalize("NFC"),o.value.compare(l.slice(-a.length),a)===0),contains:(l,a)=>{if(a.length===0)return!0;l=l.normalize("NFC"),a=a.normalize("NFC");let i=0;const h=a.length;for(;i+h<=l.length;i++){const x=l.slice(i,i+h);if(o.value.compare(a,x)===0)return!0}return!1}}}function la(t,n,o){return t===void 0?!1:Array.isArray(t)?t.some(u=>ue(u,n,o)):ue(t,n,o)}function ue(t,n,o){return t===void 0||n===void 0?!1:typeof t=="string"?t===n:typeof o=="function"?o(t,n):typeof o=="string"?(t==null?void 0:t[o])===(n==null?void 0:n[o]):Ce(t,n)}const[Be,na]=de("ListboxRoot");var ra=M({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{expose:n,emit:o}){const u=t,d=o,{multiple:s,highlightOnHover:l,orientation:a,disabled:i,selectionBehavior:h,dir:x}=vt(u),{getItems:c}=Le({isProvider:!0}),{handleTypeaheadSearch:C}=Bt(),{primitiveElement:$,currentElement:_}=Je(),S=Ht(),y=Ft(x),k=Ut(_),v=V(),E=V(!1),K=V(!0),z=Ye(u,"modelValue",d,{defaultValue:u.defaultValue??(s.value?[]:void 0),passive:u.modelValue===void 0,deep:!0});function B(g){if(E.value=!0,u.multiple){const w=Array.isArray(z.value)?[...z.value]:[],q=w.findIndex(F=>ue(F,g,u.by));u.selectionBehavior==="toggle"?(q===-1?w.push(g):w.splice(q,1),z.value=w):(z.value=[g],v.value=g)}else u.selectionBehavior==="toggle"&&ue(z.value,g,u.by)?z.value=void 0:z.value=g;setTimeout(()=>{E.value=!1},1)}const j=V(null),A=V(null),D=V(!1),_e=V(!1),Fe=ke(),ye=ke(),Oe=ke();function xe(){return c().map(g=>g.ref).filter(g=>g.dataset.disabled!=="")}function U(g,w=!0){if(!g)return;j.value=g,K.value&&j.value.focus(),w&&j.value.scrollIntoView({block:"nearest"});const q=c().find(F=>F.ref===g);d("highlight",q)}function rt(g){if(D.value)Oe.trigger(g);else{const w=c().find(q=>ue(q.value,g,u.by));w&&(j.value=w.ref,U(w.ref))}}function it(g){j.value&&j.value.isConnected&&(g.preventDefault(),g.stopPropagation(),_e.value||j.value.click())}function ut(g){if(K.value){if(E.value=!0,D.value)ye.trigger(g);else{const w=g.altKey||g.ctrlKey||g.metaKey;if(w&&g.key==="a"&&s.value){const q=c(),F=q.map(H=>H.value);z.value=[...F],g.preventDefault(),U(q[q.length-1].ref)}else if(!w){const q=C(g.key,c());q&&U(q)}}setTimeout(()=>{E.value=!1},1)}}function dt(){_e.value=!0}function ct(){Z(()=>{_e.value=!1})}function Re(){Z(()=>{const g=new KeyboardEvent("keydown",{key:"PageUp"});Me(g)})}function be(g){const w=j.value;w!=null&&w.isConnected&&(A.value=w),j.value=null,d("leave",g)}function ft(g){var q,F;const w=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((q=g.currentTarget)==null||q.dispatchEvent(w),d("entryFocus",w),!w.defaultPrevented)if(A.value)U(A.value);else{const H=(F=xe())==null?void 0:F[0];U(H)}}function Me(g){const w=Ot(g,a.value,y.value);if(!w)return;let q=xe();if(j.value){if(w==="last")q.reverse();else if(w==="prev"||w==="next"){w==="prev"&&q.reverse();const F=q.indexOf(j.value);q=q.slice(F+1)}mt(g,q[0])}if(q.length){const F=!j.value&&w==="prev"?q.length-1:0;U(q[F])}if(D.value)return ye.trigger(g)}function mt(g,w){var F;if(!(D.value||u.selectionBehavior!=="replace"||!s.value||!Array.isArray(z.value)||(g.altKey||g.ctrlKey||g.metaKey)&&!g.shiftKey)&&g.shiftKey){const H=c().filter(le=>le.ref.dataset.disabled!=="");let me=(F=H.find(le=>le.ref===w))==null?void 0:F.value;if(g.key===S.END?me=H[H.length-1].value:g.key===S.HOME&&(me=H[0].value),!me||!v.value)return;const pt=sa(H.map(le=>le.value),v.value,me);z.value=pt}}async function Pe(g){if(await Z(),D.value)Fe.trigger(g);else{const w=xe(),q=w.find(F=>F.dataset.state==="checked");q?U(q):w.length&&U(w[0])}}return te(z,()=>{E.value||Z(()=>{Pe()})},{immediate:!0,deep:!0}),n({highlightedElement:j,highlightItem:rt,highlightFirstItem:Re,highlightSelected:Pe,getItems:c}),na({modelValue:z,onValueChange:B,multiple:s,orientation:a,dir:y,disabled:i,highlightOnHover:l,highlightedElement:j,isVirtual:D,virtualFocusHook:Fe,virtualKeydownHook:ye,virtualHighlightHook:Oe,by:u.by,firstValue:v,selectionBehavior:h,focusable:K,onLeave:be,onEnter:ft,changeHighlight:U,onKeydownEnter:it,onKeydownNavigation:Me,onKeydownTypeAhead:ut,onCompositionStart:dt,onCompositionEnd:ct,highlightFirstItem:Re}),(g,w)=>(m(),L(e(Y),{ref_key:"primitiveElement",ref:$,as:g.as,"as-child":g.asChild,dir:e(y),"data-disabled":e(i)?"":void 0,onPointerleave:be,onFocusout:w[0]||(w[0]=async q=>{const F=q.relatedTarget||q.target;await Z(),j.value&&e(_)&&!e(_).contains(F)&&be(q)})},{default:p(()=>[P(g.$slots,"default",{modelValue:e(z)}),e(k)&&g.name?(m(),L(e(Nt),{key:0,name:g.name,value:e(z),disabled:e(i),required:g.required},null,8,["name","value","disabled","required"])):O("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),ia=ra,ua=M({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const{CollectionSlot:n}=Le(),o=Be(),u=Gt(!1,10);return(d,s)=>(m(),L(e(n),null,{default:p(()=>[f(e(Y),{role:"listbox",as:d.as,"as-child":d.asChild,tabindex:e(o).focusable.value?e(o).highlightedElement.value?"-1":"0":void 0,"aria-orientation":e(o).orientation.value,"aria-multiselectable":!!e(o).multiple.value,"data-orientation":e(o).orientation.value,onMousedown:s[0]||(s[0]=J(l=>u.value=!0,["left"])),onFocus:s[1]||(s[1]=l=>{e(u)||e(o).onEnter(l)}),onKeydown:[s[2]||(s[2]=ee(J(l=>{e(o).focusable.value&&e(o).onKeydownNavigation(l)},["prevent"]),["down","up","left","right","home","end"])),ee(e(o).onKeydownEnter,["enter"]),e(o).onKeydownTypeAhead]},{default:p(()=>[P(d.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),da=ua,ca=M({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(t,{emit:n}){const o=t,d=Ye(o,"modelValue",n,{defaultValue:"",passive:o.modelValue===void 0}),s=Be(),{primitiveElement:l,currentElement:a}=Je(),i=R(()=>o.disabled||s.disabled.value||!1),h=V();return ht(()=>{var x;return h.value=(x=s.highlightedElement.value)==null?void 0:x.id}),ae(()=>{s.focusable.value=!1,setTimeout(()=>{var x;o.autoFocus&&((x=a.value)==null||x.focus())},1)}),Ve(()=>{s.focusable.value=!0}),(x,c)=>(m(),L(e(Y),{ref_key:"primitiveElement",ref:l,as:x.as,"as-child":x.asChild,value:e(d),disabled:i.value?"":void 0,"data-disabled":i.value?"":void 0,"aria-disabled":i.value??void 0,"aria-activedescendant":h.value,type:"text",onKeydown:[ee(J(e(s).onKeydownNavigation,["prevent"]),["down","up","home","end"]),ee(e(s).onKeydownEnter,["enter"])],onInput:c[0]||(c[0]=C=>{d.value=C.target.value,e(s).highlightFirstItem()}),onCompositionstart:e(s).onCompositionStart,onCompositionend:e(s).onCompositionEnd},{default:p(()=>[P(x.$slots,"default",{modelValue:e(d)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),fa=ca;const[ma,pa]=de("ListboxGroup");var va=M({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const n=t,o=he(void 0,"reka-listbox-group");return pa({id:o}),(u,d)=>(m(),L(e(Y),N({role:"group"},n,{"aria-labelledby":e(o)}),{default:p(()=>[P(u.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),ha=va,ga=M({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const n=t,o=ma({id:""});return(u,d)=>(m(),L(e(Y),N(n,{id:e(o).id}),{default:p(()=>[P(u.$slots,"default")]),_:3},16,["id"]))}}),_a=ga;const ya="listbox.select",[yl,xa]=de("ListboxItem");var ba=M({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(t,{emit:n}){const o=t,u=n,d=he(void 0,"reka-listbox-item"),{CollectionItem:s}=Le(),{forwardRef:l,currentElement:a}=Wt(),i=Be(),h=R(()=>a.value===i.highlightedElement.value),x=R(()=>la(i.modelValue.value,o.value,i.by)),c=R(()=>i.disabled.value||o.disabled);async function C(_){u("select",_),!(_!=null&&_.defaultPrevented)&&!c.value&&_&&(i.onValueChange(o.value),i.changeHighlight(a.value))}function $(_){const S={originalEvent:_,value:o.value};St(ya,C,S)}return xa({isSelected:x}),(_,S)=>(m(),L(e(s),{value:_.value},{default:p(()=>[gt([h.value,x.value],()=>f(e(Y),N({id:e(d)},_.$attrs,{ref:e(l),role:"option",tabindex:e(i).focusable.value?h.value?"0":"-1":-1,"aria-selected":x.value,as:_.as,"as-child":_.asChild,disabled:c.value?"":void 0,"data-disabled":c.value?"":void 0,"data-highlighted":h.value?"":void 0,"data-state":x.value?"checked":"unchecked",onClick:$,onKeydown:ee(J($,["prevent"]),["space"]),onPointermove:S[0]||(S[0]=y=>{e(i).highlightedElement.value!==e(a)&&(e(i).highlightOnHover.value?e(i).changeHighlight(e(a),!1):e(i).focusable.value||e(i).changeHighlight(e(a),!1))})}),{default:p(()=>[P(_.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),S,1)]),_:3},8,["value"]))}}),ka=ba;const wa={key:0,"aria-labelledby":"hero-heading",class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Ca={class:"flex flex-col lg:flex-row items-center gap-8"},$a={class:"flex-1 text-center lg:text-left"},Sa={class:"space-y-4"},qa={class:"text-base text-gray-500 max-w-xl mx-auto lg:mx-0 dark:text-gray-400"},Va={class:"text-gray-900 dark:text-white"},Ia={class:"mt-6 flex flex-wrap items-center gap-3 justify-center lg:justify-start"},La={class:"flex-shrink-0 lg:w-80"},Ea={class:"rounded-lg p-4"},ja={class:"grid gap-3",role:"list"},Ta={class:"text-sm font-medium text-gray-900 dark:text-white"},za={class:"text-xs text-gray-500 mt-0.5 dark:text-gray-400"},Ba={__name:"HeroSection",setup(t){const o=Ie().props.name,u=V(!0),d=()=>{u.value=!1,localStorage.setItem("heroCardDismissed","true")},s=[{icon:Vt,title:"Gratuit",description:"Pour une association ou un particulier"},{icon:It,title:"Réservation sécurisée",description:"Processus simple et sûr"},{icon:Zt,title:"Gestion d'inventaire",description:"Suivez votre matériel"},{icon:Lt,title:"Communauté active",description:"Réseau associatif"}];return(l,a)=>(m(),L(yt,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform -translate-y-4 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-4 opacity-0"},{default:p(()=>[u.value?(m(),b("section",wa,[a[7]||(a[7]=r("div",{class:"absolute inset-0 rounded-2xl"},null,-1)),f(e(Ct),{class:"relative border-none bg-gradient-to-br from-violet-100 via-blue-50 to-background dark:from-violet-950 dark:via-blue-950 dark:to-background"},{default:p(()=>[f(e(X),{variant:"ghost",size:"icon",class:"absolute right-3 top-3 hover:bg-white/80",onClick:d},{default:p(()=>[f(e(ce),{class:"h-4 w-4"}),a[0]||(a[0]=r("span",{class:"sr-only"},"Fermer la bannière d'accueil",-1))]),_:1,__:[0]}),f(e($t),{class:"p-6"},{default:p(()=>[r("div",Ca,[r("div",$a,[r("div",Sa,[a[2]||(a[2]=r("h1",{id:"hero-heading",class:"text-2xl sm:text-3xl font-bold font-title text-gray-900 leading-tight dark:text-white"},[r("span",{class:"inline-block"},[T(" Location et prêt de matériel "),r("span",{class:"bg-gradient-to-r from-violet-600 to-blue-600 bg-clip-text text-transparent whitespace-nowrap dark:from-violet-400 dark:to-blue-400"},"événementiel")]),r("span",{class:"block text-lg sm:text-xl mt-2 text-gray-600 font-medium dark:text-gray-400"}," entre associations et particuliers ")],-1)),r("p",qa,[r("strong",Va,I(e(o)),1),a[1]||(a[1]=T(" facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements. ",-1))])]),r("div",Ia,[f(e(Ne),{href:l.route("discover"),class:"inline-flex items-center px-5 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-violet-600 to-blue-600 text-white hover:from-violet-700 hover:to-blue-700 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-violet-500 dark:from-violet-500 dark:to-blue-500 dark:hover:from-violet-600 dark:hover:to-blue-600"},{default:p(()=>[a[3]||(a[3]=T(" Découvrir la plateforme ",-1)),f(e(qt),{class:"ml-2 h-4 w-4"})]),_:1,__:[3]},8,["href"]),f(e(X),{variant:"outline",as:"a",href:l.route("how-it-works"),class:"text-sm border-violet-200 text-violet-700 hover:text-violet-500 hover:bg-violet-50 dark:border-violet-800 dark:text-violet-300 dark:hover:bg-violet-900"},{default:p(()=>a[4]||(a[4]=[T(" Comment ça marche ? ",-1)])),_:1,__:[4]},8,["href"])])]),a[6]||(a[6]=r("div",{class:"hidden lg:block w-px h-32 bg-gradient-to-b from-violet-200 to-blue-200 self-center dark:from-violet-800 dark:to-blue-800"},null,-1)),r("div",La,[r("div",Ea,[a[5]||(a[5]=r("h2",{class:"text-sm font-medium text-gray-900 mb-4 dark:text-white"}," Avantages de la plateforme ",-1)),r("ul",ja,[(m(),b(G,null,W(s,i=>r("li",{key:i.title,class:"flex items-start gap-3 group"},[r("div",{class:Q(["rounded-md bg-gradient-to-br from-violet-100 to-blue-100 p-2 group-hover:from-violet-200 group-hover:to-blue-200 transition-colors duration-200 dark:from-violet-900 dark:to-blue-900",{"from-violet-200 to-blue-200 dark:from-violet-800 dark:to-blue-800":i.title==="Gratuit"}])},[(m(),L(_t(i.icon),{class:"w-4 h-4 text-violet-600 dark:text-violet-400"}))],2),r("div",null,[r("h3",Ta,I(i.title),1),r("p",za,I(i.description),1)])])),64))])])])])]),_:1})]),_:1})])):O("",!0)]),_:1}))}},Fa={class:"flex items-center border rounded-lg shadow-md bg-background"},Oa={class:"pl-3 text-muted-foreground"},Ra=["onKeydown"],Ma={__name:"SearchInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","search:submit"],setup(t,{emit:n}){const o=t,u=n,d=V(null),s=R({get(){return o.modelValue},set(i){u("update:modelValue",i)}}),l=()=>{s.value="",Z(()=>{var i;(i=d.value)==null||i.focus()})},a=()=>{u("search:submit",s.value)};return(i,h)=>(m(),b("div",Fa,[r("span",Oa,[f(e(Ee),{class:"h-5 w-5"})]),Ge(r("input",{ref_key:"inputRef",ref:d,"onUpdate:modelValue":h[0]||(h[0]=x=>s.value=x),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Que recherchez-vous ?",onKeydown:ee(J(a,["prevent"]),["enter"]),autocomplete:"off"},null,40,Ra),[[We,s.value]]),s.value?(m(),b("button",{key:0,onMousedown:J(l,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[f(e(ce),{class:"h-4 w-4"})],32)):O("",!0)]))}},Pa={class:"relative w-full"},Ka={class:"flex items-center border rounded-lg shadow-md bg-background"},Aa={class:"pl-3 text-muted-foreground"},Da={key:0,class:"py-6 text-center text-sm text-muted-foreground"},Ua={key:1,class:"py-6 text-center text-sm text-destructive"},Ha={key:2,class:"py-6 text-center text-sm text-muted-foreground"},Na={key:3,class:"max-h-[300px] overflow-y-auto"},Ga=["onClick"],Wa={class:"flex flex-col"},Qa={class:"text-xs text-muted-foreground"},Xa={__name:"CityInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","selected"],setup(t,{emit:n}){const o=t,u=n,d=V(o.modelValue),s=V([]),l=V(!1),a=V(!1),i=V(""),h=V(null),x=Dt(async $=>{if($.length<3){s.value=[],l.value=!1,i.value="";return}a.value=!0,l.value=!0,i.value="";try{const _=await pe.get(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent($)}&type=municipality&limit=5`);if(!_.data.features||_.data.features.length===0){s.value=[];return}s.value=_.data.features.map(S=>({id:S.properties.id,name:S.properties.city,postcode:S.properties.postcode,coordinates:{lat:S.geometry.coordinates[1],lng:S.geometry.coordinates[0]}}))}catch(_){console.error("Error fetching city suggestions:",_),s.value=[],_.value="Erreur lors de la recherche de villes. Veuillez réessayer."}finally{a.value=!1}},150);te(d,$=>{u("update:modelValue",$),$.length>=3&&$!==h.value?x($):(s.value=[],l.value=!1)});const c=$=>{h.value=$.name+" ("+$.postcode+")",d.value=h.value,i.value="";const _={name:$.name,lat:$.coordinates.lat,lng:$.coordinates.lng,postcode:$.postcode,departement:$.postcode.substring(0,2)};u("selected",_),l.value=!1},C=()=>{d.value="",s.value=[],l.value=!1,i.value="",h.value=null,u("update:modelValue",""),u("selected",null)};return($,_)=>(m(),b("div",Pa,[f(e(ze),{open:l.value,"onUpdate:open":_[1]||(_[1]=S=>l.value=S)},{default:p(()=>[f(e(je),{asChild:""},{default:p(()=>[r("div",Ka,[r("span",Aa,[f(e(Ae),{class:"h-5 w-5"})]),Ge(r("input",{"onUpdate:modelValue":_[0]||(_[0]=S=>d.value=S),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Ajouter une localisation"},null,512),[[We,d.value]]),d.value?(m(),b("button",{key:0,onMousedown:J(C,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[f(e(ce),{class:"h-4 w-4"})],32)):O("",!0)])]),_:1}),f(e(Te),{class:"w-full p-0",align:"start"},{default:p(()=>[a.value?(m(),b("div",Da,_[2]||(_[2]=[r("div",{class:"flex items-center justify-center"},[r("div",{class:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),r("span",{class:"ml-2"},"Recherche en cours...")],-1)]))):i.value?(m(),b("div",Ua,I(i.value),1)):s.value.length===0?(m(),b("div",Ha," Aucun résultat trouvé ")):(m(),b("div",Na,[(m(!0),b(G,null,W(s.value,S=>(m(),b("div",{key:S.id,class:"flex items-center gap-2 px-4 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground",onClick:y=>c(S)},[f(e(Ae),{class:"h-4 w-4 text-muted-foreground"}),r("div",Wa,[r("span",null,I(S.name),1),r("span",Qa,I(S.postcode),1)])],8,Ga))),128))]))]),_:1})]),_:1},8,["open"])]))}},tt=M({__name:"Command",props:{modelValue:{default:""},defaultValue:{},multiple:{type:Boolean},orientation:{},dir:{},disabled:{type:Boolean},selectionBehavior:{},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{emit:n}){const o=t,u=n,d=oe(o,"class"),s=Qe(d,u),l=V(new Map),a=V(new Map),{contains:i}=oa({sensitivity:"base"}),h=xt({search:"",filtered:{count:0,items:new Map,groups:new Set}});function x(){if(!h.search){h.filtered.count=l.value.size;return}h.filtered.groups=new Set;let c=0;for(const[C,$]of l.value){const _=i($,h.search);h.filtered.items.set(C,_?1:0),_&&c++}for(const[C,$]of a.value)for(const _ of $)if(h.filtered.items.get(_)>0){h.filtered.groups.add(C);break}h.filtered.count=c}return te(()=>h.search,()=>{x()}),es({allItems:l,allGroups:a,filterState:h}),(c,C)=>(m(),L(e(ia),N({"data-slot":"command"},e(s),{class:e(se)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",o.class)}),{default:p(()=>[P(c.$slots,"default")]),_:3},16,["class"]))}}),at=M({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const n=t,o=oe(n,"class"),{filterState:u}=ge(),d=R(()=>!!u.search&&u.filtered.count===0);return(s,l)=>d.value?(m(),L(e(Y),N({key:0,"data-slot":"command-empty"},e(o),{class:e(se)("py-6 text-center text-sm",n.class)}),{default:p(()=>[P(s.$slots,"default")]),_:3},16,["class"])):O("",!0)}}),st=M({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(t){const n=t,o=oe(n,"class"),{allGroups:u,filterState:d}=ge(),s=he(),l=R(()=>d.search?d.filtered.groups.has(s):!0);return as({id:s}),ae(()=>{u.value.has(s)||u.value.set(s,new Set)}),Ve(()=>{u.value.delete(s)}),(a,i)=>(m(),L(e(ha),N(e(o),{id:e(s),"data-slot":"command-group",class:e(se)("text-foreground overflow-hidden p-1",n.class),hidden:l.value?void 0:!0}),{default:p(()=>[a.heading?(m(),L(e(_a),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:p(()=>[T(I(a.heading),1)]),_:1})):O("",!0),P(a.$slots,"default")]),_:3},16,["id","class","hidden"]))}}),Ja={"data-slot":"command-input-wrapper",class:"flex h-12 items-center gap-2 border-b px-3"},ot=M({inheritAttrs:!1,__name:"CommandInput",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const n=t,o=oe(n,"class"),u=Xe(o),{filterState:d}=ge();return(s,l)=>(m(),b("div",Ja,[f(e(Ee),{class:"size-4 shrink-0 opacity-50"}),f(e(fa),N({...e(u),...s.$attrs},{modelValue:e(d).search,"onUpdate:modelValue":l[0]||(l[0]=a=>e(d).search=a),"data-slot":"command-input","auto-focus":"",class:e(se)("placeholder:text-muted-foreground flex h-12 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",n.class)}),null,16,["modelValue","class"])]))}}),Se=M({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(t,{emit:n}){const o=t,u=n,d=oe(o,"class"),s=Qe(d,u),l=he(),{filterState:a,allItems:i,allGroups:h}=ge(),x=ts(),c=R(()=>{if(a.search){const _=a.filtered.items.get(l);return _===void 0?!0:_>0}else return!0}),C=V(),$=Qt(C);return ae(()=>{var S,y;if(!($.value instanceof HTMLElement))return;i.value.set(l,$.value.textContent??((S=o.value)==null?void 0:S.toString())??"");const _=x==null?void 0:x.id;_&&(h.value.has(_)?(y=h.value.get(_))==null||y.add(l):h.value.set(_,new Set([l])))}),Ve(()=>{i.value.delete(l)}),(_,S)=>c.value?(m(),L(e(ka),N({key:0},e(s),{id:e(l),ref_key:"itemRef",ref:C,"data-slot":"command-item",class:e(se)("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-3 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",o.class),onSelect:S[0]||(S[0]=()=>{e(a).search=""})}),{default:p(()=>[P(_.$slots,"default")]),_:3},16,["id","class"])):O("",!0)}}),Ya={role:"presentation"},Za=M({__name:"CommandList",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const n=t,o=oe(n,"class"),u=Xe(o);return(d,s)=>(m(),L(e(da),N({"data-slot":"command-list"},e(u),{class:e(se)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",n.class)}),{default:p(()=>[r("div",Ya,[P(d.$slots,"default")])]),_:3},16,["class"]))}}),[ge,es]=de("Command"),[ts,as]=de("CommandGroup");var ss=typeof global=="object"&&global&&global.Object===Object&&global,os=typeof self=="object"&&self&&self.Object===Object&&self,lt=ss||os||Function("return this")(),ve=lt.Symbol,nt=Object.prototype,ls=nt.hasOwnProperty,ns=nt.toString,ie=ve?ve.toStringTag:void 0;function rs(t){var n=ls.call(t,ie),o=t[ie];try{t[ie]=void 0;var u=!0}catch{}var d=ns.call(t);return u&&(n?t[ie]=o:delete t[ie]),d}var is=Object.prototype,us=is.toString;function ds(t){return us.call(t)}var cs="[object Null]",fs="[object Undefined]",De=ve?ve.toStringTag:void 0;function ms(t){return t==null?t===void 0?fs:cs:De&&De in Object(t)?rs(t):ds(t)}function ps(t){return t!=null&&typeof t=="object"}var vs="[object Symbol]";function hs(t){return typeof t=="symbol"||ps(t)&&ms(t)==vs}var gs=/\s/;function _s(t){for(var n=t.length;n--&&gs.test(t.charAt(n)););return n}var ys=/^\s+/;function xs(t){return t&&t.slice(0,_s(t)+1).replace(ys,"")}function qe(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var Ue=NaN,bs=/^[-+]0x[0-9a-f]+$/i,ks=/^0b[01]+$/i,ws=/^0o[0-7]+$/i,Cs=parseInt;function He(t){if(typeof t=="number")return t;if(hs(t))return Ue;if(qe(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=qe(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=xs(t);var o=ks.test(t);return o||ws.test(t)?Cs(t.slice(2),o?2:8):bs.test(t)?Ue:+t}var we=function(){return lt.Date.now()},$s="Expected a function",Ss=Math.max,qs=Math.min;function Vs(t,n,o){var u,d,s,l,a,i,h=0,x=!1,c=!1,C=!0;if(typeof t!="function")throw new TypeError($s);n=He(n)||0,qe(o)&&(x=!!o.leading,c="maxWait"in o,s=c?Ss(He(o.maxWait)||0,n):s,C="trailing"in o?!!o.trailing:C);function $(B){var j=u,A=d;return u=d=void 0,h=B,l=t.apply(A,j),l}function _(B){return h=B,a=setTimeout(k,n),x?$(B):l}function S(B){var j=B-i,A=B-h,D=n-j;return c?qs(D,s-A):D}function y(B){var j=B-i,A=B-h;return i===void 0||j>=n||j<0||c&&A>=s}function k(){var B=we();if(y(B))return v(B);a=setTimeout(k,S(B))}function v(B){return a=void 0,C&&u?$(B):(u=d=void 0,l)}function E(){a!==void 0&&clearTimeout(a),h=0,u=i=d=a=void 0}function K(){return a===void 0?l:v(we())}function z(){var B=we(),j=y(B);if(u=arguments,d=this,i=B,j){if(a===void 0)return _(i);if(c)return clearTimeout(a),a=setTimeout(k,n),$(i)}return a===void 0&&(a=setTimeout(k,n)),l}return z.cancel=E,z.flush=K,z}const Is={class:"truncate"},Ls={class:"flex items-center justify-between border-b p-2"},Es={class:"text-sm text-muted-foreground"},js={key:0},Ts={key:1},zs={key:0,class:"mt-2 flex flex-wrap gap-1"},Bs=["onClick"],Fs={__name:"OrganizationFilter",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:n}){const o=t,u=n,d=V(!1),s=V(""),l=V([]),a=V([]),i=V(!1),h=R(()=>o.modelValue.map(y=>a.value.find(k=>k.id===y)).filter(Boolean)),x=async y=>{if(y.length===0)return;const k=y.filter(v=>!a.value.some(E=>E.id===v));if(k.length!==0)try{const v=await pe.get(route("api.organizations.index",{"ids[]":k}));a.value.push(...v.data.data)}catch(v){console.error("Error fetching organizations by IDs:",v)}};ae(()=>{S(),x(o.modelValue)}),te(()=>o.modelValue,y=>{x(y)},{deep:!0});const c=y=>o.modelValue.includes(y.id),C=(y,k)=>{k&&k.preventDefault();const v=[...o.modelValue],E=v.indexOf(y.id);E>-1?v.splice(E,1):v.push(y.id),u("update:modelValue",v)},$=y=>{C(y,null)},_=()=>{u("update:modelValue",[])},S=Vs(async()=>{i.value=!0;try{const y=await pe.get(route("api.organizations.index",{search:s.value}));l.value=y.data.data,y.data.data.forEach(k=>{a.value.some(v=>v.id===k.id)||a.value.push(k)})}catch(y){console.error("Error searching organizations:",y)}finally{i.value=!1}},300);return(y,k)=>(m(),b("div",null,[f(e(ze),{open:d.value,"onUpdate:open":k[1]||(k[1]=v=>d.value=v)},{default:p(()=>[f(e(je),{asChild:""},{default:p(()=>[f(e(X),{variant:"outline",role:"combobox","aria-expanded":d.value,class:"w-full justify-between"},{default:p(()=>[r("span",Is,I(h.value.length>0?h.value.map(v=>v.name).join(", "):"Sélectionner une ou plusieurs organisations"),1),f(e(et),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),f(e(Te),{class:"w-[--radix-popover-trigger-width] p-0"},{default:p(()=>[f(e(tt),{"filter-function":v=>v},{default:p(()=>[r("div",Ls,[r("p",Es,I(h.value.length)+" sélectionnée(s) ",1),h.value.length>0?(m(),L(e(X),{key:0,variant:"ghost",size:"sm",onClick:_},{default:p(()=>k[2]||(k[2]=[T(" Effacer ",-1)])),_:1,__:[2]})):O("",!0)]),f(e(ot),{modelValue:s.value,"onUpdate:modelValue":[k[0]||(k[0]=v=>s.value=v),e(S)],placeholder:"Rechercher une organisation..."},null,8,["modelValue","onUpdate:modelValue"]),f(e(at),null,{default:p(()=>[i.value?(m(),b("span",js,"Chargement...")):(m(),b("span",Ts,"Aucune organisation trouvée."))]),_:1}),f(e(st),null,{default:p(()=>[(m(!0),b(G,null,W(l.value,v=>(m(),L(e(Se),{key:v.id,value:v.name,onSelect:E=>C(v,E)},{default:p(()=>[f(e($e),{class:Q(["mr-2 h-4 w-4",c(v)?"opacity-100":"opacity-0"])},null,8,["class"]),T(" "+I(v.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1},8,["filter-function"])]),_:1})]),_:1},8,["open"]),h.value.length>0?(m(),b("div",zs,[(m(!0),b(G,null,W(h.value,v=>(m(),L(e(Ze),{key:`selected-${v.id}`,variant:"secondary"},{default:p(()=>[T(I(v.name)+" ",1),r("button",{type:"button",class:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onClick:E=>$(v)},[f(e(ce),{class:"h-3 w-3 text-muted-foreground hover:text-foreground"})],8,Bs)]),_:2},1024))),128))])):O("",!0)]))}},Os={class:"truncate"},Rs={class:"flex items-center justify-between border-b p-2"},Ms={class:"text-sm text-muted-foreground"},Ps={key:0},Ks={key:1},As={key:0,class:"mt-2 flex flex-wrap gap-1"},Ds=["onClick"],Us={__name:"CategoryFilter",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:n}){const o=t,u=n,d=V(!1),s=V(""),l=V([]),a=R(()=>l.value.flatMap(y=>[y,...y.children])),i=V(!1),h=R(()=>o.modelValue.map(y=>a.value.find(k=>k.id===y)).filter(Boolean)),x=async()=>{i.value=!0;try{const y=await pe.get("/api/categories");l.value=y.data}catch(y){console.error("Error fetching categories:",y)}finally{i.value=!1}};ae(()=>{x()});const c=y=>o.modelValue.includes(y.id),C=(y,k)=>{k&&k.preventDefault();const v=[...o.modelValue],E=v.indexOf(y.id);E>-1?v.splice(E,1):v.push(y.id),u("update:modelValue",v)},$=y=>{C(y,null)},_=()=>{u("update:modelValue",[])},S=(y,k)=>y.filter(v=>{var K;const E=(K=v.children)==null?void 0:K.some(z=>z.name.toLowerCase().includes(k.toLowerCase()));return v.name.toLowerCase().includes(k.toLowerCase())||E});return(y,k)=>(m(),b("div",null,[f(e(ze),{open:d.value,"onUpdate:open":k[1]||(k[1]=v=>d.value=v)},{default:p(()=>[f(e(je),{asChild:""},{default:p(()=>[f(e(X),{variant:"outline",role:"combobox","aria-expanded":d.value,class:"w-full justify-between"},{default:p(()=>[r("span",Os,I(h.value.length>0?h.value.map(v=>v.name).join(", "):"Sélectionner une ou plusieurs catégories"),1),f(e(et),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),f(e(Te),{class:"w-[--radix-popover-trigger-width] p-0"},{default:p(()=>[f(e(tt),{"filter-function":S},{default:p(()=>[r("div",Rs,[r("p",Ms,I(h.value.length)+" sélectionnée(s) ",1),h.value.length>0?(m(),L(e(X),{key:0,variant:"ghost",size:"sm",onClick:_},{default:p(()=>k[2]||(k[2]=[T(" Effacer ",-1)])),_:1,__:[2]})):O("",!0)]),f(e(ot),{modelValue:s.value,"onUpdate:modelValue":k[0]||(k[0]=v=>s.value=v),placeholder:"Rechercher une catégorie..."},null,8,["modelValue"]),f(e(at),null,{default:p(()=>[i.value?(m(),b("span",Ps,"Chargement...")):(m(),b("span",Ks,"Aucune catégorie trouvée."))]),_:1}),f(e(Za),null,{default:p(()=>[(m(!0),b(G,null,W(l.value,v=>(m(),L(e(st),{key:v.id,heading:v.name},{default:p(()=>[f(e(Se),{value:v.name,onSelect:E=>C(v,E)},{default:p(()=>[f(e($e),{class:Q(["mr-2 h-4 w-4",c(v)?"opacity-100":"opacity-0"])},null,8,["class"]),T(" "+I(v.name)+" (toute la catégorie) ",1)]),_:2},1032,["value","onSelect"]),(m(!0),b(G,null,W(v.children,E=>(m(),L(e(Se),{key:E.id,value:E.name,onSelect:K=>C(E,K),class:"pl-8"},{default:p(()=>[f(e($e),{class:Q(["mr-2 h-4 w-4",c(E)?"opacity-100":"opacity-0"])},null,8,["class"]),T(" "+I(E.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:2},1032,["heading"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),h.value.length>0?(m(),b("div",As,[(m(!0),b(G,null,W(h.value,v=>(m(),L(e(Ze),{key:`selected-${v.id}`,variant:"secondary"},{default:p(()=>[T(I(v.name)+" ",1),r("button",{type:"button",class:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onClick:E=>$(v)},[f(e(ce),{class:"h-3 w-3 text-muted-foreground hover:text-foreground"})],8,Ds)]),_:2},1024))),128))])):O("",!0)]))}},Hs={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ns={class:"relative rounded-xl shadow-xl border border-gray-200/60"},Gs={key:0,class:"px-6 pt-6 pb-4"},Ws={class:"px-6 pb-6"},Qs={class:"flex flex-col md:flex-row gap-4 p-4"},Xs={class:"flex-1"},Js={class:"flex-1"},Ys={class:"flex items-end"},Zs={key:1,class:"h-5 w-5 mr-2"},eo={class:"px-6 pb-6"},to={class:""},ao={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},so={class:"space-y-2"},oo={class:"space-y-2"},lo={class:"space-y-2"},no={__name:"SearchSection",props:{filters:{type:Object,default:()=>({})},stats:{type:Object,required:!0}},emits:["searching"],setup(t,{emit:n}){const u=Ie().props.auth.user,d=t,s=n,l=V(!1),a=bt({search:d.filters.search||"",radius:d.filters.radius||50,categories:d.filters.categories||[],organizations:d.filters.organizations||[],coordinates:d.filters.coordinates||null,city:d.filters.city||null,postcode:d.filters.postcode||null});te([()=>a.organizations,()=>a.categories,()=>a.radius],()=>{i()},{deep:!0});const i=()=>{a.isDirty&&(l.value=!0,s("searching",l.value),a.get(route("home"),{only:["filters","equipments"],preserveScroll:!0,preserveState:!0,onFinish:()=>{l.value=!1,s("searching",l.value)}}))},h=x=>{a.city=x.name,a.postcode=x.postcode,a.coordinates={lat:x.lat,lng:x.lng},a.radius=a.radius||5,i()};return(x,c)=>(m(),b("div",{class:Q({"relative mt-8":e(u)})},[r("div",Hs,[r("div",Ns,[e(u)?O("",!0):(m(),b("div",Gs,c[5]||(c[5]=[r("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Trouvez le matériel dont vous avez besoin",-1),r("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Recherchez parmi des milliers d'équipements disponibles près de chez vous.",-1)]))),r("div",Ws,[r("div",Qs,[r("div",Xs,[f(e(re),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:p(()=>c[6]||(c[6]=[T("Dans quel secteur ?",-1)])),_:1,__:[6]}),f(Xa,{modelValue:e(a).city,"onUpdate:modelValue":c[0]||(c[0]=C=>e(a).city=C),onSelected:h,placeholder:"Entrez une ville ou un code postal"},null,8,["modelValue"])]),r("div",Js,[f(e(re),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:p(()=>c[7]||(c[7]=[T("Que recherchez-vous ?",-1)])),_:1,__:[7]}),f(Ma,{modelValue:e(a).search,"onUpdate:modelValue":c[1]||(c[1]=C=>e(a).search=C),placeholder:"Ex: Vidéoprojecteur, Enceinte, Table...","onSearch:submit":i},null,8,["modelValue"])]),r("div",Ys,[f(e(X),{type:"submit",size:"lg",disabled:l.value,class:"w-full md:w-auto min-w-[140px] bg-primary hover:bg-primary/90 shadow-sm dark:bg-primary dark:hover:bg-primary/90",onClick:i},{default:p(()=>[l.value?(m(),b("span",Zs,c[8]||(c[8]=[r("span",{class:"animate-spin inline-block h-5 w-5 border-[3px] border-current border-t-transparent rounded-full"},null,-1)]))):(m(),L(e(Ee),{key:0,class:"h-5 w-5 mr-2"})),T(" "+I(l.value?"Recherche...":"Rechercher"),1)]),_:1},8,["disabled"])])])]),r("div",eo,[r("div",to,[r("div",ao,[r("div",so,[f(e(re),{for:"radius",class:"flex items-center gap-2"},{default:p(()=>[c[10]||(c[10]=T(" Rayon de recherche ",-1)),f(e(Kt),null,{default:p(()=>[f(e(Rt),null,{default:p(()=>[f(e(Mt),null,{default:p(()=>[f(e(Xt),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),f(e(Pt),null,{default:p(()=>c[9]||(c[9]=[r("p",null,"Distance maximale de recherche",-1)])),_:1,__:[9]})]),_:1})]),_:1})]),_:1,__:[10]}),f(e(zt),{modelValue:e(a).radius,"onUpdate:modelValue":c[2]||(c[2]=C=>e(a).radius=C)},{default:p(()=>[f(e(Et),{id:"radius",class:"w-full bg-white dark:bg-gray-800"},{default:p(()=>[f(e(jt),{placeholder:"Sélectionner un rayon"})]),_:1}),f(e(Tt),null,{default:p(()=>[f(e(ne),{value:"5"},{default:p(()=>c[11]||(c[11]=[T("5 km",-1)])),_:1,__:[11]}),f(e(ne),{value:"10"},{default:p(()=>c[12]||(c[12]=[T("10 km",-1)])),_:1,__:[12]}),f(e(ne),{value:"25"},{default:p(()=>c[13]||(c[13]=[T("25 km",-1)])),_:1,__:[13]}),f(e(ne),{value:"50"},{default:p(()=>c[14]||(c[14]=[T("50 km",-1)])),_:1,__:[14]}),f(e(ne),{value:"100"},{default:p(()=>c[15]||(c[15]=[T("100 km",-1)])),_:1,__:[15]})]),_:1})]),_:1},8,["modelValue"])]),r("div",oo,[f(e(re),null,{default:p(()=>c[16]||(c[16]=[T("Catégories",-1)])),_:1,__:[16]}),f(Us,{modelValue:e(a).categories,"onUpdate:modelValue":c[3]||(c[3]=C=>e(a).categories=C)},null,8,["modelValue"])]),r("div",lo,[f(e(re),{class:"flex items-center gap-2"},{default:p(()=>c[17]||(c[17]=[T(" Filtrer par organisation ",-1)])),_:1,__:[17]}),f(Fs,{modelValue:e(a).organizations,"onUpdate:modelValue":c[4]||(c[4]=C=>e(a).organizations=C)},null,8,["modelValue"])])])])])])])],2))}},ro=["src","alt"],io={key:1,class:"flex h-full w-full items-center justify-center bg-accent/10 text-muted-foreground/30"},uo={class:"flex flex-grow flex-col p-4"},co={class:"flex-grow"},fo={class:"line-clamp-1 font-semibold text-foreground transition-colors duration-200 group-hover:text-primary"},mo={class:"text-sm"},po={class:"font-semibold text-foreground"},vo={class:"mt-2 space-y-2 text-xs text-muted-foreground"},ho={class:"truncate"},go={class:"mt-2 flex items-center text-xs text-muted-foreground"},_o={class:"truncate"},yo={__name:"EquipmentCard",props:{equipment:{type:Object,required:!0}},setup(t){const n=t,o=V(!1),u=R(()=>n.equipment.images&&n.equipment.images.length>0),d=()=>{o.value=!0},s=l=>l==null?"":new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(l);return(l,a)=>(m(),L(e(Ne),{href:l.route("equipments.show",t.equipment),class:"group relative flex flex-col overflow-hidden rounded-xl border border-border/50 bg-card shadow-sm transition-all duration-200 hover:shadow-lg"},{default:p(()=>{var i,h,x,c;return[r("div",{class:Q(["relative block aspect-[4/3] overflow-hidden",{shimmer:u.value&&!o.value}])},[u.value?(m(),b("img",{key:0,src:(i=t.equipment.images[0])==null?void 0:i.url,alt:t.equipment.name,loading:"lazy",class:Q(["h-full w-full object-cover transition-all duration-300 group-hover:scale-105",{"opacity-0":!o.value}]),onLoad:d},null,42,ro)):(m(),b("div",io,[f(e(Jt),{class:"h-12 w-12"})]))],2),r("div",uo,[r("div",co,[r("h3",fo,I(t.equipment.name),1),r("div",mo,[r("span",po,I(s(t.equipment.rental_price)),1),a[0]||(a[0]=r("span",{class:"text-sm text-muted-foreground"}," / jour",-1))]),r("div",vo,[r("span",ho,I(((h=t.equipment.organization)==null?void 0:h.name)||"Particulier")+" - "+I(((x=t.equipment.depot)==null?void 0:x.city)||"Non localisé"),1)]),r("div",go,[f(e(aa),{class:"mr-2 h-4 w-4"}),r("span",_o,I(((c=t.equipment.category)==null?void 0:c.name)||"Sans catégorie"),1)])])])]}),_:1},8,["href"]))}},xo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},bo={key:0,class:"min-h-[400px] flex flex-col items-center justify-center"},ko={key:1,class:"min-h-[400px] flex flex-col items-center justify-center text-center"},wo={class:"w-24 h-24 text-muted-foreground mb-6"},Co={class:"text-xl font-medium text-foreground"},$o={class:"mt-2 text-base text-muted-foreground max-w-md"},So={key:2},qo={class:"mb-6 flex items-center justify-between"},Vo={class:"text-lg font-medium text-foreground"},Io={class:"flex items-center space-x-4"},Lo={class:"text-sm text-muted-foreground"},Eo={key:0,class:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded"},jo={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},To={class:"flex flex-col items-center space-y-4"},zo={key:0,class:"text-sm text-green-600 bg-green-50 px-4 py-2 rounded-md border border-green-200"},Bo={key:1,class:"flex items-center space-x-2"},Fo={key:1,class:"mt-12 text-center"},Oo={__name:"ResultsSection",props:{equipments:{type:Object,required:!0},startDate:{type:String,default:""},endDate:{type:String,default:""},isSearching:{type:Boolean,default:!1}},setup(t){const n=t,o=R(()=>n.equipments.data.length>0),u=R(()=>n.startDate||n.endDate),d=V(!1),s=V({data:[...n.equipments.data],current_page:n.equipments.current_page,last_page:n.equipments.last_page,total:n.equipments.total,has_more:n.equipments.has_more,next_page_url:n.equipments.next_page_url});return te(()=>n.equipments,l=>{l&&l.data&&l.current_page>1&&(s.value.data.push(...l.data),s.value.current_page=l.current_page,s.value.has_more=l.has_more,s.value.next_page_url=l.next_page_url)},{deep:!0}),ae(()=>{console.log("WhenVisible component available:",!!Ke),console.log("Current equipments:",s.value),console.log("Has more pages:",s.value.has_more||s.value.next_page_url)}),(l,a)=>(m(),b("div",xo,[t.isSearching?(m(),b("div",bo,a[0]||(a[0]=[r("div",{class:"w-16 h-16 mb-4"},[r("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})],-1),r("h3",{class:"text-lg font-medium text-foreground"},"Recherche en cours...",-1),r("p",{class:"mt-2 text-sm text-muted-foreground"}," Nous recherchons les meilleurs équipements pour vous ",-1)]))):o.value?(m(),b("div",So,[r("div",qo,[r("h2",Vo,I(s.value.total)+" équipement"+I(s.value.total>1?"s":"")+" trouvé"+I(s.value.total>1?"s":""),1),r("div",Io,[r("p",Lo,I(s.value.data.length)+" affiché"+I(s.value.data.length>1?"s":"")+" sur "+I(s.value.total),1),s.value.has_more?(m(),b("div",Eo," Page "+I(s.value.current_page),1)):O("",!0)])]),r("div",jo,[(m(!0),b(G,null,W(s.value.data,(i,h)=>(m(),L(yo,{key:`${i.id}-${i.updated_at}`,equipment:i,"start-date":t.startDate,"end-date":t.endDate,class:"transition-all duration-300 ease-in-out animate-fade-in",style:kt({animationDelay:`${h*50}ms`})},null,8,["equipment","start-date","end-date","style"]))),128))]),s.value.has_more||s.value.next_page_url?(m(),L(e(Ke),{key:0,params:{data:{page:s.value.current_page+1},preserveState:!0,preserveScroll:!0,only:["equipments"]},class:"mt-12 flex justify-center"},{default:p(({loading:i})=>[r("div",To,[d.value?(m(),b("div",zo," ✓ Nouveaux équipements chargés avec succès ")):O("",!0),i?(m(),b("div",Bo,a[1]||(a[1]=[r("div",{class:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"},null,-1),r("span",{class:"text-sm text-muted-foreground"},"Chargement...",-1)]))):(m(),L(e(X),{key:2,variant:"outline",disabled:i,class:"px-6"},{default:p(()=>[i?(m(),L(e(Yt),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):O("",!0),a[2]||(a[2]=T(" Charger plus d'équipements ",-1))]),_:2,__:[2]},1032,["disabled"]))])]),_:1},8,["params"])):s.value.data.length>0?(m(),b("div",Fo,a[3]||(a[3]=[r("p",{class:"text-sm text-muted-foreground"}," Vous avez vu tous les équipements disponibles ",-1)]))):O("",!0)])):(m(),b("div",ko,[r("div",wo,[u.value?(m(),L(e(ta),{key:0,class:"w-full h-full"})):(m(),L(e(ea),{key:1,class:"w-full h-full"}))]),r("h3",Co,I(u.value?"Aucun équipement trouvé":"Commencez votre recherche"),1),r("p",$o,I(u.value?"Essayez de modifier vos critères de recherche pour trouver plus de résultats.":"Utilisez la barre de recherche ci-dessus pour trouver l'équipement dont vous avez besoin."),1)]))]))}},Ro=At(Oo,[["__scopeId","data-v-a28126ef"]]),Mo={key:0,class:"relative"},xl={__name:"Home",props:{equipments:{type:Object,required:!0},filters:{type:Object,default:()=>({})},stats:{type:Object,default:()=>({min_price:0,max_price:1e3,categories:[]})}},setup(t){const n=V(!1),o=Ie(),u=o.props.name,d=o.props.auth.user;return(s,l)=>(m(),L(wt,{title:"Location et prêt de matériel événementiel",description:`${e(u)} facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements.`},{default:p(()=>[e(d)?O("",!0):(m(),b("section",Mo,[f(Ba)])),r("section",null,[f(no,{filters:t.filters,stats:t.stats,onSearching:l[0]||(l[0]=a=>n.value=a)},null,8,["filters","stats"])]),r("section",{class:Q(["relative py-12 bg-gradient-to-b from-background via-background/50 to-background",{"mt-8":t.equipments.data.length>0}])},[f(Ro,{equipments:t.equipments,"start-date":t.filters.start_date,"end-date":t.filters.end_date,isSearching:n.value},null,8,["equipments","start-date","end-date","isSearching"])],2)]),_:1},8,["description"]))}};export{xl as default};
