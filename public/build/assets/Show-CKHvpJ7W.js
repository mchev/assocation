import{_ as Qe}from"./PublicLayout-CnHfwgqu.js";import{a as K,_ as W}from"./CardContent.vue_vue_type_script_setup_true_lang-C1Q7zd_0.js";import{_ as Je}from"./CardDescription.vue_vue_type_script_setup_true_lang-CH6L2p6t.js";import{_ as ne,a as oe}from"./CardTitle.vue_vue_type_script_setup_true_lang-eOy4K8I8.js";import{g as Ae,u as ea,f as Re,t as qe,_ as me}from"./FlashMessage-C1etDcSu.js";import{_ as ve}from"./Separator.vue_vue_type_script_setup_true_lang-DPpg3sdp.js";import{u as aa,c as Oe,_ as ta,r as M}from"./Input.vue_vue_type_script_setup_true_lang-C03VHxLj.js";import{c as N,P as R,_ as sa,b as $e}from"./index-BUpqKPHg.js";import{d as g,k as D,o as d,a as h,x as la,u as e,b as j,i,w as n,m as V,n as he,t as na,e as Ee,g as Ce,c as m,l as o,s as w,p as O,G as Ve,B as Le,C as Fe,D as ie,E as de,r as z,h as oa,f as U,F as X,v as Y,A as ia,L as da}from"./app-BfcCw6S1.js";import{a as ra,_ as ua}from"./DialogContent.vue_vue_type_script_setup_true_lang-jBnNyD6F.js";import{c as Ne}from"./createLucideIcon-DrgzgInY.js";import{c as ca,X as pa,b as fa,d as T}from"./x-Ck3LuOsf.js";import{u as ma,g as va,a as ba,b as ya,$ as be,h as _a,c as xe,t as ga,d as ha,e as ae,f as xa,i as ye,j as je,C as ze,k as Ue,l as le,_ as $a}from"./DateRangePicker-BkM2fe_-.js";import{L as Ca}from"./loader-circle-B8e5rpjs.js";import{_ as _e}from"./Label.vue_vue_type_script_setup_true_lang-B5Spazz6.js";import{_ as wa}from"./Textarea.vue_vue_type_script_setup_true_lang-B1VNxCsP.js";import{u as Da}from"./useKbd-kRIii9yh.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Separator-BcJ3Korj.js";import"./nullish-CHIgUVhi.js";const ka=g({__name:"CardFooter",props:{class:{}},setup(l){const s=l;return(a,t)=>(d(),D("div",{"data-slot":"card-footer",class:la(e(N)("flex items-center px-6 [.border-t]:pt-6",s.class))},[h(a.$slots,"default")],2))}}),Pa=g({inheritAttrs:!1,__name:"AspectRatio",props:{ratio:{default:1},asChild:{type:Boolean},as:{}},setup(l){const s=l,{forwardRef:a}=aa(),t=j(()=>1/s.ratio*100);return(r,c)=>(d(),D("div",{style:he(`position: relative; width: 100%; padding-bottom: ${t.value}%`),"data-reka-aspect-ratio-wrapper":""},[i(e(R),V({ref:e(a),"as-child":r.asChild,as:r.as,style:{position:"absolute",inset:"0px"}},r.$attrs),{default:n(()=>[h(r.$slots,"default",{aspect:t.value})]),_:3},16,["as-child","as"])],4))}}),Ba={style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute","white-space":"nowrap",width:"1px"}},qa={role:"heading","aria-level":"2"},[Q,Oa]=ca("CalendarRoot"),Va=g({__name:"CalendarRoot",props:{defaultValue:{default:void 0},defaultPlaceholder:{},placeholder:{default:void 0},pagedNavigation:{type:Boolean,default:!1},preventDeselect:{type:Boolean,default:!1},weekStartsOn:{default:0},weekdayFormat:{default:"narrow"},calendarLabel:{},fixedWeeks:{type:Boolean,default:!1},maxValue:{},minValue:{},locale:{},numberOfMonths:{default:1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},initialFocus:{type:Boolean,default:!1},isDateDisabled:{type:Function,default:void 0},isDateUnavailable:{type:Function,default:void 0},dir:{},nextPage:{},prevPage:{},modelValue:{},multiple:{type:Boolean,default:!1},disableDaysOutsideCurrentView:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"div"}},emits:["update:modelValue","update:placeholder"],setup(l,{emit:s}){const a=l,t=s,{disabled:r,readonly:c,initialFocus:b,pagedNavigation:x,weekStartsOn:p,weekdayFormat:$,fixedWeeks:B,multiple:y,minValue:u,maxValue:q,numberOfMonths:S,preventDeselect:A,isDateDisabled:H,isDateUnavailable:J,calendarLabel:v,defaultValue:f,nextPage:k,prevPage:Z,dir:E,locale:re,disableDaysOutsideCurrentView:G}=na(a),{primitiveElement:L,currentElement:ue}=Ae(),I=ma(re),P=ea(E),_=Oe(a,"modelValue",t,{defaultValue:f.value,passive:a.modelValue===void 0}),te=va({defaultPlaceholder:a.placeholder,defaultValue:_.value,locale:a.locale}),F=Oe(a,"placeholder",t,{defaultValue:a.defaultPlaceholder??te.copy(),passive:a.placeholder===void 0});function ce(C){F.value=C.copy()}const{fullCalendarLabel:pe,headingValue:Me,isDateDisabled:we,isDateUnavailable:De,isNextButtonDisabled:Te,isPrevButtonDisabled:He,weekdays:ke,isOutsideVisibleView:Ge,nextPage:We,prevPage:Ze,formatter:Ke,grid:Pe}=ba({locale:I,placeholder:F,weekStartsOn:p,fixedWeeks:B,numberOfMonths:S,minValue:u,maxValue:q,disabled:r,weekdayFormat:$,pagedNavigation:x,isDateDisabled:H.value,isDateUnavailable:J.value,calendarLabel:v,nextPage:k,prevPage:Z}),{isInvalid:Be,isDateSelected:Xe}=ya({date:_,isDateDisabled:we,isDateUnavailable:De});Ee(_,C=>{if(Array.isArray(C)&&C.length){const ee=C[C.length-1];ee&&!be(F.value,ee)&&ce(ee)}else!Array.isArray(C)&&C&&!be(F.value,C)&&ce(C)});function Ye(C){if(y.value){if(!_.value)_.value=[C.copy()];else if(Array.isArray(_.value)){if(_.value.findIndex(se=>xe(se,C))===-1)_.value=[..._.value,C];else if(!A.value){const se=_.value.filter(fe=>!xe(fe,C));if(!se.length){F.value=C.copy(),_.value=void 0;return}_.value=se.map(fe=>fe.copy())}}}else{if(!_.value){_.value=C.copy();return}!A.value&&be(_.value,C)?(F.value=C.copy(),_.value=void 0):_.value=C.copy()}}return Ce(()=>{b.value&&_a(ue.value)}),Oa({isDateUnavailable:De,dir:P,isDateDisabled:we,locale:I,formatter:Ke,modelValue:_,placeholder:F,disabled:r,initialFocus:b,pagedNavigation:x,grid:Pe,weekDays:ke,weekStartsOn:p,weekdayFormat:$,fixedWeeks:B,multiple:y,numberOfMonths:S,readonly:c,preventDeselect:A,fullCalendarLabel:pe,headingValue:Me,isInvalid:Be,isDateSelected:Xe,isNextButtonDisabled:Te,isPrevButtonDisabled:He,isOutsideVisibleView:Ge,nextPage:We,prevPage:Ze,parentElement:ue,onPlaceholderChange:ce,onDateChange:Ye,disableDaysOutsideCurrentView:G}),(C,ee)=>(d(),m(e(R),{ref_key:"primitiveElement",ref:L,as:C.as,"as-child":C.asChild,role:"application","aria-label":e(pe),"data-readonly":e(c)?"":void 0,"data-disabled":e(r)?"":void 0,"data-invalid":e(Be)?"":void 0,dir:e(P)},{default:n(()=>[h(C.$slots,"default",{date:e(F),grid:e(Pe),weekDays:e(ke),weekStartsOn:e(p),locale:e(I),fixedWeeks:e(B),modelValue:e(_)}),o("div",Ba,[o("div",qa,w(e(pe)),1)])]),_:3},8,["as","as-child","aria-label","data-readonly","data-disabled","data-invalid","dir"]))}}),Fa=g({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{default:"td"}},setup(l){const s=Q();return(a,t)=>{var r,c;return d(),m(e(R),{as:a.as,"as-child":a.asChild,role:"gridcell","aria-selected":e(s).isDateSelected(a.date)?!0:void 0,"aria-disabled":e(s).isDateDisabled(a.date)||((c=(r=e(s)).isDateUnavailable)==null?void 0:c.call(r,a.date))||e(s).disableDaysOutsideCurrentView.value,"data-disabled":e(s).isDateDisabled(a.date)||e(s).disableDaysOutsideCurrentView.value?"":void 0},{default:n(()=>[h(a.$slots,"default")]),_:3},8,["as","as-child","aria-selected","aria-disabled","data-disabled"])}}}),ja=g({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{default:"div"}},setup(l){const s=l,a=Da(),t=Q(),{primitiveElement:r,currentElement:c}=Ae(),b=j(()=>s.day.day.toLocaleString(t.locale.value)),x=j(()=>t.formatter.custom(ga(s.day),{weekday:"long",month:"long",day:"numeric",year:"numeric"})),p=j(()=>{var v;return((v=t.isDateUnavailable)==null?void 0:v.call(t,s.day))??!1}),$=j(()=>ha(s.day,ae())),B=j(()=>!xa(s.day,s.month)),y=j(()=>t.isOutsideVisibleView(s.day)),u=j(()=>t.isDateDisabled(s.day)||t.disableDaysOutsideCurrentView.value&&B.value),q=j(()=>!t.disabled.value&&xe(s.day,t.placeholder.value)),S=j(()=>t.isDateSelected(s.day));function A(v){var f;t.readonly.value||t.isDateDisabled(v)||(f=t.isDateUnavailable)!=null&&f.call(t,v)||t.onDateChange(v)}function H(){u.value||A(s.day)}function J(v){if(u.value)return;v.preventDefault(),v.stopPropagation();const f=t.parentElement.value,k=7,Z=t.dir.value==="rtl"?-1:1;switch(v.code){case a.ARROW_RIGHT:E(c.value,Z);break;case a.ARROW_LEFT:E(c.value,-Z);break;case a.ARROW_UP:E(c.value,-7);break;case a.ARROW_DOWN:E(c.value,k);break;case a.ENTER:case a.SPACE_CODE:A(s.day)}function E(re,G){const L=ye(f);if(!L.length)return;const I=L.indexOf(re)+G;if(I>=0&&I<L.length){L[I].hasAttribute("data-disabled")&&E(L[I],G),L[I].focus();return}if(I<0){if(t.isPrevButtonDisabled())return;t.prevPage(),Fe(()=>{const P=ye(f);if(!P.length)return;if(!t.pagedNavigation.value&&t.numberOfMonths.value>1){const F=je(t.placeholder.value)-Math.abs(I);P[F].hasAttribute("data-disabled")&&E(P[F],G),P[F].focus();return}const _=P.length-Math.abs(I);P[_].hasAttribute("data-disabled")&&E(P[_],G),P[_].focus()});return}if(I>=L.length){if(t.isNextButtonDisabled())return;t.nextPage(),Fe(()=>{const P=ye(f);if(!P.length)return;if(!t.pagedNavigation.value&&t.numberOfMonths.value>1){const te=je(t.placeholder.value.add({months:t.numberOfMonths.value-1})),F=I-L.length+(P.length-te);P[F].hasAttribute("data-disabled")&&E(P[F],G),P[F].focus();return}const _=I-L.length;P[_].hasAttribute("data-disabled")&&E(P[_],G),P[_].focus()})}}}return(v,f)=>(d(),m(e(R),V({ref_key:"primitiveElement",ref:r},s,{role:"button","aria-label":x.value,"data-reka-calendar-cell-trigger":"","aria-disabled":u.value||p.value?!0:void 0,"data-selected":S.value?!0:void 0,"data-value":v.day.toString(),"data-disabled":u.value?"":void 0,"data-unavailable":p.value?"":void 0,"data-today":$.value?"":void 0,"data-outside-view":B.value?"":void 0,"data-outside-visible-view":y.value?"":void 0,"data-focused":q.value?"":void 0,tabindex:q.value?0:B.value||u.value?void 0:-1,onClick:H,onKeydown:[Ve(J,["up","down","left","right","space","enter"]),f[0]||(f[0]=Ve(Le(()=>{},["prevent"]),["enter"]))]}),{default:n(()=>[h(v.$slots,"default",{dayValue:b.value,disabled:u.value,today:$.value,selected:S.value,outsideView:B.value,outsideVisibleView:y.value,unavailable:p.value},()=>[O(w(b.value),1)])]),_:3},16,["aria-label","aria-disabled","data-selected","data-value","data-disabled","data-unavailable","data-today","data-outside-view","data-outside-visible-view","data-focused","tabindex"]))}}),Ia=g({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{default:"table"}},setup(l){const s=l,a=Q(),t=j(()=>a.disabled.value?!0:void 0),r=j(()=>a.readonly.value?!0:void 0);return(c,b)=>(d(),m(e(R),V(s,{tabindex:"-1",role:"grid","aria-readonly":r.value,"aria-disabled":t.value,"data-readonly":r.value&&"","data-disabled":t.value&&""}),{default:n(()=>[h(c.$slots,"default")]),_:3},16,["aria-readonly","aria-disabled","data-readonly","data-disabled"]))}}),Sa=g({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{default:"tbody"}},setup(l){const s=l;return(a,t)=>(d(),m(e(R),ie(de(s)),{default:n(()=>[h(a.$slots,"default")]),_:3},16))}}),Aa=g({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{default:"thead"}},setup(l){const s=l;return(a,t)=>(d(),m(e(R),V(s,{"aria-hidden":"true"}),{default:n(()=>[h(a.$slots,"default")]),_:3},16))}}),Ra=g({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{default:"tr"}},setup(l){const s=l;return(a,t)=>(d(),m(e(R),ie(de(s)),{default:n(()=>[h(a.$slots,"default")]),_:3},16))}}),Ea=g({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{default:"th"}},setup(l){const s=l;return(a,t)=>(d(),m(e(R),ie(de(s)),{default:n(()=>[h(a.$slots,"default")]),_:3},16))}}),La=g({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{default:"div"}},setup(l){const s=l;return(a,t)=>(d(),m(e(R),ie(de(s)),{default:n(()=>[h(a.$slots,"default")]),_:3},16))}}),Na=g({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{default:"div"}},setup(l){const s=l,a=Q();return(t,r)=>(d(),m(e(R),V(s,{"data-disabled":e(a).disabled.value?"":void 0}),{default:n(()=>[h(t.$slots,"default",{headingValue:e(a).headingValue.value},()=>[O(w(e(a).headingValue.value),1)])]),_:3},16,["data-disabled"]))}}),za=g({__name:"CalendarNext",props:{nextPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(l){const s=l,a=j(()=>t.disabled.value||t.isNextButtonDisabled(s.nextPage)),t=Q();return(r,c)=>(d(),m(e(R),{as:s.as,"as-child":s.asChild,"aria-label":"Next page",type:r.as==="button"?"button":void 0,"aria-disabled":a.value||void 0,"data-disabled":a.value||void 0,disabled:a.value,onClick:c[0]||(c[0]=b=>e(t).nextPage(s.nextPage))},{default:n(()=>[h(r.$slots,"default",{disabled:a.value},()=>[c[1]||(c[1]=O(" Next page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),Ua=g({__name:"CalendarPrev",props:{prevPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(l){const s=l,a=j(()=>t.disabled.value||t.isPrevButtonDisabled(s.prevPage)),t=Q();return(r,c)=>(d(),m(e(R),{"aria-label":"Previous page",as:s.as,"as-child":s.asChild,type:r.as==="button"?"button":void 0,"aria-disabled":a.value||void 0,"data-disabled":a.value||void 0,disabled:a.value,onClick:c[0]||(c[0]=b=>e(t).prevPage(s.prevPage))},{default:n(()=>[h(r.$slots,"default",{disabled:a.value},()=>[c[1]||(c[1]=O(" Prev page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=Ne("ZoomInIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Ne("ZoomOutIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ie=g({__name:"AspectRatio",props:{ratio:{},asChild:{type:Boolean},as:{type:[String,Object,Function]}},setup(l){const s=l;return(a,t)=>(d(),m(e(Pa),V({"data-slot":"aspect-ratio"},s),{default:n(()=>[h(a.$slots,"default")]),_:3},16))}}),Ta={class:"space-y-6"},Ha=["src","alt"],Ga={class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},Wa={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Za=["src","alt"],Ka={class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},Xa={class:"relative bg-black"},Ya={class:"absolute top-4 left-4 z-50 flex gap-2"},Qa=["disabled"],Ja=["disabled"],et={key:2,class:"absolute inset-0 flex items-center justify-center bg-black/50"},at=["src","alt"],tt={class:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 px-3 py-1 rounded-full text-white text-sm"},st={__name:"ImageGallery",props:{images:{type:Array,required:!0}},setup(l){const s=l,a=s.images[0],t=s.images.slice(1),r=z(null),c=z(!1),b=z(0),x=z(!1),p=z(1),$=j(()=>[a,...t]),B=v=>{r.value=v,b.value=$.value.findIndex(f=>f.id===v.id),c.value=!0,p.value=1},y=v=>{if(c.value)switch(v.key){case"ArrowLeft":u("prev");break;case"ArrowRight":u("next");break;case"Escape":c.value=!1;break}},u=v=>{const f=$.value.length;v==="next"?b.value=(b.value+1)%f:b.value=(b.value-1+f)%f,r.value=$.value[b.value],p.value=1},q=()=>{x.value=!1},S=v=>{v==="in"&&p.value<3?p.value+=.5:v==="out"&&p.value>1&&(p.value-=.5)},A=z({x:0,y:0}),H=v=>{A.value={x:v.touches[0].clientX,y:v.touches[0].clientY}},J=v=>{const f={x:v.changedTouches[0].clientX,y:v.changedTouches[0].clientY},k=f.x-A.value.x,Z=f.y-A.value.y;Math.abs(k)>Math.abs(Z)&&Math.abs(k)>50&&(k>0?u("prev"):u("next"))};return Ce(()=>{document.addEventListener("keydown",y)}),oa(()=>{document.removeEventListener("keydown",y)}),(v,f)=>(d(),D("div",Ta,[e(a)?(d(),m(e(W),{key:0,class:"overflow-hidden cursor-pointer group",onClick:f[0]||(f[0]=k=>B(e(a)))},{default:n(()=>[i(e(K),{class:"p-0 relative"},{default:n(()=>[i(e(Ie),{ratio:16/9},{default:n(()=>[o("img",{src:e(a).url,alt:e(a).original_name,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"},null,8,Ha),o("div",Ga,[i(e(ge),{class:"w-8 h-8 text-white"})])]),_:1})]),_:1})]),_:1})):U("",!0),o("div",Wa,[(d(!0),D(X,null,Y(e(t),k=>(d(),m(e(W),{key:k.id,class:"overflow-hidden group cursor-pointer",onClick:Z=>B(k)},{default:n(()=>[i(e(K),{class:"p-0 relative"},{default:n(()=>[i(e(Ie),{ratio:1},{default:n(()=>[o("img",{src:k.url,alt:k.original_name,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"},null,8,Za),o("div",Ka,[i(e(ge),{class:"w-6 h-6 text-white"})])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),i(e(ua),{open:c.value,"onUpdate:open":f[6]||(f[6]=k=>c.value=k)},{default:n(()=>[i(e(ra),{class:"max-w-screen-xl p-0",onTouchstart:H,onTouchend:J},{default:n(()=>[o("div",Xa,[o("button",{onClick:f[1]||(f[1]=k=>c.value=!1),class:"absolute top-4 right-4 z-50 rounded-full bg-black/50 p-2 text-white hover:bg-black/75 transition-colors","aria-label":"Close dialog"},[i(e(pa),{class:"w-6 h-6"})]),o("div",Ya,[o("button",{onClick:f[2]||(f[2]=k=>S("out")),class:"rounded-full bg-black/50 p-2 text-white hover:bg-black/75 transition-colors",disabled:p.value<=1,"aria-label":"Zoom out"},[i(e(Ma),{class:"w-6 h-6"})],8,Qa),o("button",{onClick:f[3]||(f[3]=k=>S("in")),class:"rounded-full bg-black/50 p-2 text-white hover:bg-black/75 transition-colors",disabled:p.value>=3,"aria-label":"Zoom in"},[i(e(ge),{class:"w-6 h-6"})],8,Ja)]),b.value>0?(d(),D("button",{key:0,onClick:f[4]||(f[4]=k=>u("prev")),class:"absolute left-4 top-1/2 -translate-y-1/2 z-50 rounded-full bg-black/50 p-2 text-white hover:bg-black/75 transition-colors","aria-label":"Previous image"},[i(e(ze),{class:"w-8 h-8"})])):U("",!0),b.value<$.value.length-1?(d(),D("button",{key:1,onClick:f[5]||(f[5]=k=>u("next")),class:"absolute right-4 top-1/2 -translate-y-1/2 z-50 rounded-full bg-black/50 p-2 text-white hover:bg-black/75 transition-colors","aria-label":"Next image"},[i(e(Ue),{class:"w-8 h-8"})])):U("",!0),x.value?(d(),D("div",et,[i(e(Ca),{class:"w-8 h-8 text-white animate-spin"})])):U("",!0),o("div",{class:"overflow-auto max-h-[90vh] flex items-center justify-center",style:he({cursor:p.value>1?"move":"default"})},[r.value?(d(),D("img",{key:0,src:r.value.url,alt:r.value.original_name,class:"w-full h-auto transition-transform duration-300",style:he({transform:`scale(${p.value})`}),onLoad:q,loading:"lazy"},null,44,at)):U("",!0)],4),o("div",tt,w(b.value+1)+" / "+w($.value.length),1)])]),_:1})]),_:1},8,["open"])]))}},lt={class:"space-y-4"},nt={class:"space-y-2"},ot={class:"space-y-2"},it={class:"space-y-2"},dt={__name:"ReservationForm",props:{equipment:{type:Object,required:!0}},setup(l){const s=l,a=z({from:null,to:null}),t=ia({rental_start:null,rental_end:null,quantity:1,notes:""}),r=x=>{t.rental_start=x.from instanceof le?x.from.toDate(ae()):x.from,t.rental_end=x.to instanceof le?x.to.toDate(ae()):x.to},c=j(()=>{if(!a.value.from||!a.value.to)return!1;const x=a.value.from instanceof le?a.value.from.toDate(ae()):new Date(a.value.from),p=a.value.to instanceof le?a.value.to.toDate(ae()):new Date(a.value.to),$=new Date;return x.setHours(0,0,0,0),p.setHours(0,0,0,0),$.setHours(0,0,0,0),x>=$&&p>x&&t.quantity>0});Ee(a,r,{deep:!0});const b=()=>{c.value&&t.post(route("carts.add",s.equipment.id),{onSuccess:()=>{qe.success("Article ajouté au camion"),t.reset(),a.value={from:null,to:null}},onError:x=>{qe.error("Erreur lors de l'ajout au camion",{description:Object.values(x).join(", ")})}})};return(x,p)=>(d(),m(e(W),null,{default:n(()=>[i(e(ne),null,{default:n(()=>[i(e(oe),null,{default:n(()=>p[3]||(p[3]=[O("Faire une réservation")])),_:1,__:[3]})]),_:1}),i(e(K),null,{default:n(()=>[o("form",{id:"reservation-form",onSubmit:Le(b,["prevent"])},[o("div",lt,[o("div",nt,[i(e(_e),null,{default:n(()=>p[4]||(p[4]=[O("Période de location")])),_:1,__:[4]}),i($a,{modelValue:a.value,"onUpdate:modelValue":p[0]||(p[0]=$=>a.value=$),disabled:!1},null,8,["modelValue"])]),o("div",ot,[i(e(_e),{for:"quantity"},{default:n(()=>p[5]||(p[5]=[O("Quantité")])),_:1,__:[5]}),i(e(ta),{id:"quantity",type:"number",modelValue:e(t).quantity,"onUpdate:modelValue":p[1]||(p[1]=$=>e(t).quantity=$),min:1,disabled:!1},null,8,["modelValue"])]),o("div",it,[i(e(_e),{for:"notes"},{default:n(()=>p[6]||(p[6]=[O("Notes")])),_:1,__:[6]}),i(e(wa),{id:"notes",modelValue:e(t).notes,"onUpdate:modelValue":p[2]||(p[2]=$=>e(t).notes=$),placeholder:"Ajoutez des besoins spécifiques ou des questions...",disabled:!1},null,8,["modelValue"])])])],32)]),_:1}),i(e(ka),null,{default:n(()=>[i(e(sa),{type:"submit",form:"reservation-form",disabled:!c.value,onClick:b},{default:n(()=>[i(e(Re),{class:"mr-2 h-4 w-4"}),p[7]||(p[7]=O(" Charger dans mon camion "))]),_:1,__:[7]},8,["disabled"])]),_:1})]),_:1}))}},rt={class:"flex items-center gap-1"},ut={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},ct=g({__name:"Calendar",props:{defaultValue:{},defaultPlaceholder:{},placeholder:{},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{type:Function},isDateUnavailable:{type:Function},dir:{},nextPage:{type:Function},prevPage:{type:Function},modelValue:{},multiple:{type:Boolean},disableDaysOutsideCurrentView:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},emits:["update:modelValue","update:placeholder"],setup(l,{emit:s}){const a=l,t=s,r=M(a,"class"),c=fa(r,t);return(b,x)=>(d(),m(e(Va),V({"data-slot":"calendar",class:e(N)("p-3",a.class)},e(c)),{default:n(({grid:p,weekDays:$})=>[i(e(_t),null,{default:n(()=>[i(e(gt)),o("div",rt,[i(e(xt)),i(e(ht))])]),_:1}),o("div",ut,[(d(!0),D(X,null,Y(p,B=>(d(),m(e(mt),{key:B.value.toString()},{default:n(()=>[i(e(bt),null,{default:n(()=>[i(e(Se),null,{default:n(()=>[(d(!0),D(X,null,Y($,y=>(d(),m(e(yt),{key:y},{default:n(()=>[O(w(y),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),i(e(vt),null,{default:n(()=>[(d(!0),D(X,null,Y(B.rows,(y,u)=>(d(),m(e(Se),{key:`weekDate-${u}`,class:"mt-2 w-full"},{default:n(()=>[(d(!0),D(X,null,Y(y,q=>(d(),m(e(pt),{key:q.toString(),date:q},{default:n(()=>[i(e(ft),{day:q,month:B.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),pt=g({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=M(s,"class"),t=T(a);return(r,c)=>(d(),m(e(Fa),V({"data-slot":"calendar-cell",class:e(N)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:rounded-md [&:has([data-selected])]:bg-accent",s.class)},e(t)),{default:n(()=>[h(r.$slots,"default")]),_:3},16,["class"]))}}),ft=g({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{type:[String,Object,Function],default:"button"},class:{}},setup(l){const s=l,a=M(s,"class"),t=T(a);return(r,c)=>(d(),m(e(ja),V({"data-slot":"calendar-cell-trigger",class:e(N)(e($e)({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100 cursor-default","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selected]:bg-primary data-[selected]:text-primary-foreground data-[selected]:opacity-100 data-[selected]:hover:bg-primary data-[selected]:hover:text-primary-foreground data-[selected]:focus:bg-primary data-[selected]:focus:text-primary-foreground","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through","data-[outside-view]:text-muted-foreground",s.class)},e(t)),{default:n(()=>[h(r.$slots,"default")]),_:3},16,["class"]))}}),mt=g({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=M(s,"class"),t=T(a);return(r,c)=>(d(),m(e(Ia),V({"data-slot":"calendar-grid",class:e(N)("w-full border-collapse space-x-1",s.class)},e(t)),{default:n(()=>[h(r.$slots,"default")]),_:3},16,["class"]))}}),vt=g({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]}},setup(l){const s=l;return(a,t)=>(d(),m(e(Sa),V({"data-slot":"calendar-grid-body"},s),{default:n(()=>[h(a.$slots,"default")]),_:3},16))}}),bt=g({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l;return(a,t)=>(d(),m(e(Aa),V({"data-slot":"calendar-grid-head"},s),{default:n(()=>[h(a.$slots,"default")]),_:3},16))}}),Se=g({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=M(s,"class"),t=T(a);return(r,c)=>(d(),m(e(Ra),V({"data-slot":"calendar-grid-row",class:e(N)("flex",s.class)},e(t)),{default:n(()=>[h(r.$slots,"default")]),_:3},16,["class"]))}}),yt=g({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=M(s,"class"),t=T(a);return(r,c)=>(d(),m(e(Ea),V({"data-slot":"calendar-head-cell",class:e(N)("text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",s.class)},e(t)),{default:n(()=>[h(r.$slots,"default")]),_:3},16,["class"]))}}),_t=g({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=M(s,"class"),t=T(a);return(r,c)=>(d(),m(e(La),V({"data-slot":"calendar-header",class:e(N)("flex justify-center pt-1 relative items-center w-full",s.class)},e(t)),{default:n(()=>[h(r.$slots,"default")]),_:3},16,["class"]))}}),gt=g({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=M(s,"class"),t=T(a);return(r,c)=>(d(),m(e(Na),V({"data-slot":"calendar-heading",class:e(N)("text-sm font-medium",s.class)},e(t)),{default:n(({headingValue:b})=>[h(r.$slots,"default",{headingValue:b},()=>[O(w(b),1)])]),_:3},16,["class"]))}}),ht=g({__name:"CalendarNextButton",props:{nextPage:{type:Function},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=M(s,"class"),t=T(a);return(r,c)=>(d(),m(e(za),V({"data-slot":"calendar-next-button",class:e(N)(e($e)({variant:"outline"}),"absolute right-1","size-7 bg-transparent p-0 opacity-50 hover:opacity-100",s.class)},e(t)),{default:n(()=>[h(r.$slots,"default",{},()=>[i(e(Ue),{class:"size-4"})])]),_:3},16,["class"]))}}),xt=g({__name:"CalendarPrevButton",props:{prevPage:{type:Function},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=M(s,"class"),t=T(a);return(r,c)=>(d(),m(e(Ua),V({"data-slot":"calendar-prev-button",class:e(N)(e($e)({variant:"outline"}),"absolute left-1","size-7 bg-transparent p-0 opacity-50 hover:opacity-100",s.class)},e(t)),{default:n(()=>[h(r.$slots,"default",{},()=>[i(e(ze),{class:"size-4"})])]),_:3},16,["class"]))}}),$t={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8"},Ct={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},wt={class:"lg:col-span-2 space-y-8"},Dt={class:"space-y-2"},kt={class:"flex items-center gap-2"},Pt={class:"relative aspect-[16/9] w-full bg-muted"},Bt={key:1,class:"w-full h-full flex items-center justify-center rounded-t-lg"},qt={class:"text-center space-y-2"},Ot={class:"text-muted-foreground font-medium"},Vt={key:0},Ft={class:"grid grid-cols-2 gap-4"},jt={class:"text-sm font-medium text-muted-foreground"},It={class:"mt-1"},St={key:1},At={class:"grid grid-cols-2 gap-4"},Rt={key:0},Et={class:"mt-1"},Lt={key:1},Nt={class:"mt-1"},zt={class:"space-y-8"},Ut={class:"flex items-center justify-between"},Mt={class:"text-2xl font-bold"},Tt={key:0,class:"flex items-center justify-between"},Ht={class:"font-medium"},Gt={class:"flex items-center justify-between"},Wt={class:"lg:col-span-1"},Zt={class:"space-y-2"},Kt={class:"font-medium"},Xt={class:"text-muted-foreground"},Yt={class:"space-y-2"},Qt={class:"text-muted-foreground"},Jt={class:"text-muted-foreground"},es={class:"space-y-4"},as={key:0,class:"flex justify-center py-4"},$s={__name:"Show",props:{equipment:{type:Object,required:!0}},setup(l){const s=l,a=z(new Date),t=z({}),r=z(!1),c=y=>({new:"success",good:"default",fair:"warning",poor:"destructive"})[y]||"default",b=y=>new Intl.NumberFormat("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(y),x=y=>new Date(y).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),p=y=>y.split("_").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" "),$=async y=>{r.value=!0;try{const u=await da.get(`/api/equipments/${s.equipment.id}/availability`,{params:{month:y.getMonth()+1,year:y.getFullYear()}});t.value=u.data.availabilities}catch(u){console.error("Erreur lors du chargement des disponibilités:",u)}finally{r.value=!1}},B=y=>{a.value=y,$(y)};return Ce(()=>{$(a.value)}),(y,u)=>(d(),m(Qe,{title:l.equipment.name,description:l.equipment.description},{default:n(()=>[o("div",$t,[o("div",Ct,[o("div",wt,[i(e(W),null,{default:n(()=>[i(e(ne),null,{default:n(()=>[o("div",Dt,[o("div",kt,[i(e(me),{variant:"outline"},{default:n(()=>{var q;return[O(w((q=l.equipment.category)==null?void 0:q.name),1)]}),_:1}),i(e(me),{variant:c(l.equipment.condition)},{default:n(()=>[O(w(l.equipment.condition),1)]),_:1},8,["variant"])]),i(e(oe),{class:"text-3xl"},{default:n(()=>[O(w(l.equipment.name),1)]),_:1}),i(e(Je),{class:"text-lg"},{default:n(()=>[O(w(l.equipment.description),1)]),_:1})])]),_:1})]),_:1}),i(e(W),null,{default:n(()=>[i(e(K),{class:"p-0"},{default:n(()=>[o("div",Pt,[l.equipment.images&&l.equipment.images.length>0?(d(),m(st,{key:0,images:l.equipment.images},null,8,["images"])):(d(),D("div",Bt,[o("div",qt,[i(e(Re),{class:"w-12 h-12 mx-auto text-muted-foreground"}),o("p",Ot,w(l.equipment.name),1)])]))])]),_:1})]),_:1}),i(e(W),null,{default:n(()=>[i(e(K),{class:"space-y-6"},{default:n(()=>[l.equipment.specifications?(d(),D("div",Vt,[u[0]||(u[0]=o("h3",{class:"text-lg font-semibold mb-2"},"Spécifications",-1)),o("div",Ft,[(d(!0),D(X,null,Y(l.equipment.specifications,(q,S)=>(d(),D("div",{key:S},[o("h4",jt,w(p(S)),1),o("p",It,w(q),1)]))),128))])])):U("",!0),l.equipment.last_maintenance_date||l.equipment.next_maintenance_date?(d(),D("div",St,[u[3]||(u[3]=o("h3",{class:"text-lg font-semibold mb-2"},"Informations de maintenance",-1)),o("div",At,[l.equipment.last_maintenance_date?(d(),D("div",Rt,[u[1]||(u[1]=o("h4",{class:"text-sm font-medium text-muted-foreground"},"Dernière maintenance",-1)),o("p",Et,w(x(l.equipment.last_maintenance_date)),1)])):U("",!0),l.equipment.next_maintenance_date?(d(),D("div",Lt,[u[2]||(u[2]=o("h4",{class:"text-sm font-medium text-muted-foreground"},"Prochaine maintenance",-1)),o("p",Nt,w(x(l.equipment.next_maintenance_date)),1)])):U("",!0)])])):U("",!0)]),_:1})]),_:1})]),o("div",zt,[i(e(W),null,{default:n(()=>[i(e(ne),null,{default:n(()=>[i(e(oe),null,{default:n(()=>u[4]||(u[4]=[O("Tarification")])),_:1,__:[4]})]),_:1}),i(e(K),{class:"space-y-4"},{default:n(()=>[o("div",Ut,[u[5]||(u[5]=o("span",{class:"text-muted-foreground"},"Prix de location",-1)),o("span",Mt,w(b(l.equipment.rental_price))+" €",1)]),l.equipment.requires_deposit?(d(),D("div",Tt,[u[6]||(u[6]=o("span",{class:"text-muted-foreground"},"Caution requise",-1)),o("span",Ht,w(b(l.equipment.deposit_amount))+" €",1)])):U("",!0),i(e(ve)),o("div",Gt,[u[7]||(u[7]=o("span",{class:"text-muted-foreground"},"Disponibilité",-1)),i(e(me),{variant:l.equipment.is_available?"success":"destructive"},{default:n(()=>[O(w(l.equipment.is_available?"Disponible":"Indisponible"),1)]),_:1},8,["variant"])])]),_:1})]),_:1}),o("div",Wt,[i(dt,{equipment:l.equipment},null,8,["equipment"])]),i(e(W),null,{default:n(()=>[i(e(ne),null,{default:n(()=>[i(e(oe),null,{default:n(()=>u[8]||(u[8]=[O("Localisation")])),_:1,__:[8]})]),_:1}),i(e(K),{class:"space-y-4"},{default:n(()=>{var q,S,A,H;return[o("div",Zt,[o("p",Kt,w((q=l.equipment.depot)==null?void 0:q.name),1),o("p",Xt,w((S=l.equipment.depot)==null?void 0:S.city),1)]),i(e(ve)),o("div",Yt,[u[9]||(u[9]=o("h4",{class:"font-medium"},"Informations de contact",-1)),o("p",Qt,w((A=l.equipment.depot)==null?void 0:A.phone),1),o("p",Jt,w((H=l.equipment.depot)==null?void 0:H.email),1)]),i(e(ve)),o("div",es,[u[11]||(u[11]=o("h4",{class:"font-medium"},"Disponibilités",-1)),r.value?(d(),D("div",as,u[10]||(u[10]=[o("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):(d(),m(e(ct),{key:1,disabled:!0,modifiers:{today:!1},month:a.value,"onUpdate:month":B,class:"rounded-md border"},null,8,["month"])),u[12]||(u[12]=o("div",{class:"flex items-center gap-2 text-sm text-muted-foreground"},[o("div",{class:"flex items-center gap-1"},[o("div",{class:"size-2 rounded-full bg-primary"}),o("span",null,"Disponible")]),o("div",{class:"flex items-center gap-1"},[o("div",{class:"size-2 rounded-full bg-destructive"}),o("span",null,"Indisponible")])],-1))])]}),_:1})]),_:1})])])])]),_:1},8,["title","description"]))}};export{$s as default};
