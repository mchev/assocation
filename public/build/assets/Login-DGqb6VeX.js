import{d as C,b as x,g as O,h as U,c as h,o as b,w as u,i as d,u as e,a as B,B as H,f as w,m as I,E as G,A as z,H as J,z as Q,l as r,q as W,k as K,v as E,p as y}from"./app-BE8u-sem.js";import{_ as P}from"./InputError.vue_vue_type_script_setup_true_lang-D2JauFKC.js";import{_ as A}from"./TextLink.vue_vue_type_script_setup_true_lang-M5O0JRe-.js";import{P as F,c as X,_ as S}from"./index-CPuZGFGe.js";import{c as N,a as Y,P as Z,b as ee}from"./x-nMJnk2Gr.js";import{u as D,c as ae,_ as M}from"./Input.vue_vue_type_script_setup_true_lang-CQ-BBLpJ.js";import{i as T}from"./nullish-CHIgUVhi.js";import{i as j}from"./isValueEqualOrExist-B5JO9E3o.js";import{u as te}from"./useFormControl-CLZpE7Ji.js";import{z as se,l as oe,A as le,B as re,D as ie}from"./FlashMessage-DaLRFPRH.js";import{_ as ne}from"./VisuallyHiddenInput-Bikf-i0u.js";import{i as de}from"./ohash.D__AXeF1-DHF4M4F_.js";import{C as ue}from"./check-1Xe50Owm.js";import{_ as $}from"./Label.vue_vue_type_script_setup_true_lang-NUPLI0d_.js";import{_ as me}from"./Separator.vue_vue_type_script_setup_true_lang-A6sx8yjX.js";import{_ as ce}from"./AppLayout-DeVh56kZ.js";import{L as pe}from"./loader-circle-BeOTR_W3.js";import"./createLucideIcon-COLi4b30.js";import"./Separator-C63PV-FE.js";const[fe,Ze]=N("CheckboxGroupRoot");function V(m){return m==="indeterminate"}function L(m){return V(m)?"indeterminate":m?"checked":"unchecked"}const ve=C({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(m){const o=m,t=se(),n=Y(),a=x(()=>o.tabStopId||n),c=x(()=>t.currentTabStopId.value===a.value),{getItems:i,CollectionItem:v}=oe();O(()=>{o.focusable&&t.onFocusableItemAdd()}),U(()=>{o.focusable&&t.onFocusableItemRemove()});function _(s){if(s.key==="Tab"&&s.shiftKey){t.onItemShiftTab();return}if(s.target!==s.currentTarget)return;const p=le(s,t.orientation.value,t.dir.value);if(p!==void 0){if(s.metaKey||s.ctrlKey||s.altKey||!o.allowShiftKey&&s.shiftKey)return;s.preventDefault();let f=[...i().map(g=>g.ref).filter(g=>g.dataset.disabled!=="")];if(p==="last")f.reverse();else if(p==="prev"||p==="next"){p==="prev"&&f.reverse();const g=f.indexOf(s.currentTarget);f=t.loop.value?re(f,g+1):f.slice(g+1)}H(()=>ie(f))}}return(s,p)=>(b(),h(e(v),null,{default:u(()=>[d(e(F),{tabindex:c.value?0:-1,"data-orientation":e(t).orientation.value,"data-active":s.active?"":void 0,"data-disabled":s.focusable?void 0:"",as:s.as,"as-child":s.asChild,onMousedown:p[0]||(p[0]=f=>{s.focusable?e(t).onItemFocus(a.value):f.preventDefault()}),onFocus:p[1]||(p[1]=f=>e(t).onItemFocus(a.value)),onKeydown:_},{default:u(()=>[B(s.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[be,ge]=N("CheckboxRoot"),ye=C({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(m,{emit:o}){const t=m,n=o,{forwardRef:a,currentElement:c}=D(),i=fe(null),v=ae(t,"modelValue",n,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),_=x(()=>(i==null?void 0:i.disabled.value)||t.disabled),s=x(()=>T(i==null?void 0:i.modelValue.value)?v.value==="indeterminate"?"indeterminate":v.value:j(i.modelValue.value,t.value));function p(){if(T(i==null?void 0:i.modelValue.value))v.value=V(v.value)?!0:!v.value;else{const l=[...i.modelValue.value||[]];if(j(l,t.value)){const q=l.findIndex(k=>de(k,t.value));l.splice(q,1)}else l.push(t.value);i.modelValue.value=l}}const f=te(c),g=x(()=>{var l;return t.id&&c.value?(l=document.querySelector(`[for="${t.id}"]`))==null?void 0:l.innerText:void 0});return ge({disabled:_,state:s}),(l,q)=>{var k,R;return b(),h(J((k=e(i))!=null&&k.rovingFocus.value?e(ve):e(F)),I(l.$attrs,{id:l.id,ref:e(a),role:"checkbox","as-child":l.asChild,as:l.as,type:l.as==="button"?"button":void 0,"aria-checked":e(V)(s.value)?"mixed":s.value,"aria-required":l.required,"aria-label":l.$attrs["aria-label"]||g.value,"data-state":e(L)(s.value),"data-disabled":_.value?"":void 0,disabled:_.value,focusable:(R=e(i))!=null&&R.rovingFocus.value?!_.value:void 0,onKeydown:G(z(()=>{},["prevent"]),["enter"]),onClick:p}),{default:u(()=>[B(l.$slots,"default",{modelValue:e(v),state:s.value}),e(f)&&l.name&&!e(i)?(b(),h(e(ne),{key:0,type:"checkbox",checked:!!s.value,name:l.name,value:l.value,disabled:_.value,required:l.required},null,8,["checked","name","value","disabled","required"])):w("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),he=C({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(m){const{forwardRef:o}=D(),t=be();return(n,a)=>(b(),h(e(Z),{present:n.forceMount||e(V)(e(t).state.value)||e(t).state.value===!0},{default:u(()=>[d(e(F),I({ref:e(o),"data-state":e(L)(e(t).state.value),"data-disabled":e(t).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":n.asChild,as:n.as},n.$attrs),{default:u(()=>[B(n.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),_e=C({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(m,{emit:o}){const t=m,n=o,a=x(()=>{const{class:i,...v}=t;return v}),c=ee(a,n);return(i,v)=>(b(),h(e(ye),I({"data-slot":"checkbox"},e(c),{class:e(X)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t.class)}),{default:u(()=>[d(e(he),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:u(()=>[B(i.$slots,"default",{},()=>[d(e(ue),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}}),xe={class:"max-w-xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},we={key:0,class:"mb-4 text-center text-sm font-medium text-green-600"},Ce={key:1,class:"mb-4 text-center text-sm font-medium text-red-600"},ke={class:"space-y-6"},Ve={class:"grid gap-4"},Be={class:"relative"},Se={class:"relative"},$e={class:"absolute inset-0 flex items-center"},Ie={class:"grid gap-2"},Fe={class:"grid gap-2"},qe={class:"flex items-center justify-between"},Re={class:"flex items-center justify-between"},Ke={class:"text-center text-sm text-muted-foreground"},ea=C({__name:"Login",props:{status:{},canResetPassword:{type:Boolean},error:{}},setup(m){const o=Q({email:"",password:"",remember:!1}),t=()=>{o.post(route("login"),{onFinish:()=>o.reset("password")})};return(n,a)=>(b(),h(ce,{title:"Connexion à votre compte",description:"Entrez votre email et mot de passe ci-dessous pour vous connecter"},{header:u(()=>a[3]||(a[3]=[r("h1",{class:"text-2xl font-bold"},"Connexion",-1)])),default:u(()=>[d(e(W),{title:"Connexion"}),r("div",xe,[n.status?(b(),K("div",we,E(n.status),1)):w("",!0),n.error?(b(),K("div",Ce,E(n.error),1)):w("",!0),r("div",ke,[r("div",Ve,[d(e(S),{variant:"outline",class:"w-full",asChild:""},{default:u(()=>a[4]||(a[4]=[r("a",{href:"/auth/google/redirect",rel:"nofollow"},[r("img",{src:"https://www.google.com/favicon.ico",alt:"Google",class:"size-5 mr-2"}),y(" Continuer avec Google ")],-1)])),_:1,__:[4]}),r("div",Be,[d(e(S),{variant:"outline",class:"w-full",asChild:"",disabled:""},{default:u(()=>a[5]||(a[5]=[r("a",{href:"#",rel:"nofollow"},[r("img",{src:"https://www.helloasso.com/favicon.ico",alt:"HelloAsso",class:"size-4 mr-2"}),y(" Continuer avec HelloAsso ")],-1)])),_:1,__:[5]}),a[6]||(a[6]=r("div",{class:"absolute -top-1 -right-1 bg-gray-500 text-white text-xs px-2 py-1 rounded-full font-medium"}," Prochainement ",-1))])]),r("div",Se,[r("div",$e,[d(e(me),{class:"w-full"})]),a[7]||(a[7]=r("div",{class:"relative flex justify-center text-xs uppercase"},[r("span",{class:"bg-background px-2 text-muted-foreground"},"Ou")],-1))]),r("form",{onSubmit:z(t,["prevent"]),class:"grid gap-6"},[r("div",Ie,[d(e($),{for:"email"},{default:u(()=>a[8]||(a[8]=[y("Adresse email")])),_:1,__:[8]}),d(e(M),{id:"email",type:"email",required:"",autofocus:"",tabindex:1,autocomplete:"email",modelValue:e(o).email,"onUpdate:modelValue":a[0]||(a[0]=c=>e(o).email=c),placeholder:"email@exemple.com"},null,8,["modelValue"]),d(P,{message:e(o).errors.email},null,8,["message"])]),r("div",Fe,[r("div",qe,[d(e($),{for:"password"},{default:u(()=>a[9]||(a[9]=[y("Mot de passe")])),_:1,__:[9]}),n.canResetPassword?(b(),h(A,{key:0,href:n.route("password.request"),class:"text-sm",tabindex:5},{default:u(()=>a[10]||(a[10]=[y(" Mot de passe oublié ? ")])),_:1,__:[10]},8,["href"])):w("",!0)]),d(e(M),{id:"password",type:"password",required:"",tabindex:2,autocomplete:"current-password",modelValue:e(o).password,"onUpdate:modelValue":a[1]||(a[1]=c=>e(o).password=c),placeholder:"Mot de passe"},null,8,["modelValue"]),d(P,{message:e(o).errors.password},null,8,["message"])]),r("div",Re,[d(e($),{for:"remember",class:"flex items-center space-x-3"},{default:u(()=>[d(e(_e),{id:"remember",modelValue:e(o).remember,"onUpdate:modelValue":a[2]||(a[2]=c=>e(o).remember=c),tabindex:3},null,8,["modelValue"]),a[11]||(a[11]=r("span",null,"Se souvenir de moi",-1))]),_:1,__:[11]})]),d(e(S),{type:"submit",class:"w-full",tabindex:4,disabled:e(o).processing},{default:u(()=>[e(o).processing?(b(),h(e(pe),{key:0,class:"h-4 w-4 animate-spin mr-2"})):w("",!0),a[12]||(a[12]=y(" Se connecter "))]),_:1,__:[12]},8,["disabled"])],32),r("div",Ke,[a[14]||(a[14]=y(" Vous n'avez pas de compte ? ")),d(A,{href:n.route("register"),tabindex:5},{default:u(()=>a[13]||(a[13]=[y("S'inscrire")])),_:1,__:[13]},8,["href"])])])])]),_:1}))}});export{ea as default};
