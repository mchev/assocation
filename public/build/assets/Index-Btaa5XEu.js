import{_ as b}from"./AppLayout-C0_z0Zdy.js";import{_ as z}from"./OrganisationLayout.vue_vue_type_script_setup_true_lang-BpBZ3Lwf.js";import{k as g,c as k,o as r,w as a,b as t,a as o,d as s,i as c,e as n,g as m,F as y,r as $,h as B,t as l}from"./app-BYBpYXXc.js";import{_ as u}from"./index-D8Kwwrsm.js";import{_ as T,a as V}from"./CardContent.vue_vue_type_script_setup_true_lang-C0yh-7SO.js";import{_ as h}from"./HeadingSmall.vue_vue_type_script_setup_true_lang-R6aE_tSq.js";import{_ as q,a as A}from"./DialogContent.vue_vue_type_script_setup_true_lang-8rM0i-VY.js";import{_ as N,a as G}from"./DialogFooter.vue_vue_type_script_setup_true_lang-qq88NfDW.js";import{_ as M,a as P}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Btrk-sha.js";import{B as S}from"./building-2-Brd1vpZV.js";import{M as j}from"./map-pin-Dkw44MBK.js";import{P as F,T as E}from"./trash-2-CXuVrXjL.js";import{T as I}from"./triangle-alert-DXfwgE8y.js";import"./FlashMessage-jUUGV3Bi.js";import"./UserDropdown-B0_B6Z2W.js";import"./createLucideIcon-BPhbyT7J.js";import"./Teleport-nsFEvGTL.js";import"./useForwardExpose-C_9AdpuD.js";import"./index-DvJ-ZFn7.js";import"./package-Bz3lVHSv.js";import"./loader-circle-CXEBVQ--.js";import"./Input.vue_vue_type_script_setup_true_lang-BudlBpqL.js";import"./plus-BS9TlObs.js";import"./Heading.vue_vue_type_script_setup_true_lang-CYFBq-QC.js";import"./Separator.vue_vue_type_script_setup_true_lang-5FyZH7Qn.js";import"./Separator-Bk941-Pi.js";import"./DialogPortal-Ccwc0yv-.js";import"./DialogDescription-Bg8NyKoy.js";import"./DialogTitle-DyyjDVR0.js";const L={class:"space-y-6"},U={class:"space-y-4"},H={class:"space-y-4"},J={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},K={class:"space-y-3"},O={class:"flex items-center gap-2"},Q={class:"text-base font-semibold text-foreground"},R={key:0,class:"text-sm text-muted-foreground"},W={class:"flex items-start gap-2 text-sm text-muted-foreground"},X={class:"flex items-center gap-2 self-start sm:self-center"},Y={class:"font-medium text-foreground"},Z={key:0,class:"rounded-lg border p-4 space-y-2"},ee={class:"list-disc list-inside space-y-1"},se={key:1,class:"text-sm"},qe={__name:"Index",props:{depots:{type:Array,default:()=>[]}},setup(C){const d=g(!1),p=g(null),w=f=>{p.value=f,d.value=!0},D=()=>{c.delete(route("app.organizations.depots.destroy",p.value.id),{preserveScroll:!0}),d.value=!1};return(f,e)=>(r(),k(b,{title:"Gestion des dépôts"},{default:a(()=>[t(z,null,{default:a(()=>[o("section",L,[t(h,{title:"Gestion des dépôts",description:"Gérez les lieux de stockage de votre organisation."}),o("div",U,[t(s(u),{onClick:e[0]||(e[0]=i=>s(c).visit(f.route("app.organizations.depots.create")))},{default:a(()=>e[3]||(e[3]=[n(" Ajouter un dépôt ",-1)])),_:1,__:[3]}),o("div",H,[(r(!0),m(y,null,$(C.depots,i=>(r(),k(s(T),{key:i.id,class:"group"},{default:a(()=>[t(s(V),{class:"p-6"},{default:a(()=>[o("div",J,[o("div",K,[o("div",O,[t(s(S),{class:"h-5 w-5 text-primary-500 flex-shrink-0"}),o("h3",Q,l(i.name),1)]),i.description?(r(),m("p",R,l(i.description),1)):B("",!0),o("div",W,[t(s(j),{class:"h-4 w-4 mt-0.5 flex-shrink-0"}),o("div",null,[o("div",null,l(i.address),1),o("div",null,l(i.postal_code)+" "+l(i.city),1)])])]),o("div",X,[t(s(u),{variant:"outline",size:"sm",onClick:_=>s(c).visit(f.route("app.organizations.depots.edit",i.id))},{default:a(()=>[t(s(F),{class:"h-4 w-4 mr-2"}),e[4]||(e[4]=n(" Modifier ",-1))]),_:2,__:[4]},1032,["onClick"]),t(s(u),{variant:"destructive",size:"sm",onClick:_=>w(i)},{default:a(()=>[t(s(E),{class:"h-4 w-4 mr-2"}),e[5]||(e[5]=n(" Supprimer ",-1))]),_:2,__:[5]},1032,["onClick"])])])]),_:2},1024)]),_:2},1024))),128))])])])]),_:1}),t(s(q),{open:d.value,"onUpdate:open":e[2]||(e[2]=i=>d.value=i)},{default:a(()=>[t(s(A),{class:"sm:max-w-[500px]"},{default:a(()=>[t(s(M),null,{default:a(()=>[t(s(P),{class:"flex items-center gap-2"},{default:a(()=>[t(s(I),{class:"h-5 w-5 text-destructive"}),e[6]||(e[6]=n(" Confirmation de suppression ",-1))]),_:1,__:[6]}),t(s(N),{class:"space-y-4"},{default:a(()=>{var i,_,v;return[o("p",null,[e[7]||(e[7]=n(" Vous êtes sur le point de supprimer le dépôt ",-1)),o("span",Y,l((i=p.value)==null?void 0:i.name),1),e[8]||(e[8]=n(". ",-1))]),(v=(_=p.value)==null?void 0:_.equipments)!=null&&v.length?(r(),m("div",Z,[e[9]||(e[9]=o("p",{class:"font-medium text-foreground"}," Ce dépôt contient les équipements suivants qui devront être réaffectés : ",-1)),o("ul",ee,[(r(!0),m(y,null,$(p.value.equipments,x=>(r(),m("li",{key:x.id,class:"text-sm"},l(x.name),1))),128))])])):(r(),m("p",se," Ce dépôt ne contient aucun équipement. "))]}),_:1})]),_:1}),t(s(G),null,{default:a(()=>[t(s(u),{variant:"outline",onClick:e[1]||(e[1]=i=>d.value=!1)},{default:a(()=>e[10]||(e[10]=[n(" Annuler ",-1)])),_:1,__:[10]}),t(s(u),{variant:"destructive",onClick:D},{default:a(()=>e[11]||(e[11]=[n(" Confirmer la suppression ",-1)])),_:1,__:[11]})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}};export{qe as default};
