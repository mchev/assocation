import{_ as D}from"./AppLayout-DbSWwQMK.js";import{_ as b}from"./OrganisationLayout.vue_vue_type_script_setup_true_lang-BONBGqf0.js";import{r as x,c as z,o as r,w as a,i as s,l as i,u as t,J as c,p as n,k as l,F as y,v as k,f as B,s as d}from"./app-CLUcKi_g.js";import{_ as u}from"./index-Wv5D50WL.js";import{_ as h}from"./HeadingSmall.vue_vue_type_script_setup_true_lang-IUkRVt2e.js";import{_ as T,a as V}from"./DialogContent.vue_vue_type_script_setup_true_lang-xe56ftC7.js";import{_ as q,a as A}from"./DialogFooter.vue_vue_type_script_setup_true_lang-BbUQab95.js";import{_ as N,a as j}from"./DialogTitle.vue_vue_type_script_setup_true_lang-kLkxjhRT.js";import{B as G}from"./building-2--PQHSmGW.js";import{M}from"./map-pin-CXjfE2IO.js";import{P,T as S}from"./trash-2-R_CNvnYn.js";import{T as F}from"./triangle-alert-C7llfQDf.js";import"./FlashMessage-BTTWmtq4.js";import"./x-ZsLplhlc.js";import"./Input.vue_vue_type_script_setup_true_lang-CfFq7RCy.js";import"./createLucideIcon-CjVdiHwc.js";import"./loader-circle-Cp_DxJDi.js";import"./Heading.vue_vue_type_script_setup_true_lang-D21t2hpa.js";import"./Separator.vue_vue_type_script_setup_true_lang-DhxPyRy8.js";import"./Separator-B2pea5hV.js";const J={class:"space-y-6"},E={class:"space-y-4"},I={class:"flex justify-end"},L={class:"divide-y divide-gray-200 rounded-lg border"},U={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},H={class:"space-y-3"},K={class:"flex items-center gap-2"},O={class:"text-base font-semibold text-gray-900"},Q={key:0,class:"text-sm text-gray-500"},R={class:"flex items-start gap-2 text-sm text-gray-600"},W={class:"flex items-center gap-2 self-start sm:self-center"},X={class:"font-medium text-foreground"},Y={key:0,class:"rounded-lg border p-4 space-y-2"},Z={class:"list-disc list-inside space-y-1"},ee={key:1,class:"text-sm"},$e={__name:"Index",props:{depots:{type:Array,default:()=>[]}},setup($){const m=x(!1),p=x(null),C=f=>{p.value=f,m.value=!0},w=()=>{c.delete(route("app.organizations.depots.destroy",p.value.id),{preserveScroll:!0}),m.value=!1};return(f,e)=>(r(),z(D,{title:"Gestion des dépôts"},{default:a(()=>[s(b,null,{default:a(()=>[i("section",J,[s(h,{title:"Gestion des dépôts",description:"Gérez les lieux de stockage de votre organisation."}),i("div",E,[i("div",I,[s(t(u),{onClick:e[0]||(e[0]=o=>t(c).visit(f.route("app.organizations.depots.create")))},{default:a(()=>e[3]||(e[3]=[n(" Ajouter un dépôt ")])),_:1,__:[3]})]),i("div",L,[(r(!0),l(y,null,k($.depots,o=>(r(),l("div",{key:o.id,class:"group p-4 sm:p-6 hover:bg-gray-50"},[i("div",U,[i("div",H,[i("div",K,[s(t(G),{class:"h-5 w-5 text-primary-500 flex-shrink-0"}),i("h3",O,d(o.name),1)]),o.description?(r(),l("p",Q,d(o.description),1)):B("",!0),i("div",R,[s(t(M),{class:"h-4 w-4 mt-0.5 flex-shrink-0"}),i("div",null,[i("div",null,d(o.address),1),i("div",null,d(o.postal_code)+" "+d(o.city),1)])])]),i("div",W,[s(t(u),{variant:"outline",size:"sm",onClick:_=>t(c).visit(f.route("app.organizations.depots.edit",o.id))},{default:a(()=>[s(t(P),{class:"h-4 w-4 mr-2"}),e[4]||(e[4]=n(" Modifier "))]),_:2,__:[4]},1032,["onClick"]),s(t(u),{variant:"destructive",size:"sm",onClick:_=>C(o)},{default:a(()=>[s(t(S),{class:"h-4 w-4 mr-2"}),e[5]||(e[5]=n(" Supprimer "))]),_:2,__:[5]},1032,["onClick"])])])]))),128))])])])]),_:1}),s(t(T),{open:m.value,"onUpdate:open":e[2]||(e[2]=o=>m.value=o)},{default:a(()=>[s(t(V),{class:"sm:max-w-[500px]"},{default:a(()=>[s(t(N),null,{default:a(()=>[s(t(j),{class:"flex items-center gap-2"},{default:a(()=>[s(t(F),{class:"h-5 w-5 text-destructive"}),e[6]||(e[6]=n(" Confirmation de suppression "))]),_:1,__:[6]}),s(t(q),{class:"space-y-4"},{default:a(()=>{var o,_,v;return[i("p",null,[e[7]||(e[7]=n(" Vous êtes sur le point de supprimer le dépôt ")),i("span",X,d((o=p.value)==null?void 0:o.name),1),e[8]||(e[8]=n(". "))]),(v=(_=p.value)==null?void 0:_.equipments)!=null&&v.length?(r(),l("div",Y,[e[9]||(e[9]=i("p",{class:"font-medium text-foreground"}," Ce dépôt contient les équipements suivants qui devront être réaffectés : ",-1)),i("ul",Z,[(r(!0),l(y,null,k(p.value.equipments,g=>(r(),l("li",{key:g.id,class:"text-sm"},d(g.name),1))),128))])])):(r(),l("p",ee," Ce dépôt ne contient aucun équipement. "))]}),_:1})]),_:1}),s(t(A),null,{default:a(()=>[s(t(u),{variant:"outline",onClick:e[1]||(e[1]=o=>m.value=!1)},{default:a(()=>e[10]||(e[10]=[n(" Annuler ")])),_:1,__:[10]}),s(t(u),{variant:"destructive",onClick:w},{default:a(()=>e[11]||(e[11]=[n(" Confirmer la suppression ")])),_:1,__:[11]})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}};export{$e as default};
