import V from"./Layout-Bfrumh0E.js";import{_ as j}from"./index-BQOIRAZq.js";import{_ as c}from"./index-Dwxdxp_i.js";import{_ as b,a as $,b as k}from"./index-eau_Dils.js";import{c as f,o as m,w as l,a as s,b as e,d as t,i as v,e as r,t as n,n as B,h as x,g as N,F as R,r as A}from"./app-DSla3z0K.js";import{_ as D,a as E,b as C,c as d,d as I,e as u}from"./TableHeader.vue_vue_type_script_setup_true_lang-CALkOfpE.js";import{_,a as p}from"./CardContent.vue_vue_type_script_setup_true_lang-Ciz-ckll.js";import{_ as y,a as h}from"./CardTitle.vue_vue_type_script_setup_true_lang-BvVCpdb_.js";import{A as S}from"./arrow-left-B6AmlGn3.js";import{B as z}from"./building-D1R1jZBk.js";import{X as T}from"./Teleport-V7y6OMWd.js";import{c as M,d as L,U as Q}from"./FlashMessage-C4FKtRlT.js";import{P as F}from"./plus-Czy5NT5v.js";import{P as H,T as O}from"./trash-2-C79o11Rz.js";import{M as U}from"./mail-CEu0FgBD.js";import{P as J}from"./phone-ChRzaf7Q.js";import{c as X}from"./createLucideIcon-BWAmuBxz.js";import{C as G}from"./circle-alert-DQAOXowp.js";import"./AppLayout-Cz2fHdLy.js";import"./upload-CzQAfZ59.js";import"./useForwardExpose-Bog1gQoQ.js";import"./UserDropdown-DkFXB8Ol.js";import"./package-CbpsGee8.js";import"./loader-circle-BoML4wO6.js";import"./Input.vue_vue_type_script_setup_true_lang-Q5cW54R8.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=X("MessageSquareQuoteIcon",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]),W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 py-8"},Y={class:"bg-white rounded-lg shadow-sm p-6"},Z={class:"mb-6"},tt={class:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4 mb-6"},st={class:"flex-1"},et={class:"text-2xl sm:text-3xl font-bold text-gray-900"},at={class:"flex items-center gap-2 mt-2"},lt={class:"text-lg sm:text-xl font-semibold text-gray-600"},it={class:"flex flex-col items-start sm:items-end gap-2"},rt={class:"flex gap-2"},nt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},ot={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},dt={class:"flex items-start gap-3"},ut={class:"text-gray-900"},mt={class:"flex items-start gap-3"},ft={class:"text-gray-900"},gt={class:"flex items-start gap-3"},ct={class:"text-gray-900"},vt={class:"flex items-start gap-3"},xt={class:"text-gray-900"},_t={class:"flex items-start gap-3"},pt={class:"text-gray-900"},yt={class:"flex items-start gap-3"},ht={class:"text-gray-900"},wt={class:"grid grid-cols-1 gap-6"},bt={class:"flex items-start gap-3"},$t={class:"text-gray-900"},kt={class:"flex items-start gap-3"},Ct={class:"text-gray-900"},zt={class:"flex items-start gap-3"},Mt={class:"text-gray-900"},qt={class:"text-sm whitespace-pre-wrap"},Pt={class:"flex justify-between items-center"},Vt={class:"text-right"},jt={class:"text-xl font-bold text-gray-900"},ls={__name:"Edit",props:{reservation:{type:Object,required:!0}},setup(i){const w=i,q=()=>{confirm("Voulez-vous vraiment annuler cette réservation ?")&&v.delete(route("app.organizations.reservations.in.destroy",{reservation:w.reservation.id}))},P=g=>{confirm("Voulez-vous vraiment retirer cet équipement de la réservation ?")&&v.delete(route("organizations.reservations.in.items.destroy",{reservation:w.reservation.id,item:g}))};return(g,a)=>(m(),f(V,{title:"Réservation du "+i.reservation.start_date+" au "+i.reservation.end_date},{default:l(()=>[s("div",W,[s("div",Y,[s("div",Z,[e(t(c),{variant:"ghost",class:"gap-2",onClick:a[0]||(a[0]=o=>t(v).visit(g.route("app.organizations.reservations.in.index")))},{default:l(()=>[e(t(S),{class:"h-4 w-4"}),a[1]||(a[1]=r(" Retour aux réservations ",-1))]),_:1})]),s("div",tt,[s("div",st,[s("h1",et," Réservation du "+n(i.reservation.start_date)+" au "+n(i.reservation.end_date),1),s("div",at,[e(t(z),{class:"h-4 w-4 text-gray-500"}),s("h2",lt,n(i.reservation.from_organization.name),1)])]),s("div",it,[e(t(j),{class:B(`${i.reservation.status_color}`)},{default:l(()=>[r(n(i.reservation.status_label),1)]),_:1},8,["class"]),s("div",rt,[["pending","confirmed"].includes(i.reservation.status)?(m(),f(t(c),{key:0,variant:"destructive",size:"sm",onClick:q},{default:l(()=>[e(t(T),{class:"h-4 w-4"}),a[2]||(a[2]=r(" Annuler la réservation ",-1))]),_:1})):x("",!0)])])]),s("div",nt,[e(t(_),null,{default:l(()=>[e(t(y),null,{default:l(()=>[e(t(h),{class:"text-lg"},{default:l(()=>[...a[3]||(a[3]=[r("Détails de la réservation",-1)])]),_:1})]),_:1}),e(t(p),null,{default:l(()=>[s("div",ot,[s("div",dt,[e(t(M),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[4]||(a[4]=s("h3",{class:"text-sm font-medium text-gray-500"},"Récupération",-1)),s("p",ut,n(i.reservation.start_date),1)])]),s("div",mt,[e(t(M),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[5]||(a[5]=s("h3",{class:"text-sm font-medium text-gray-500"},"Retour",-1)),s("p",ft,n(i.reservation.end_date),1)])]),s("div",gt,[e(t(L),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[6]||(a[6]=s("h3",{class:"text-sm font-medium text-gray-500"},"Durée",-1)),s("p",ct,n(i.reservation.duration)+" jours",1)])]),s("div",vt,[e(t(z),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[7]||(a[7]=s("h3",{class:"text-sm font-medium text-gray-500"},"Organisation emprunteuse",-1)),s("p",xt,n(i.reservation.to_organization.name),1)])]),s("div",_t,[e(t(F),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[8]||(a[8]=s("h3",{class:"text-sm font-medium text-gray-500"},"Créée le",-1)),s("p",pt,n(i.reservation.created_at),1)])]),s("div",yt,[e(t(H),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[9]||(a[9]=s("h3",{class:"text-sm font-medium text-gray-500"},"Dernière mise à jour",-1)),s("p",ht,n(i.reservation.updated_at),1)])])])]),_:1})]),_:1}),e(t(_),null,{default:l(()=>[e(t(y),null,{default:l(()=>[e(t(h),{class:"text-lg"},{default:l(()=>[...a[10]||(a[10]=[r("Contact",-1)])]),_:1})]),_:1}),e(t(p),null,{default:l(()=>[s("div",wt,[s("div",bt,[e(t(Q),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[11]||(a[11]=s("h3",{class:"text-sm font-medium text-gray-500"},"Nom",-1)),s("p",$t,n(i.reservation.user.name),1)])]),s("div",kt,[e(t(U),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[12]||(a[12]=s("h3",{class:"text-sm font-medium text-gray-500"},"Email",-1)),s("p",Ct,n(i.reservation.user.email),1)])]),s("div",zt,[e(t(J),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[13]||(a[13]=s("h3",{class:"text-sm font-medium text-gray-500"},"Téléphone",-1)),s("p",Mt,n(i.reservation.user.phone||"Non renseigné"),1)])])])]),_:1})]),_:1})]),e(t(b),{class:"mb-6"},{default:l(()=>[e(t(K),{class:"h-4 w-4"}),e(t($),null,{default:l(()=>[...a[14]||(a[14]=[r("Message de la demande",-1)])]),_:1}),e(t(k),null,{default:l(()=>[s("div",qt,n(i.reservation.notes),1)]),_:1})]),_:1}),e(t(b),{variant:"warning",class:"mb-6"},{default:l(()=>[e(t(G),{class:"h-4 w-4"}),e(t($),null,{default:l(()=>[...a[15]||(a[15]=[r("Information importante",-1)])]),_:1}),e(t(k),null,{default:l(()=>[...a[16]||(a[16]=[r(" Pour garantir la sécurité du matériel, les informations de localisation ne sont pas visibles sur cette page.",-1),s("br",null,null,-1),r(" Merci de contacter directement l'organisation pour organiser la récupération. ",-1)])]),_:1})]),_:1}),e(t(_),null,{default:l(()=>[e(t(y),null,{default:l(()=>[s("div",Pt,[e(t(h),{class:"text-lg"},{default:l(()=>[...a[17]||(a[17]=[r("Matériel réservé",-1)])]),_:1}),s("div",Vt,[a[18]||(a[18]=s("p",{class:"text-sm text-gray-600"},"Prix total",-1)),s("p",jt,n(i.reservation.total)+" €",1)])])]),_:1}),e(t(p),null,{default:l(()=>[e(t(D),null,{default:l(()=>[e(t(E),null,{default:l(()=>[e(t(C),null,{default:l(()=>[e(t(d),null,{default:l(()=>[...a[19]||(a[19]=[r("Équipement",-1)])]),_:1}),e(t(d),null,{default:l(()=>[...a[20]||(a[20]=[r("Qté",-1)])]),_:1}),e(t(d),null,{default:l(()=>[...a[21]||(a[21]=[r("Jours",-1)])]),_:1}),e(t(d),null,{default:l(()=>[...a[22]||(a[22]=[r("Prix/jour",-1)])]),_:1}),e(t(d),null,{default:l(()=>[...a[23]||(a[23]=[r("Sous-total",-1)])]),_:1}),e(t(d),null,{default:l(()=>[...a[24]||(a[24]=[r("Caution",-1)])]),_:1}),e(t(d),null,{default:l(()=>[...a[25]||(a[25]=[r("Emplacement",-1)])]),_:1}),i.reservation.status==="pending"?(m(),f(t(d),{key:0,class:"w-[100px]"})):x("",!0)]),_:1})]),_:1}),e(t(I),null,{default:l(()=>[(m(!0),N(R,null,A(i.reservation.items,o=>(m(),f(t(C),{key:o.id},{default:l(()=>[e(t(u),{class:"font-medium"},{default:l(()=>[r(n(o.equipment.name),1)]),_:2},1024),e(t(u),null,{default:l(()=>[r(n(o.quantity),1)]),_:2},1024),e(t(u),null,{default:l(()=>[r(n(i.reservation.duration),1)]),_:1}),e(t(u),null,{default:l(()=>[r(n(o.price)+" €",1)]),_:2},1024),e(t(u),null,{default:l(()=>[r(n(o.total_price)+" €",1)]),_:2},1024),e(t(u),null,{default:l(()=>[r(n(o.equipment.deposit_amount)+" €",1)]),_:2},1024),e(t(u),null,{default:l(()=>[r(n(o.city),1)]),_:2},1024),i.reservation.status==="pending"?(m(),f(t(u),{key:0},{default:l(()=>[e(t(c),{variant:"ghost",size:"icon",class:"text-destructive hover:text-destructive/90",onClick:Bt=>P(o.id)},{default:l(()=>[e(t(O),{class:"h-4 w-4"})]),_:1},8,["onClick"])]),_:2},1024)):x("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1},8,["title"]))}};export{ls as default};
