import{b as M,u as C}from"./useForwardExpose-CAWtCz5G.js";import{P as w}from"./index-QaBCJxBS.js";import{h as y,i as B,q as R,j as g,u as t,c as m,o as v,w as f,z as O,m as k,b as F,g as h,B as K,C as V}from"./app-BT8d_koR.js";import{c as N,b as E,g as P,h as S,m as T,_ as j,p as _,f as z,P as A,e as L,k as q}from"./useForwardPropsEmits-BlS4RVnc.js";const[D,H]=N("DialogRoot"),Z=y({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(u,{emit:l}){const s=u,e=M(s,"open",l,{defaultValue:s.defaultOpen,passive:s.open===void 0}),p=B(),d=B(),{modal:r}=R(s);return H({open:e,modal:r,openModal:()=>{e.value=!0},onOpenChange:a=>{e.value=a},onOpenToggle:()=>{e.value=!e.value},contentId:"",titleId:"",descriptionId:"",triggerElement:p,contentElement:d}),(a,o)=>g(a.$slots,"default",{open:t(e),close:()=>e.value=!1})}}),x=y({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(u){const l=u;C();const s=D();return(n,e)=>(v(),m(t(w),O(l,{type:n.as==="button"?"button":void 0,onClick:e[0]||(e[0]=p=>t(s).onOpenChange(!1))}),{default:f(()=>[g(n.$slots,"default")]),_:3},16,["type"]))}}),I=y({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(u,{emit:l}){const s=u,n=l,e=D(),{forwardRef:p,currentElement:d}=C();return e.titleId||(e.titleId=E(void 0,"reka-dialog-title")),e.descriptionId||(e.descriptionId=E(void 0,"reka-dialog-description")),k(()=>{e.contentElement=d,P()!==document.body&&(e.triggerElement.value=P())}),(r,a)=>(v(),m(t(j),{"as-child":"",loop:"",trapped:s.trapFocus,onMountAutoFocus:a[5]||(a[5]=o=>n("openAutoFocus",o)),onUnmountAutoFocus:a[6]||(a[6]=o=>n("closeAutoFocus",o))},{default:f(()=>[F(t(S),O({id:t(e).contentId,ref:t(p),as:r.as,"as-child":r.asChild,"disable-outside-pointer-events":r.disableOutsidePointerEvents,role:"dialog","aria-describedby":t(e).descriptionId,"aria-labelledby":t(e).titleId,"data-state":t(T)(t(e).open.value)},r.$attrs,{onDismiss:a[0]||(a[0]=o=>t(e).onOpenChange(!1)),onEscapeKeyDown:a[1]||(a[1]=o=>n("escapeKeyDown",o)),onFocusOutside:a[2]||(a[2]=o=>n("focusOutside",o)),onInteractOutside:a[3]||(a[3]=o=>n("interactOutside",o)),onPointerDownOutside:a[4]||(a[4]=o=>n("pointerDownOutside",o))}),{default:f(()=>[g(r.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),U=y({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(u,{emit:l}){const s=u,n=l,e=D(),p=_(n),{forwardRef:d,currentElement:r}=C();return z(r),(a,o)=>(v(),m(I,O({...s,...t(p)},{ref:t(d),"trap-focus":t(e).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:o[0]||(o[0]=i=>{var c;i.defaultPrevented||(i.preventDefault(),(c=t(e).triggerElement.value)==null||c.focus())}),onPointerDownOutside:o[1]||(o[1]=i=>{const c=i.detail.originalEvent,$=c.button===0&&c.ctrlKey===!0;(c.button===2||$)&&i.preventDefault()}),onFocusOutside:o[2]||(o[2]=i=>{i.preventDefault()})}),{default:f(()=>[g(a.$slots,"default")]),_:3},16,["trap-focus"]))}}),G=y({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(u,{emit:l}){const s=u,e=_(l);C();const p=D(),d=B(!1),r=B(!1);return(a,o)=>(v(),m(I,O({...s,...t(e)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:o[0]||(o[0]=i=>{var c;i.defaultPrevented||(d.value||(c=t(p).triggerElement.value)==null||c.focus(),i.preventDefault()),d.value=!1,r.value=!1}),onInteractOutside:o[1]||(o[1]=i=>{var b;i.defaultPrevented||(d.value=!0,i.detail.originalEvent.type==="pointerdown"&&(r.value=!0));const c=i.target;((b=t(p).triggerElement.value)==null?void 0:b.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.value&&i.preventDefault()})}),{default:f(()=>[g(a.$slots,"default")]),_:3},16))}}),ee=y({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(u,{emit:l}){const s=u,n=l,e=D(),p=_(n),{forwardRef:d}=C();return(r,a)=>(v(),m(t(A),{present:r.forceMount||t(e).open.value},{default:f(()=>[t(e).modal.value?(v(),m(U,O({key:0,ref:t(d)},{...s,...t(p),...r.$attrs}),{default:f(()=>[g(r.$slots,"default")]),_:3},16)):(v(),m(G,O({key:1,ref:t(d)},{...s,...t(p),...r.$attrs}),{default:f(()=>[g(r.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),J=y({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(u){const l=D();return L(!0),C(),(s,n)=>(v(),m(t(w),{as:s.as,"as-child":s.asChild,"data-state":t(l).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:f(()=>[g(s.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),te=y({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(u){const l=D(),{forwardRef:s}=C();return(n,e)=>{var p;return(p=t(l))!=null&&p.modal.value?(v(),m(t(A),{key:0,present:n.forceMount||t(l).open.value},{default:f(()=>[F(J,O(n.$attrs,{ref:t(s),as:n.as,"as-child":n.asChild}),{default:f(()=>[g(n.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):h("",!0)}}}),oe=y({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(u){const l=u;return(s,n)=>(v(),m(t(q),K(V(l)),{default:f(()=>[g(s.$slots,"default")]),_:3},16))}});export{Z as _,te as a,oe as b,x as c,ee as d,D as i};
