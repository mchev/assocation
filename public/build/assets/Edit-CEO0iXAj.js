import P from"./Layout-D20edtEW.js";import{_ as C,e as z,c as R}from"./FlashMessage-BRYEoNQ6.js";import{c as w,a as D,_ as y}from"./index-Df75SVeK.js";import{d as $,k as g,o,a as b,x,u as t,c as v,w as r,l as e,i as s,J as h,p as l,s as n,f as k,F as I,v as N}from"./app-D59qn6es.js";import{_ as T,a as E,b as M,c,d as L,e as f}from"./TableHeader.vue_vue_type_script_setup_true_lang-Bh_HerqM.js";import{_ as V,a as j}from"./CardContent.vue_vue_type_script_setup_true_lang-BDzXw9sT.js";import{_ as A,a as q}from"./CardTitle.vue_vue_type_script_setup_true_lang-BbSAsEZG.js";import{A as F}from"./arrow-left-DVe273t3.js";import{c as J}from"./createLucideIcon-CuNPZIeP.js";import{X as O}from"./x-DvVY93Ed.js";import{C as S}from"./clock-DXt4wA40.js";import{P as Q,T as X}from"./trash-2-BC0hifEr.js";import{C as G}from"./circle-alert-BKYbWPOw.js";import"./AppLayout-9DTPSYqC.js";import"./upload-D9gug_JK.js";import"./Input.vue_vue_type_script_setup_true_lang-5S6eoXfr.js";import"./loader-circle-DNSueVq7.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=J("BuildingIcon",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),H=$({__name:"Alert",props:{class:{},variant:{}},setup(i){const d=i;return(u,_)=>(o(),g("div",{"data-slot":"alert",class:x(t(w)(t(W)({variant:u.variant}),d.class)),role:"alert"},[b(u.$slots,"default")],2))}}),K=$({__name:"AlertDescription",props:{class:{}},setup(i){const d=i;return(u,_)=>(o(),g("div",{"data-slot":"alert-description",class:x(t(w)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",d.class))},[b(u.$slots,"default")],2))}}),U=$({__name:"AlertTitle",props:{class:{}},setup(i){const d=i;return(u,_)=>(o(),g("div",{"data-slot":"alert-title",class:x(t(w)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",d.class))},[b(u.$slots,"default")],2))}}),W=D("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}}),Y={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 py-8"},Z={class:"bg-white rounded-lg shadow-sm p-6"},tt={class:"mb-6"},et={class:"flex justify-between items-start mb-6"},st={class:"text-3xl font-bold text-gray-900"},at={class:"flex items-center gap-2 mt-2"},rt={class:"text-xl font-semibold text-gray-600"},it={class:"flex flex-col items-end gap-2"},lt={class:"flex gap-2"},nt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ot={class:"flex items-start gap-3"},dt={class:"text-gray-900"},ut={class:"flex items-start gap-3"},mt={class:"text-gray-900"},ct={class:"flex items-start gap-3"},ft={class:"text-gray-900"},vt={class:"flex items-start gap-3"},_t={class:"text-gray-900"},gt={class:"flex items-start gap-3"},xt={class:"text-gray-900"},pt={class:"flex items-start gap-3"},yt={class:"text-gray-900"},ht={class:"flex justify-between items-center"},kt={class:"text-right"},wt={class:"text-xl font-bold text-gray-900"},Ft={__name:"Edit",props:{reservation:{type:Object,required:!0}},setup(i){const d=i,u=()=>{confirm("Voulez-vous vraiment annuler cette réservation ?")&&h.delete(route("organizations.reservations.in.destroy",{reservation:d.reservation.id}))},_=p=>{confirm("Voulez-vous vraiment retirer cet équipement de la réservation ?")&&h.delete(route("organizations.reservations.in.items.destroy",{reservation:d.reservation.id,item:p}))};return(p,a)=>(o(),v(P,{title:"Réservation du "+i.reservation.start_date+" au "+i.reservation.end_date},{default:r(()=>[e("div",Y,[e("div",Z,[e("div",tt,[s(t(y),{variant:"ghost",class:"gap-2",onClick:a[0]||(a[0]=m=>t(h).visit(p.route("app.organizations.reservations.in.index")))},{default:r(()=>[s(t(F),{class:"h-4 w-4"}),a[1]||(a[1]=l(" Retour aux réservations "))]),_:1,__:[1]})]),e("div",et,[e("div",null,[e("h1",st," Réservation du "+n(i.reservation.start_date)+" au "+n(i.reservation.end_date),1),e("div",at,[s(t(B),{class:"h-4 w-4 text-gray-500"}),e("h2",rt,n(i.reservation.from_organization.name),1)])]),e("div",it,[s(t(C),{class:x(`${i.reservation.status_color}`)},{default:r(()=>[l(n(i.reservation.status_label),1)]),_:1},8,["class"]),e("div",lt,[["pending","confirmed"].includes(i.reservation.status)?(o(),v(t(y),{key:0,variant:"destructive",size:"sm",onClick:u},{default:r(()=>[s(t(O),{class:"h-4 w-4"}),a[2]||(a[2]=l(" Annuler "))]),_:1,__:[2]})):k("",!0)])])]),s(t(V),{class:"mb-6"},{default:r(()=>[s(t(A),null,{default:r(()=>[s(t(q),{class:"text-lg"},{default:r(()=>a[3]||(a[3]=[l("Détails de la réservation")])),_:1,__:[3]})]),_:1}),s(t(j),null,{default:r(()=>[e("div",nt,[e("div",ot,[s(t(z),{class:"h-5 w-5 text-gray-500 mt-0.5"}),e("div",null,[a[4]||(a[4]=e("h3",{class:"text-sm font-medium text-gray-500"},"Récupération",-1)),e("p",dt,n(i.reservation.start_date),1)])]),e("div",ut,[s(t(z),{class:"h-5 w-5 text-gray-500 mt-0.5"}),e("div",null,[a[5]||(a[5]=e("h3",{class:"text-sm font-medium text-gray-500"},"Retour",-1)),e("p",mt,n(i.reservation.end_date),1)])]),e("div",ct,[s(t(S),{class:"h-5 w-5 text-gray-500 mt-0.5"}),e("div",null,[a[6]||(a[6]=e("h3",{class:"text-sm font-medium text-gray-500"},"Durée",-1)),e("p",ft,n(i.reservation.duration)+" jours",1)])]),e("div",vt,[s(t(B),{class:"h-5 w-5 text-gray-500 mt-0.5"}),e("div",null,[a[7]||(a[7]=e("h3",{class:"text-sm font-medium text-gray-500"},"Organisation emprunteuse",-1)),e("p",_t,n(i.reservation.to_organization.name),1)])]),e("div",gt,[s(t(R),{class:"h-5 w-5 text-gray-500 mt-0.5"}),e("div",null,[a[8]||(a[8]=e("h3",{class:"text-sm font-medium text-gray-500"},"Créée le",-1)),e("p",xt,n(i.reservation.created_at),1)])]),e("div",pt,[s(t(Q),{class:"h-5 w-5 text-gray-500 mt-0.5"}),e("div",null,[a[9]||(a[9]=e("h3",{class:"text-sm font-medium text-gray-500"},"Dernière mise à jour",-1)),e("p",yt,n(i.reservation.updated_at),1)])])])]),_:1})]),_:1}),s(t(H),{variant:"warning",class:"mb-6"},{default:r(()=>[s(t(G),{class:"h-4 w-4"}),s(t(U),null,{default:r(()=>a[10]||(a[10]=[l("Information importante")])),_:1,__:[10]}),s(t(K),null,{default:r(()=>a[11]||(a[11]=[l(" Pour garantir la sécurité du matériel, les informations de localisation ne sont pas visibles sur cette page."),e("br",null,null,-1),l(" Merci de contacter directement l'organisation pour organiser la récupération. ")])),_:1,__:[11]})]),_:1}),s(t(V),null,{default:r(()=>[s(t(A),null,{default:r(()=>[e("div",ht,[s(t(q),{class:"text-lg"},{default:r(()=>a[12]||(a[12]=[l("Matériel réservé")])),_:1,__:[12]}),e("div",kt,[a[13]||(a[13]=e("p",{class:"text-sm text-gray-600"},"Prix total",-1)),e("p",wt,n(i.reservation.total)+" €",1)])])]),_:1}),s(t(j),null,{default:r(()=>[s(t(T),null,{default:r(()=>[s(t(E),null,{default:r(()=>[s(t(M),null,{default:r(()=>[s(t(c),null,{default:r(()=>a[14]||(a[14]=[l("Équipement")])),_:1,__:[14]}),s(t(c),null,{default:r(()=>a[15]||(a[15]=[l("Quantité")])),_:1,__:[15]}),s(t(c),null,{default:r(()=>a[16]||(a[16]=[l("Prix/jour")])),_:1,__:[16]}),s(t(c),null,{default:r(()=>a[17]||(a[17]=[l("Caution")])),_:1,__:[17]}),s(t(c),null,{default:r(()=>a[18]||(a[18]=[l("Emplacement")])),_:1,__:[18]}),i.reservation.status==="pending"?(o(),v(t(c),{key:0,class:"w-[100px]"})):k("",!0)]),_:1})]),_:1}),s(t(L),null,{default:r(()=>[(o(!0),g(I,null,N(i.reservation.items,m=>(o(),v(t(M),{key:m.id},{default:r(()=>[s(t(f),{class:"font-medium"},{default:r(()=>[l(n(m.equipment.name),1)]),_:2},1024),s(t(f),null,{default:r(()=>[s(t(C),{variant:"outline",class:"text-sm font-medium"},{default:r(()=>[l(n(m.quantity),1)]),_:2},1024)]),_:2},1024),s(t(f),null,{default:r(()=>[l(n(m.price)+" €",1)]),_:2},1024),s(t(f),null,{default:r(()=>[l(n(m.equipment.deposit_amount)+" €",1)]),_:2},1024),s(t(f),null,{default:r(()=>[l(n(m.city),1)]),_:2},1024),i.reservation.status==="pending"?(o(),v(t(f),{key:0},{default:r(()=>[s(t(y),{variant:"ghost",size:"icon",class:"text-destructive hover:text-destructive/90",onClick:$t=>_(m.id)},{default:r(()=>[s(t(X),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]),_:2},1024)):k("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1},8,["title"]))}};export{Ft as default};
