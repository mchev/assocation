import q from"./Layout-u7P8SpeK.js";import{_ as B,e as C,c as N,U as R}from"./FlashMessage-DMf--2CY.js";import{c as V,_ as g}from"./index-CRQ0lHG7.js";import{_ as A,a as D}from"./index-ClgGd-F4.js";import{d as E,k as P,o as m,a as M,x as j,u as t,c as f,w as l,l as s,i as a,K as v,p as r,s as n,f as p,F as T,v as S}from"./app-DJfHbdD4.js";import{_ as F,a as I,b as k,c as d,d as J,e as u}from"./TableHeader.vue_vue_type_script_setup_true_lang-B4rHf7Ca.js";import{_ as y,a as w}from"./CardContent.vue_vue_type_script_setup_true_lang-C7WtVg7Y.js";import{_ as h,a as $}from"./CardTitle.vue_vue_type_script_setup_true_lang-CtJS8zOW.js";import{A as L}from"./arrow-left-CvpQ34e0.js";import{B as z}from"./building-D1ucA4KD.js";import{X as O}from"./x-BRZ9uGk5.js";import{C as U}from"./clock-BPlo9CB0.js";import{P as K,T as Q}from"./trash-2-CTUvXwxA.js";import{M as X,P as G}from"./phone-BWMWW71V.js";import{C as H}from"./circle-alert-BBk7JCXz.js";import"./AppLayout-DHtIKZhA.js";import"./createLucideIcon-X0_Zbpeu.js";import"./upload-D_c7JtnW.js";import"./Input.vue_vue_type_script_setup_true_lang-DzlSTslp.js";import"./loader-circle-BDOdfnBM.js";const W=E({__name:"AlertDescription",props:{class:{}},setup(i){const _=i;return(c,b)=>(m(),P("div",{"data-slot":"alert-description",class:j(t(V)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",_.class))},[M(c.$slots,"default")],2))}}),Y={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 py-8"},Z={class:"bg-white rounded-lg shadow-sm p-6"},tt={class:"mb-6"},st={class:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4 mb-6"},et={class:"flex-1"},at={class:"text-2xl sm:text-3xl font-bold text-gray-900"},lt={class:"flex items-center gap-2 mt-2"},it={class:"text-lg sm:text-xl font-semibold text-gray-600"},rt={class:"flex flex-col items-start sm:items-end gap-2"},nt={class:"flex gap-2"},ot={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},dt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ut={class:"flex items-start gap-3"},mt={class:"text-gray-900"},ft={class:"flex items-start gap-3"},_t={class:"text-gray-900"},ct={class:"flex items-start gap-3"},xt={class:"text-gray-900"},gt={class:"flex items-start gap-3"},vt={class:"text-gray-900"},pt={class:"flex items-start gap-3"},yt={class:"text-gray-900"},wt={class:"flex items-start gap-3"},ht={class:"text-gray-900"},$t={class:"grid grid-cols-1 gap-6"},bt={class:"flex items-start gap-3"},Ct={class:"text-gray-900"},kt={class:"flex items-start gap-3"},zt={class:"text-gray-900"},Pt={class:"flex items-start gap-3"},jt={class:"text-gray-900"},qt={class:"flex justify-between items-center"},Bt={class:"text-right"},Nt={class:"text-xl font-bold text-gray-900"},Zt={__name:"Edit",props:{reservation:{type:Object,required:!0}},setup(i){const _=i,c=()=>{confirm("Voulez-vous vraiment annuler cette réservation ?")&&v.delete(route("app.organizations.reservations.in.destroy",{reservation:_.reservation.id}))},b=x=>{confirm("Voulez-vous vraiment retirer cet équipement de la réservation ?")&&v.delete(route("organizations.reservations.in.items.destroy",{reservation:_.reservation.id,item:x}))};return(x,e)=>(m(),f(q,{title:"Réservation du "+i.reservation.start_date+" au "+i.reservation.end_date},{default:l(()=>[s("div",Y,[s("div",Z,[s("div",tt,[a(t(g),{variant:"ghost",class:"gap-2",onClick:e[0]||(e[0]=o=>t(v).visit(x.route("app.organizations.reservations.in.index")))},{default:l(()=>[a(t(L),{class:"h-4 w-4"}),e[1]||(e[1]=r(" Retour aux réservations "))]),_:1,__:[1]})]),s("div",st,[s("div",et,[s("h1",at," Réservation du "+n(i.reservation.start_date)+" au "+n(i.reservation.end_date),1),s("div",lt,[a(t(z),{class:"h-4 w-4 text-gray-500"}),s("h2",it,n(i.reservation.from_organization.name),1)])]),s("div",rt,[a(t(B),{class:j(`${i.reservation.status_color}`)},{default:l(()=>[r(n(i.reservation.status_label),1)]),_:1},8,["class"]),s("div",nt,[["pending","confirmed"].includes(i.reservation.status)?(m(),f(t(g),{key:0,variant:"destructive",size:"sm",onClick:c},{default:l(()=>[a(t(O),{class:"h-4 w-4"}),e[2]||(e[2]=r(" Annuler la réservation "))]),_:1,__:[2]})):p("",!0)])])]),s("div",ot,[a(t(y),null,{default:l(()=>[a(t(h),null,{default:l(()=>[a(t($),{class:"text-lg"},{default:l(()=>e[3]||(e[3]=[r("Détails de la réservation")])),_:1,__:[3]})]),_:1}),a(t(w),null,{default:l(()=>[s("div",dt,[s("div",ut,[a(t(C),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[4]||(e[4]=s("h3",{class:"text-sm font-medium text-gray-500"},"Récupération",-1)),s("p",mt,n(i.reservation.start_date),1)])]),s("div",ft,[a(t(C),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[5]||(e[5]=s("h3",{class:"text-sm font-medium text-gray-500"},"Retour",-1)),s("p",_t,n(i.reservation.end_date),1)])]),s("div",ct,[a(t(U),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[6]||(e[6]=s("h3",{class:"text-sm font-medium text-gray-500"},"Durée",-1)),s("p",xt,n(i.reservation.duration)+" jours",1)])]),s("div",gt,[a(t(z),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[7]||(e[7]=s("h3",{class:"text-sm font-medium text-gray-500"},"Organisation emprunteuse",-1)),s("p",vt,n(i.reservation.to_organization.name),1)])]),s("div",pt,[a(t(N),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[8]||(e[8]=s("h3",{class:"text-sm font-medium text-gray-500"},"Créée le",-1)),s("p",yt,n(i.reservation.created_at),1)])]),s("div",wt,[a(t(K),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[9]||(e[9]=s("h3",{class:"text-sm font-medium text-gray-500"},"Dernière mise à jour",-1)),s("p",ht,n(i.reservation.updated_at),1)])])])]),_:1})]),_:1}),a(t(y),null,{default:l(()=>[a(t(h),null,{default:l(()=>[a(t($),{class:"text-lg"},{default:l(()=>e[10]||(e[10]=[r("Contact")])),_:1,__:[10]})]),_:1}),a(t(w),null,{default:l(()=>[s("div",$t,[s("div",bt,[a(t(R),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[11]||(e[11]=s("h3",{class:"text-sm font-medium text-gray-500"},"Nom",-1)),s("p",Ct,n(i.reservation.user.name),1)])]),s("div",kt,[a(t(X),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[12]||(e[12]=s("h3",{class:"text-sm font-medium text-gray-500"},"Email",-1)),s("p",zt,n(i.reservation.user.email),1)])]),s("div",Pt,[a(t(G),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[13]||(e[13]=s("h3",{class:"text-sm font-medium text-gray-500"},"Téléphone",-1)),s("p",jt,n(i.reservation.user.phone||"Non renseigné"),1)])])])]),_:1})]),_:1})]),a(t(A),{variant:"warning",class:"mb-6"},{default:l(()=>[a(t(H),{class:"h-4 w-4"}),a(t(D),null,{default:l(()=>e[14]||(e[14]=[r("Information importante")])),_:1,__:[14]}),a(t(W),null,{default:l(()=>e[15]||(e[15]=[r(" Pour garantir la sécurité du matériel, les informations de localisation ne sont pas visibles sur cette page."),s("br",null,null,-1),r(" Merci de contacter directement l'organisation pour organiser la récupération. ")])),_:1,__:[15]})]),_:1}),a(t(y),null,{default:l(()=>[a(t(h),null,{default:l(()=>[s("div",qt,[a(t($),{class:"text-lg"},{default:l(()=>e[16]||(e[16]=[r("Matériel réservé")])),_:1,__:[16]}),s("div",Bt,[e[17]||(e[17]=s("p",{class:"text-sm text-gray-600"},"Prix total",-1)),s("p",Nt,n(i.reservation.total)+" €",1)])])]),_:1}),a(t(w),null,{default:l(()=>[a(t(F),null,{default:l(()=>[a(t(I),null,{default:l(()=>[a(t(k),null,{default:l(()=>[a(t(d),null,{default:l(()=>e[18]||(e[18]=[r("Équipement")])),_:1,__:[18]}),a(t(d),null,{default:l(()=>e[19]||(e[19]=[r("Qté")])),_:1,__:[19]}),a(t(d),null,{default:l(()=>e[20]||(e[20]=[r("Jours")])),_:1,__:[20]}),a(t(d),null,{default:l(()=>e[21]||(e[21]=[r("Prix/jour")])),_:1,__:[21]}),a(t(d),null,{default:l(()=>e[22]||(e[22]=[r("Sous-total")])),_:1,__:[22]}),a(t(d),null,{default:l(()=>e[23]||(e[23]=[r("Caution")])),_:1,__:[23]}),a(t(d),null,{default:l(()=>e[24]||(e[24]=[r("Emplacement")])),_:1,__:[24]}),i.reservation.status==="pending"?(m(),f(t(d),{key:0,class:"w-[100px]"})):p("",!0)]),_:1})]),_:1}),a(t(J),null,{default:l(()=>[(m(!0),P(T,null,S(i.reservation.items,o=>(m(),f(t(k),{key:o.id},{default:l(()=>[a(t(u),{class:"font-medium"},{default:l(()=>[r(n(o.equipment.name),1)]),_:2},1024),a(t(u),null,{default:l(()=>[r(n(o.quantity),1)]),_:2},1024),a(t(u),null,{default:l(()=>[r(n(i.reservation.duration),1)]),_:1}),a(t(u),null,{default:l(()=>[r(n(o.price)+" €",1)]),_:2},1024),a(t(u),null,{default:l(()=>[r(n(o.total_price)+" €",1)]),_:2},1024),a(t(u),null,{default:l(()=>[r(n(o.equipment.deposit_amount)+" €",1)]),_:2},1024),a(t(u),null,{default:l(()=>[r(n(o.city),1)]),_:2},1024),i.reservation.status==="pending"?(m(),f(t(u),{key:0},{default:l(()=>[a(t(g),{variant:"ghost",size:"icon",class:"text-destructive hover:text-destructive/90",onClick:Rt=>b(o.id)},{default:l(()=>[a(t(Q),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]),_:2},1024)):p("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1},8,["title"]))}};export{Zt as default};
