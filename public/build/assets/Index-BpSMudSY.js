import{c as _,o as d,w as e,i as a,l,u as s,q as y,k as p,p as i,F as b,v as k,S as g,s as o,x as z,f as $}from"./app-O98ykgjx.js";import h from"./Layout-DHVCMg3z.js";import{_ as x}from"./index-BfIUwalv.js";import{_ as j,a as q}from"./CardContent.vue_vue_type_script_setup_true_lang-CNa4-eAk.js";import{_ as w,a as C,b as v,c as f,d as D,e as m}from"./TableHeader.vue_vue_type_script_setup_true_lang-CuHorhb2.js";import{_ as N}from"./Pagination-GH8j-YiQ.js";import"./AppLayout-BstqlPQ7.js";import"./FlashMessage-Gjm8Gwnv.js";import"./x-CAypeN9U.js";import"./Input.vue_vue_type_script_setup_true_lang-Buz_IyHv.js";import"./createLucideIcon-CBIXoLsP.js";import"./loader-circle-BoclsHuI.js";import"./upload-ZOyM2nTZ.js";const S={class:"flex justify-between items-center"},B={class:"font-semibold text-xl leading-tight"},R={class:"py-12"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={key:0,class:"text-center py-12"},O={key:1},P={class:"text-xs text-gray-500"},A={class:"flex items-center justify-end space-x-2"},L={class:"mt-4"},Z={__name:"Index",props:{organization:{type:Object,required:!0},reservations:{type:Object,required:!0},can:{type:Object,required:!0}},setup(r){const c=u=>new Date(u).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return(u,t)=>(d(),_(h,{title:"Réservations - "+r.organization.name},{header:e(()=>[l("div",S,[l("div",null,[l("h2",B," Réservations ("+o(r.reservations.total)+") ",1),t[0]||(t[0]=l("p",{class:"text-sm text-muted-foreground"},"Matériel que vous louez ou prêtez à d'autres organisations",-1))]),r.can.create?(d(),_(s(x),{key:0,as:"a",href:u.route("app.organizations.reservations.in.create",r.organization),variant:"default",size:"default"},{default:e(()=>t[1]||(t[1]=[i(" Nouvelle réservation ")])),_:1,__:[1]},8,["href"])):$("",!0)])]),default:e(()=>[a(s(y),{title:"Réservations"}),l("div",R,[l("div",V,[a(s(j),null,{default:e(()=>[a(s(q),null,{default:e(()=>[r.reservations.data.length===0?(d(),p("div",F,[t[3]||(t[3]=l("p",{class:"text-muted-foreground text-lg"}," Aucune réservation trouvée ",-1)),a(s(x),{as:"a",href:u.route("home"),variant:"default",class:"mt-4"},{default:e(()=>t[2]||(t[2]=[i(" Parcourir le matériel disponible ")])),_:1,__:[2]},8,["href"])])):(d(),p("div",O,[a(s(w),null,{default:e(()=>[a(s(C),null,{default:e(()=>[a(s(v),null,{default:e(()=>[a(s(f),null,{default:e(()=>t[4]||(t[4]=[l("div",{class:"flex items-center space-x-2"},[l("span",null,"Provenance")],-1)])),_:1,__:[4]}),a(s(f),null,{default:e(()=>t[5]||(t[5]=[l("div",{class:"flex items-center space-x-2"},[l("span",null,"Contact")],-1)])),_:1,__:[5]}),a(s(f),null,{default:e(()=>t[6]||(t[6]=[l("div",{class:"flex items-center space-x-2"},[l("span",null,"Période")],-1)])),_:1,__:[6]}),a(s(f),null,{default:e(()=>t[7]||(t[7]=[l("div",{class:"flex items-center space-x-2"},[l("span",null,"Statut")],-1)])),_:1,__:[7]}),a(s(f),{class:"text-right"},{default:e(()=>t[8]||(t[8]=[i("Actions")])),_:1,__:[8]})]),_:1})]),_:1}),a(s(D),null,{default:e(()=>[(d(!0),p(b,null,k(r.reservations.data,n=>(d(),_(s(v),{key:n.id},{default:e(()=>[a(s(m),{class:"font-medium"},{default:e(()=>[a(s(g),{href:u.route("app.organizations.reservations.in.edit",n)},{default:e(()=>[i(o(n.lender_organization.name),1)]),_:2},1032,["href"])]),_:2},1024),a(s(m),null,{default:e(()=>[i(o(n.user.name),1),t[9]||(t[9]=l("br",null,null,-1)),l("span",P,o(n.user.phone),1)]),_:2,__:[9]},1024),a(s(m),null,{default:e(()=>[i(" Du "+o(c(n.start_date)),1),t[10]||(t[10]=l("br",null,null,-1)),i(" au "+o(c(n.end_date)),1)]),_:2,__:[10]},1024),a(s(m),null,{default:e(()=>[l("span",{class:z([n.status_color,"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},o(n.status_label),3)]),_:2},1024),a(s(m),{class:"text-right"},{default:e(()=>[l("div",A,[a(s(x),{asChild:""},{default:e(()=>[a(s(g),{href:u.route("app.organizations.reservations.in.edit",n)},{default:e(()=>t[11]||(t[11]=[i(" Gérer ")])),_:2,__:[11]},1032,["href"])]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),l("div",L,[a(N,{links:r.reservations.links},null,8,["links"])])]))]),_:1})]),_:1})])])]),_:1},8,["title"]))}};export{Z as default};
