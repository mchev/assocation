import{q as L,H as P,u as R,c as d,o as n,w as s,a as l,b as a,d as t,f as G,e as i,g as x,F as h,r as B,t as m,h as F,G as y,l as H}from"./app-KK-F1Z1c.js";import{_ as J}from"./AppLayout-B4e-bIQk.js";import{_ as $}from"./index-BhyAcUhw.js";import{_ as S,a as T}from"./CardContent.vue_vue_type_script_setup_true_lang-BCaDP6Kb.js";import{_ as K}from"./Input.vue_vue_type_script_setup_true_lang-DwL_A-10.js";import{_ as k}from"./Label.vue_vue_type_script_setup_true_lang-DlVZDcmg.js";import{_ as Q,a as W,b as U,c as b,d as X,e as w}from"./TableHeader.vue_vue_type_script_setup_true_lang-BFELLqPj.js";import{_ as D,a as I,b as M,c as O,d as p}from"./SelectValue.vue_vue_type_script_setup_true_lang-Dkw30HSm.js";import{A as Y,a as Z}from"./arrow-up-down-ladwHSAs.js";import{A as ee}from"./arrow-up-D_DuBp8i.js";import"./FlashMessage-M_qcYrtd.js";import"./UserDropdown-DcKLdP_p.js";import"./createLucideIcon-B2ccUS80.js";import"./Teleport-CeiFfp-J.js";import"./useForwardExpose-D9irKaJb.js";import"./index-BjygBFSn.js";import"./package-DR32nA_9.js";import"./loader-circle-Yx4q4CDL.js";import"./plus-Dkzbd31e.js";import"./useNonce-CLzYlXFo.js";import"./chevron-down-Dq8DpBFJ.js";import"./check-jdpM7kck.js";import"./ohash.D__AXeF1-Cq3NGnZa.js";import"./nullish-CHIgUVhi.js";import"./useFormControl-CLpSqHwa.js";const te={class:"flex justify-between items-center"},se={class:"font-semibold text-xl leading-tight"},ae={class:"py-12"},le={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},oe={class:"flex flex-wrap items-end gap-6"},re={class:"flex gap-2 ml-auto"},ie={key:0,class:"text-center py-12"},ne={key:1},ue={class:"flex items-center space-x-2"},de={class:"flex items-center space-x-2"},me={class:"flex items-center space-x-2"},fe={class:"flex items-center space-x-2"},pe={class:"text-sm text-muted-foreground truncate max-w-40 lg:max-w-96"},ce={class:"max-w-40 flex flex-col"},_e={class:"truncate font-medium"},ve={class:"text-xs text-muted-foreground"},Pe={__name:"Index",props:{organization:{type:Object,required:!0},equipments:{type:Object,required:!0},filters:{type:Object,required:!0},allCategories:{type:Array,required:!0}},setup(f){var C,V,z,A,j,N;const c=f,q=L(()=>P().props.auth.user.can),r=R({search:((C=c.filters)==null?void 0:C.search)??"",category:((V=c.filters)==null?void 0:V.category)??null,condition:((z=c.filters)==null?void 0:z.condition)??null,availability:((A=c.filters)==null?void 0:A.availability)??null,sort:((j=c.filters)==null?void 0:j.sort)??"name",direction:((N=c.filters)==null?void 0:N.direction)??"asc"}),_=()=>{r.get(route("app.organizations.equipments.index"),{preserveState:!0,preserveScroll:!0})},E=()=>{r.search="",r.category=null,r.condition=null,r.availability=null,r.sort="name",r.direction="asc",_()},v=u=>{r.sort===u?r.direction=r.direction==="asc"?"desc":"asc":(r.sort=u,r.direction="asc"),_()},g=u=>r.sort!==u?Y:r.direction==="asc"?ee:Z;return(u,e)=>(n(),d(J,{title:"Matériel",description:"Liste du matériel de l'organisation"},{header:s(()=>[l("div",te,[l("h2",se," Inventaire du matériel de "+m(f.organization.name)+" ("+m(f.equipments.total)+") ",1),q.value.equipments.create?(n(),d(t($),{key:0,asChild:""},{default:s(()=>[a(t(H),{href:u.route("app.organizations.equipments.create")},{default:s(()=>[...e[7]||(e[7]=[i(" Ajouter du matériel ",-1)])]),_:1},8,["href"])]),_:1})):F("",!0)])]),default:s(()=>[l("div",ae,[l("div",le,[a(t(S),{class:"mb-6"},{default:s(()=>[a(t(T),{class:"p-4"},{default:s(()=>[l("form",{onSubmit:G(_,["prevent"])},[l("div",oe,[l("div",null,[a(t(k),{for:"search",class:"text-sm"},{default:s(()=>[...e[8]||(e[8]=[i("Rechercher",-1)])]),_:1}),a(t(K),{id:"search",modelValue:t(r).search,"onUpdate:modelValue":e[0]||(e[0]=o=>t(r).search=o),type:"text",placeholder:"Nom, catégorie...",onInput:_},null,8,["modelValue"])]),l("div",null,[a(t(k),{for:"category",class:"text-sm"},{default:s(()=>[...e[9]||(e[9]=[i("Catégorie",-1)])]),_:1}),a(t(D),{modelValue:t(r).category,"onUpdate:modelValue":[e[1]||(e[1]=o=>t(r).category=o),_]},{default:s(()=>[a(t(I),{class:"h-9"},{default:s(()=>[a(t(M),{placeholder:"Toutes"})]),_:1}),a(t(O),null,{default:s(()=>[a(t(p),{value:null},{default:s(()=>[...e[10]||(e[10]=[i("Toutes les catégories",-1)])]),_:1}),(n(!0),x(h,null,B(f.allCategories,o=>(n(),d(t(p),{key:o.id,value:o.name},{default:s(()=>[i(m(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),l("div",null,[a(t(k),{for:"condition",class:"text-sm"},{default:s(()=>[...e[11]||(e[11]=[i("État",-1)])]),_:1}),a(t(D),{modelValue:t(r).condition,"onUpdate:modelValue":[e[2]||(e[2]=o=>t(r).condition=o),_]},{default:s(()=>[a(t(I),{class:"h-9"},{default:s(()=>[a(t(M),{placeholder:"Tous"})]),_:1}),a(t(O),null,{default:s(()=>[a(t(p),{value:null},{default:s(()=>[...e[12]||(e[12]=[i("Tous les états",-1)])]),_:1}),a(t(p),{value:"new"},{default:s(()=>[...e[13]||(e[13]=[i("Neuf",-1)])]),_:1}),a(t(p),{value:"good"},{default:s(()=>[...e[14]||(e[14]=[i("Bon",-1)])]),_:1}),a(t(p),{value:"fair"},{default:s(()=>[...e[15]||(e[15]=[i("Moyen",-1)])]),_:1}),a(t(p),{value:"poor"},{default:s(()=>[...e[16]||(e[16]=[i("Mauvais",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),l("div",re,[a(t($),{type:"button",variant:"outline",onClick:E,size:"sm",class:"h-9"},{default:s(()=>[...e[17]||(e[17]=[i(" Réinitialiser ",-1)])]),_:1}),a(t($),{type:"submit",variant:"default",size:"sm",class:"h-9"},{default:s(()=>[...e[18]||(e[18]=[i(" Filtrer ",-1)])]),_:1})])])],32)]),_:1})]),_:1}),a(t(S),null,{default:s(()=>[a(t(T),{class:"p-6"},{default:s(()=>[f.equipments.data.length===0?(n(),x("div",ie,[e[20]||(e[20]=l("p",{class:"text-muted-foreground text-lg"}," Aucun matériel trouvé ",-1)),q.value.equipments.create?(n(),d(t($),{key:0,as:"a",href:u.route("app.organizations.equipments.create",f.organization),variant:"default",class:"mt-4"},{default:s(()=>[...e[19]||(e[19]=[i(" Ajouter du matériel ",-1)])]),_:1},8,["href"])):F("",!0)])):(n(),x("div",ne,[a(t(Q),null,{default:s(()=>[a(t(W),null,{default:s(()=>[a(t(U),null,{default:s(()=>[a(t(b),{class:"cursor-pointer hover:bg-muted/50",onClick:e[3]||(e[3]=o=>v("name"))},{default:s(()=>[l("div",ue,[e[21]||(e[21]=l("span",null,"Nom",-1)),(n(),d(y(g("name")),{class:"w-4 h-4"}))])]),_:1}),a(t(b),{class:"cursor-pointer hover:bg-muted/50",onClick:e[4]||(e[4]=o=>v("category"))},{default:s(()=>[l("div",de,[e[22]||(e[22]=l("span",null,"Catégorie",-1)),(n(),d(y(g("category")),{class:"w-4 h-4"}))])]),_:1}),a(t(b),{class:"cursor-pointer hover:bg-muted/50",onClick:e[5]||(e[5]=o=>v("depot"))},{default:s(()=>[l("div",me,[e[23]||(e[23]=l("span",null,"Emplacement",-1)),(n(),d(y(g("depot")),{class:"w-4 h-4"}))])]),_:1}),a(t(b),{class:"cursor-pointer hover:bg-muted/50",onClick:e[6]||(e[6]=o=>v("rental_price"))},{default:s(()=>[l("div",fe,[e[24]||(e[24]=l("span",null,"Prix/jour",-1)),(n(),d(y(g("rental_price")),{class:"w-4 h-4"}))])]),_:1})]),_:1})]),_:1}),a(t(X),null,{default:s(()=>[(n(!0),x(h,null,B(f.equipments.data,o=>(n(),d(t(U),{key:o.id,class:"group cursor-pointer hover:bg-muted/50",onClick:ge=>u.$inertia.visit(u.route("app.organizations.equipments.edit",o))},{default:s(()=>[a(t(w),{class:"font-medium"},{default:s(()=>[l("div",null,[i(m(o.name)+" ",1),l("p",pe,m(o.description),1)])]),_:2},1024),a(t(w),null,{default:s(()=>[i(m(o.category.name),1)]),_:2},1024),a(t(w),null,{default:s(()=>[l("div",ce,[l("span",_e,m(o.depot.name),1),l("span",ve,m(o.depot.city),1)])]),_:2},1024),a(t(w),null,{default:s(()=>[i(m(o.rental_price)+"€",1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]))]),_:1})]),_:1})])])]),_:1}))}};export{Pe as default};
