import{u as X}from"./Input.vue_vue_type_script_setup_true_lang-DpXQF66i.js";import{P as D}from"./index-DdTTHCjM.js";import{d as S,b as T,k as p,o as i,i as o,w as c,a as R,m as F,u as e,n as w,c as C,r as g,g as V,h as Y,f as _,l,F as U,v as q,s as E}from"./app-DofbTy1k.js";import{a as Z,_ as A}from"./CardContent.vue_vue_type_script_setup_true_lang-B8HNoA3d.js";import{a as G,_ as K}from"./DialogContent.vue_vue_type_script_setup_true_lang-BddhZd9w.js";import{c as M}from"./createLucideIcon-BwbA2wOt.js";import{X as H}from"./x-DKcTA0gq.js";import{a as J,C as Q}from"./chevron-right-Ck8tu2I4.js";import{L as W}from"./loader-circle-Dx83GT_8.js";const ee=S({inheritAttrs:!1,__name:"AspectRatio",props:{ratio:{default:1},asChild:{type:Boolean},as:{}},setup(b){const m=b,{forwardRef:u}=X(),f=T(()=>1/m.ratio*100);return(n,v)=>(i(),p("div",{style:w(`position: relative; width: 100%; padding-bottom: ${f.value}%`),"data-reka-aspect-ratio-wrapper":""},[o(e(D),F({ref:e(u),"as-child":n.asChild,as:n.as,style:{position:"absolute",inset:"0px"}},n.$attrs),{default:c(()=>[R(n.$slots,"default",{aspect:f.value})]),_:3},16,["as-child","as"])],4))}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=M("ZoomInIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=M("ZoomOutIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),B=S({__name:"AspectRatio",props:{ratio:{},asChild:{type:Boolean},as:{type:[String,Object,Function]}},setup(b){const m=b;return(u,f)=>(i(),C(e(ee),F({"data-slot":"aspect-ratio"},m),{default:c(()=>[R(u.$slots,"default")]),_:3},16))}}),ae={class:"space-y-6"},se=["src","alt"],oe={class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},le={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},ne=["src","alt"],re={class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center"},ie={class:"relative bg-black"},ce={class:"absolute top-4 left-4 z-50 flex gap-2"},ue=["disabled"],de=["disabled"],ve={key:2,class:"absolute inset-0 flex items-center justify-center bg-black/50"},pe=["src","alt"],me={class:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/50 px-3 py-1 rounded-full text-white text-sm"},Ce={__name:"ImageGallery",props:{images:{type:Array,required:!0}},setup(b){const m=b,u=m.images[0],f=m.images.slice(1),n=g(null),v=g(!1),d=g(0),$=g(!1),r=g(1),y=T(()=>[u,...f]),I=a=>{n.value=a,d.value=y.value.findIndex(t=>t.id===a.id),v.value=!0,r.value=1},L=a=>{if(v.value)switch(a.key){case"ArrowLeft":h("prev");break;case"ArrowRight":h("next");break;case"Escape":v.value=!1;break}},h=a=>{const t=y.value.length;a==="next"?d.value=(d.value+1)%t:d.value=(d.value-1+t)%t,n.value=y.value[d.value],r.value=1},N=()=>{$.value=!1},j=a=>{a==="in"&&r.value<3?r.value+=.5:a==="out"&&r.value>1&&(r.value-=.5)},k=g({x:0,y:0}),O=a=>{k.value={x:a.touches[0].clientX,y:a.touches[0].clientY}},P=a=>{const t={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY},s=t.x-k.value.x,z=t.y-k.value.y;Math.abs(s)>Math.abs(z)&&Math.abs(s)>50&&(s>0?h("prev"):h("next"))};return V(()=>{document.addEventListener("keydown",L)}),Y(()=>{document.removeEventListener("keydown",L)}),(a,t)=>(i(),p("div",ae,[e(u)?(i(),C(e(A),{key:0,class:"overflow-hidden cursor-pointer group",onClick:t[0]||(t[0]=s=>I(e(u)))},{default:c(()=>[o(e(Z),{class:"p-0 relative"},{default:c(()=>[o(e(B),{ratio:16/9},{default:c(()=>[l("img",{src:e(u).url,alt:e(u).original_name,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"},null,8,se),l("div",oe,[o(e(x),{class:"w-8 h-8 text-white"})])]),_:1})]),_:1})]),_:1})):_("",!0),l("div",le,[(i(!0),p(U,null,q(e(f),s=>(i(),C(e(A),{key:s.id,class:"overflow-hidden group cursor-pointer",onClick:z=>I(s)},{default:c(()=>[o(e(Z),{class:"p-0 relative"},{default:c(()=>[o(e(B),{ratio:1},{default:c(()=>[l("img",{src:s.url,alt:s.original_name,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"},null,8,ne),l("div",re,[o(e(x),{class:"w-6 h-6 text-white"})])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),o(e(K),{open:v.value,"onUpdate:open":t[6]||(t[6]=s=>v.value=s)},{default:c(()=>[o(e(G),{class:"max-w-screen-xl p-0",onTouchstart:O,onTouchend:P},{default:c(()=>[l("div",ie,[l("button",{onClick:t[1]||(t[1]=s=>v.value=!1),class:"absolute top-4 right-4 z-50 rounded-full bg-black/50 p-2 text-white hover:bg-black/75 transition-colors","aria-label":"Close dialog"},[o(e(H),{class:"w-6 h-6"})]),l("div",ce,[l("button",{onClick:t[2]||(t[2]=s=>j("out")),class:"rounded-full bg-black/50 p-2 text-white hover:bg-black/75 transition-colors",disabled:r.value<=1,"aria-label":"Zoom out"},[o(e(te),{class:"w-6 h-6"})],8,ue),l("button",{onClick:t[3]||(t[3]=s=>j("in")),class:"rounded-full bg-black/50 p-2 text-white hover:bg-black/75 transition-colors",disabled:r.value>=3,"aria-label":"Zoom in"},[o(e(x),{class:"w-6 h-6"})],8,de)]),d.value>0?(i(),p("button",{key:0,onClick:t[4]||(t[4]=s=>h("prev")),class:"absolute left-4 top-1/2 -translate-y-1/2 z-50 rounded-full bg-black/50 p-2 text-white hover:bg-black/75 transition-colors","aria-label":"Previous image"},[o(e(J),{class:"w-8 h-8"})])):_("",!0),d.value<y.value.length-1?(i(),p("button",{key:1,onClick:t[5]||(t[5]=s=>h("next")),class:"absolute right-4 top-1/2 -translate-y-1/2 z-50 rounded-full bg-black/50 p-2 text-white hover:bg-black/75 transition-colors","aria-label":"Next image"},[o(e(Q),{class:"w-8 h-8"})])):_("",!0),$.value?(i(),p("div",ve,[o(e(W),{class:"w-8 h-8 text-white animate-spin"})])):_("",!0),l("div",{class:"overflow-auto max-h-[90vh] flex items-center justify-center",style:w({cursor:r.value>1?"move":"default"})},[n.value?(i(),p("img",{key:0,src:n.value.url,alt:n.value.original_name,class:"w-full h-auto transition-transform duration-300",style:w({transform:`scale(${r.value})`}),onLoad:N,loading:"lazy"},null,44,pe)):_("",!0)],4),l("div",me,E(d.value+1)+" / "+E(y.value.length),1)])]),_:1})]),_:1},8,["open"])]))}};export{Ce as _};
