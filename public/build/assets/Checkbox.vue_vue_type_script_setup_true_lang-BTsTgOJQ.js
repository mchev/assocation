import{P as I,c as _}from"./index-DE-7sY59.js";import{c as K,b as T,P as E,u as P}from"./useForwardPropsEmits-RmXYHCpQ.js";import{h as V,l as b,m as j,p as M,c as h,o as y,w as p,b as g,u as e,j as w,H as A,g as D,z as B,I as N,e as z,D as O}from"./app-DPpmTrwd.js";import{u as R,b as H}from"./useForwardExpose-Dp4K18Np.js";import{i as $}from"./nullish-CHIgUVhi.js";import{i as x}from"./isValueEqualOrExist-B5JO9E3o.js";import{u as L}from"./useFormControl-OcYS0XJb.js";import{s as U,l as J,t as Q,w as W,v as X}from"./UserDropdown-8s379JCZ.js";import{_ as Y}from"./VisuallyHiddenInput-DvRkuc2L.js";import{i as Z}from"./ohash.D__AXeF1-DHF4M4F_.js";import{C as G}from"./check-De33oSpH.js";const[ee,he]=K("CheckboxGroupRoot");function k(i){return i==="indeterminate"}function q(i){return k(i)?"indeterminate":i?"checked":"unchecked"}const ae=V({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(i){const u=i,a=U(),n=T(),c=b(()=>u.tabStopId||n),v=b(()=>a.currentTabStopId.value===c.value),{getItems:s,CollectionItem:d}=J();j(()=>{u.focusable&&a.onFocusableItemAdd()}),M(()=>{u.focusable&&a.onFocusableItemRemove()});function m(t){if(t.key==="Tab"&&t.shiftKey){a.onItemShiftTab();return}if(t.target!==t.currentTarget)return;const l=Q(t,a.orientation.value,a.dir.value);if(l!==void 0){if(t.metaKey||t.ctrlKey||t.altKey||!u.allowShiftKey&&t.shiftKey)return;t.preventDefault();let r=[...s().map(f=>f.ref).filter(f=>f.dataset.disabled!=="")];if(l==="last")r.reverse();else if(l==="prev"||l==="next"){l==="prev"&&r.reverse();const f=r.indexOf(t.currentTarget);r=a.loop.value?W(r,f+1):r.slice(f+1)}A(()=>X(r))}}return(t,l)=>(y(),h(e(d),null,{default:p(()=>[g(e(I),{tabindex:v.value?0:-1,"data-orientation":e(a).orientation.value,"data-active":t.active?"":void 0,"data-disabled":t.focusable?void 0:"",as:t.as,"as-child":t.asChild,onMousedown:l[0]||(l[0]=r=>{t.focusable?e(a).onItemFocus(c.value):r.preventDefault()}),onFocus:l[1]||(l[1]=r=>e(a).onItemFocus(c.value)),onKeydown:m},{default:p(()=>[w(t.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[te,oe]=K("CheckboxRoot"),se=V({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(i,{emit:u}){const a=i,n=u,{forwardRef:c,currentElement:v}=R(),s=ee(null),d=H(a,"modelValue",n,{defaultValue:a.defaultValue,passive:a.modelValue===void 0}),m=b(()=>(s==null?void 0:s.disabled.value)||a.disabled),t=b(()=>$(s==null?void 0:s.modelValue.value)?d.value==="indeterminate"?"indeterminate":d.value:x(s.modelValue.value,a.value));function l(){if($(s==null?void 0:s.modelValue.value))d.value=k(d.value)?!0:!d.value;else{const o=[...s.modelValue.value||[]];if(x(o,a.value)){const F=o.findIndex(C=>Z(C,a.value));o.splice(F,1)}else o.push(a.value);s.modelValue.value=o}}const r=L(v),f=b(()=>{var o;return a.id&&v.value?(o=document.querySelector(`[for="${a.id}"]`))==null?void 0:o.innerText:void 0});return oe({disabled:m,state:t}),(o,F)=>{var C,S;return y(),h(O((C=e(s))!=null&&C.rovingFocus.value?e(ae):e(I)),B(o.$attrs,{id:o.id,ref:e(c),role:"checkbox","as-child":o.asChild,as:o.as,type:o.as==="button"?"button":void 0,"aria-checked":e(k)(t.value)?"mixed":t.value,"aria-required":o.required,"aria-label":o.$attrs["aria-label"]||f.value,"data-state":e(q)(t.value),"data-disabled":m.value?"":void 0,disabled:m.value,focusable:(S=e(s))!=null&&S.rovingFocus.value?!m.value:void 0,onKeydown:N(z(()=>{},["prevent"]),["enter"]),onClick:l}),{default:p(()=>[w(o.$slots,"default",{modelValue:e(d),state:t.value}),e(r)&&o.name&&!e(s)?(y(),h(e(Y),{key:0,type:"checkbox",checked:!!t.value,name:o.name,value:o.value,disabled:m.value,required:o.required},null,8,["checked","name","value","disabled","required"])):D("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),le=V({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(i){const{forwardRef:u}=R(),a=te();return(n,c)=>(y(),h(e(E),{present:n.forceMount||e(k)(e(a).state.value)||e(a).state.value===!0},{default:p(()=>[g(e(I),B({ref:e(u),"data-state":e(q)(e(a).state.value),"data-disabled":e(a).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":n.asChild,as:n.as},n.$attrs),{default:p(()=>[w(n.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),ye=V({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(i,{emit:u}){const a=i,n=u,c=b(()=>{const{class:s,...d}=a;return d}),v=P(c,n);return(s,d)=>(y(),h(e(se),B({"data-slot":"checkbox"},e(v),{class:e(_)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a.class)}),{default:p(()=>[g(e(le),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:p(()=>[w(s.$slots,"default",{},()=>[g(e(G),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}});export{ye as _};
