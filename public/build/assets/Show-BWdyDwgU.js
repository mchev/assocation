import{_ as Ge}from"./PublicLayout-CfctTWgm.js";import{a as K,_ as L}from"./CardContent.vue_vue_type_script_setup_true_lang-COoUNKAF.js";import{_ as We}from"./CardDescription.vue_vue_type_script_setup_true_lang-B1TJ6XQb.js";import{_ as te,a as se}from"./CardTitle.vue_vue_type_script_setup_true_lang-C9zxrVNS.js";import{g as Fe,u as Ke,f as Se,t as Pe,_ as me}from"./FlashMessage-Cmei7Lpr.js";import{_ as ve}from"./Separator.vue_vue_type_script_setup_true_lang-BrChgtjF.js";import{_ as Qe}from"./ImageGallery-CSP1XhOu.js";import{d as _,k as O,o as d,a as y,x as Ye,u as e,t as Je,e as je,g as Re,c as p,w as n,l as o,s as h,b as F,p as D,m as B,G as Be,B as Ae,C as qe,D as ne,E as oe,r as le,A as Xe,i,v as Q,F as Y,f as W,K as Ze}from"./app-C--Zj7h2.js";import{c as I,P as S,_ as ea,b as he}from"./index-BtJXUQxW.js";import{c as Ve,_ as aa,r as N}from"./Input.vue_vue_type_script_setup_true_lang-DKdDTl7D.js";import{_ as _e}from"./Label.vue_vue_type_script_setup_true_lang-DEAynY49.js";import{_ as ta}from"./Textarea.vue_vue_type_script_setup_true_lang-DqBklwpQ.js";import{u as sa,g as la,a as na,b as oa,$ as be,h as ia,c as ge,t as da,d as ra,e as J,f as ua,i as ye,j as ke,k as ae,_ as ca}from"./DateRangePicker-TL2qWjO1.js";import{c as pa,b as fa,d as M}from"./x-aGZ-pY6V.js";import{u as ma}from"./useKbd-kRIii9yh.js";import{C as va,a as _a}from"./chevron-right-CaH8UiKl.js";import"./createLucideIcon-O6XXDYIF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Separator-BttX3Q7A.js";import"./DialogContent.vue_vue_type_script_setup_true_lang-CD2bdm6e.js";import"./loader-circle-DTkVq2q3.js";import"./nullish-CHIgUVhi.js";const ba=_({__name:"CardFooter",props:{class:{}},setup(l){const s=l;return(a,t)=>(d(),O("div",{"data-slot":"card-footer",class:Ye(e(I)("flex items-center px-6 [.border-t]:pt-6",s.class))},[y(a.$slots,"default")],2))}}),ya={style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute","white-space":"nowrap",width:"1px"}},ga={role:"heading","aria-level":"2"},[T,ha]=pa("CalendarRoot"),xa=_({__name:"CalendarRoot",props:{defaultValue:{default:void 0},defaultPlaceholder:{},placeholder:{default:void 0},pagedNavigation:{type:Boolean,default:!1},preventDeselect:{type:Boolean,default:!1},weekStartsOn:{default:0},weekdayFormat:{default:"narrow"},calendarLabel:{},fixedWeeks:{type:Boolean,default:!1},maxValue:{},minValue:{},locale:{},numberOfMonths:{default:1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},initialFocus:{type:Boolean,default:!1},isDateDisabled:{type:Function,default:void 0},isDateUnavailable:{type:Function,default:void 0},dir:{},nextPage:{},prevPage:{},modelValue:{},multiple:{type:Boolean,default:!1},disableDaysOutsideCurrentView:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"div"}},emits:["update:modelValue","update:placeholder"],setup(l,{emit:s}){const a=l,t=s,{disabled:u,readonly:c,initialFocus:$,pagedNavigation:g,weekStartsOn:f,weekdayFormat:C,fixedWeeks:q,multiple:v,minValue:r,maxValue:w,numberOfMonths:j,preventDeselect:U,isDateDisabled:H,isDateUnavailable:ie,calendarLabel:V,defaultValue:R,nextPage:de,prevPage:X,dir:A,locale:re,disableDaysOutsideCurrentView:z}=Je(a),{primitiveElement:E,currentElement:ue}=Fe(),k=sa(re),x=Ke(A),m=Ve(a,"modelValue",t,{defaultValue:R.value,passive:a.modelValue===void 0}),Z=la({defaultPlaceholder:a.placeholder,defaultValue:m.value,locale:a.locale}),P=Ve(a,"placeholder",t,{defaultValue:a.defaultPlaceholder??Z.copy(),passive:a.placeholder===void 0});function ce(b){P.value=b.copy()}const{fullCalendarLabel:pe,headingValue:Ee,isDateDisabled:xe,isDateUnavailable:Ce,isNextButtonDisabled:Ie,isPrevButtonDisabled:Ne,weekdays:$e,isOutsideVisibleView:Ue,nextPage:Me,prevPage:ze,formatter:He,grid:De}=na({locale:k,placeholder:P,weekStartsOn:f,fixedWeeks:q,numberOfMonths:j,minValue:r,maxValue:w,disabled:u,weekdayFormat:C,pagedNavigation:g,isDateDisabled:H.value,isDateUnavailable:ie.value,calendarLabel:V,nextPage:de,prevPage:X}),{isInvalid:we,isDateSelected:Le}=oa({date:m,isDateDisabled:xe,isDateUnavailable:Ce});je(m,b=>{if(Array.isArray(b)&&b.length){const G=b[b.length-1];G&&!be(P.value,G)&&ce(G)}else!Array.isArray(b)&&b&&!be(P.value,b)&&ce(b)});function Te(b){if(v.value){if(!m.value)m.value=[b.copy()];else if(Array.isArray(m.value)){if(m.value.findIndex(ee=>ge(ee,b))===-1)m.value=[...m.value,b];else if(!U.value){const ee=m.value.filter(fe=>!ge(fe,b));if(!ee.length){P.value=b.copy(),m.value=void 0;return}m.value=ee.map(fe=>fe.copy())}}}else{if(!m.value){m.value=b.copy();return}!U.value&&be(m.value,b)?(P.value=b.copy(),m.value=void 0):m.value=b.copy()}}return Re(()=>{$.value&&ia(ue.value)}),ha({isDateUnavailable:Ce,dir:x,isDateDisabled:xe,locale:k,formatter:He,modelValue:m,placeholder:P,disabled:u,initialFocus:$,pagedNavigation:g,grid:De,weekDays:$e,weekStartsOn:f,weekdayFormat:C,fixedWeeks:q,multiple:v,numberOfMonths:j,readonly:c,preventDeselect:U,fullCalendarLabel:pe,headingValue:Ee,isInvalid:we,isDateSelected:Le,isNextButtonDisabled:Ie,isPrevButtonDisabled:Ne,isOutsideVisibleView:Ue,nextPage:Me,prevPage:ze,parentElement:ue,onPlaceholderChange:ce,onDateChange:Te,disableDaysOutsideCurrentView:z}),(b,G)=>(d(),p(e(S),{ref_key:"primitiveElement",ref:E,as:b.as,"as-child":b.asChild,role:"application","aria-label":e(pe),"data-readonly":e(c)?"":void 0,"data-disabled":e(u)?"":void 0,"data-invalid":e(we)?"":void 0,dir:e(x)},{default:n(()=>[y(b.$slots,"default",{date:e(P),grid:e(De),weekDays:e($e),weekStartsOn:e(f),locale:e(k),fixedWeeks:e(q),modelValue:e(m)}),o("div",ya,[o("div",ga,h(e(pe)),1)])]),_:3},8,["as","as-child","aria-label","data-readonly","data-disabled","data-invalid","dir"]))}}),Ca=_({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{default:"td"}},setup(l){const s=T();return(a,t)=>{var u,c;return d(),p(e(S),{as:a.as,"as-child":a.asChild,role:"gridcell","aria-selected":e(s).isDateSelected(a.date)?!0:void 0,"aria-disabled":e(s).isDateDisabled(a.date)||((c=(u=e(s)).isDateUnavailable)==null?void 0:c.call(u,a.date))||e(s).disableDaysOutsideCurrentView.value,"data-disabled":e(s).isDateDisabled(a.date)||e(s).disableDaysOutsideCurrentView.value?"":void 0},{default:n(()=>[y(a.$slots,"default")]),_:3},8,["as","as-child","aria-selected","aria-disabled","data-disabled"])}}}),$a=_({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{default:"div"}},setup(l){const s=l,a=ma(),t=T(),{primitiveElement:u,currentElement:c}=Fe(),$=F(()=>s.day.day.toLocaleString(t.locale.value)),g=F(()=>t.formatter.custom(da(s.day),{weekday:"long",month:"long",day:"numeric",year:"numeric"})),f=F(()=>{var V;return((V=t.isDateUnavailable)==null?void 0:V.call(t,s.day))??!1}),C=F(()=>ra(s.day,J())),q=F(()=>!ua(s.day,s.month)),v=F(()=>t.isOutsideVisibleView(s.day)),r=F(()=>t.isDateDisabled(s.day)||t.disableDaysOutsideCurrentView.value&&q.value),w=F(()=>!t.disabled.value&&ge(s.day,t.placeholder.value)),j=F(()=>t.isDateSelected(s.day));function U(V){var R;t.readonly.value||t.isDateDisabled(V)||(R=t.isDateUnavailable)!=null&&R.call(t,V)||t.onDateChange(V)}function H(){r.value||U(s.day)}function ie(V){if(r.value)return;V.preventDefault(),V.stopPropagation();const R=t.parentElement.value,de=7,X=t.dir.value==="rtl"?-1:1;switch(V.code){case a.ARROW_RIGHT:A(c.value,X);break;case a.ARROW_LEFT:A(c.value,-X);break;case a.ARROW_UP:A(c.value,-7);break;case a.ARROW_DOWN:A(c.value,de);break;case a.ENTER:case a.SPACE_CODE:U(s.day)}function A(re,z){const E=ye(R);if(!E.length)return;const k=E.indexOf(re)+z;if(k>=0&&k<E.length){E[k].hasAttribute("data-disabled")&&A(E[k],z),E[k].focus();return}if(k<0){if(t.isPrevButtonDisabled())return;t.prevPage(),qe(()=>{const x=ye(R);if(!x.length)return;if(!t.pagedNavigation.value&&t.numberOfMonths.value>1){const P=ke(t.placeholder.value)-Math.abs(k);x[P].hasAttribute("data-disabled")&&A(x[P],z),x[P].focus();return}const m=x.length-Math.abs(k);x[m].hasAttribute("data-disabled")&&A(x[m],z),x[m].focus()});return}if(k>=E.length){if(t.isNextButtonDisabled())return;t.nextPage(),qe(()=>{const x=ye(R);if(!x.length)return;if(!t.pagedNavigation.value&&t.numberOfMonths.value>1){const Z=ke(t.placeholder.value.add({months:t.numberOfMonths.value-1})),P=k-E.length+(x.length-Z);x[P].hasAttribute("data-disabled")&&A(x[P],z),x[P].focus();return}const m=k-E.length;x[m].hasAttribute("data-disabled")&&A(x[m],z),x[m].focus()})}}}return(V,R)=>(d(),p(e(S),B({ref_key:"primitiveElement",ref:u},s,{role:"button","aria-label":g.value,"data-reka-calendar-cell-trigger":"","aria-disabled":r.value||f.value?!0:void 0,"data-selected":j.value?!0:void 0,"data-value":V.day.toString(),"data-disabled":r.value?"":void 0,"data-unavailable":f.value?"":void 0,"data-today":C.value?"":void 0,"data-outside-view":q.value?"":void 0,"data-outside-visible-view":v.value?"":void 0,"data-focused":w.value?"":void 0,tabindex:w.value?0:q.value||r.value?void 0:-1,onClick:H,onKeydown:[Be(ie,["up","down","left","right","space","enter"]),R[0]||(R[0]=Be(Ae(()=>{},["prevent"]),["enter"]))]}),{default:n(()=>[y(V.$slots,"default",{dayValue:$.value,disabled:r.value,today:C.value,selected:j.value,outsideView:q.value,outsideVisibleView:v.value,unavailable:f.value},()=>[D(h($.value),1)])]),_:3},16,["aria-label","aria-disabled","data-selected","data-value","data-disabled","data-unavailable","data-today","data-outside-view","data-outside-visible-view","data-focused","tabindex"]))}}),Da=_({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{default:"table"}},setup(l){const s=l,a=T(),t=F(()=>a.disabled.value?!0:void 0),u=F(()=>a.readonly.value?!0:void 0);return(c,$)=>(d(),p(e(S),B(s,{tabindex:"-1",role:"grid","aria-readonly":u.value,"aria-disabled":t.value,"data-readonly":u.value&&"","data-disabled":t.value&&""}),{default:n(()=>[y(c.$slots,"default")]),_:3},16,["aria-readonly","aria-disabled","data-readonly","data-disabled"]))}}),wa=_({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{default:"tbody"}},setup(l){const s=l;return(a,t)=>(d(),p(e(S),ne(oe(s)),{default:n(()=>[y(a.$slots,"default")]),_:3},16))}}),Pa=_({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{default:"thead"}},setup(l){const s=l;return(a,t)=>(d(),p(e(S),B(s,{"aria-hidden":"true"}),{default:n(()=>[y(a.$slots,"default")]),_:3},16))}}),Ba=_({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{default:"tr"}},setup(l){const s=l;return(a,t)=>(d(),p(e(S),ne(oe(s)),{default:n(()=>[y(a.$slots,"default")]),_:3},16))}}),qa=_({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{default:"th"}},setup(l){const s=l;return(a,t)=>(d(),p(e(S),ne(oe(s)),{default:n(()=>[y(a.$slots,"default")]),_:3},16))}}),Va=_({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{default:"div"}},setup(l){const s=l;return(a,t)=>(d(),p(e(S),ne(oe(s)),{default:n(()=>[y(a.$slots,"default")]),_:3},16))}}),ka=_({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{default:"div"}},setup(l){const s=l,a=T();return(t,u)=>(d(),p(e(S),B(s,{"data-disabled":e(a).disabled.value?"":void 0}),{default:n(()=>[y(t.$slots,"default",{headingValue:e(a).headingValue.value},()=>[D(h(e(a).headingValue.value),1)])]),_:3},16,["data-disabled"]))}}),Oa=_({__name:"CalendarNext",props:{nextPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(l){const s=l,a=F(()=>t.disabled.value||t.isNextButtonDisabled(s.nextPage)),t=T();return(u,c)=>(d(),p(e(S),{as:s.as,"as-child":s.asChild,"aria-label":"Next page",type:u.as==="button"?"button":void 0,"aria-disabled":a.value||void 0,"data-disabled":a.value||void 0,disabled:a.value,onClick:c[0]||(c[0]=$=>e(t).nextPage(s.nextPage))},{default:n(()=>[y(u.$slots,"default",{disabled:a.value},()=>[c[1]||(c[1]=D(" Next page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),Fa=_({__name:"CalendarPrev",props:{prevPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(l){const s=l,a=F(()=>t.disabled.value||t.isPrevButtonDisabled(s.prevPage)),t=T();return(u,c)=>(d(),p(e(S),{"aria-label":"Previous page",as:s.as,"as-child":s.asChild,type:u.as==="button"?"button":void 0,"aria-disabled":a.value||void 0,"data-disabled":a.value||void 0,disabled:a.value,onClick:c[0]||(c[0]=$=>e(t).prevPage(s.prevPage))},{default:n(()=>[y(u.$slots,"default",{disabled:a.value},()=>[c[1]||(c[1]=D(" Prev page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),Sa={class:"space-y-4"},ja={class:"space-y-2"},Ra={class:"space-y-2"},Aa={class:"space-y-2"},Ea={__name:"ReservationForm",props:{equipment:{type:Object,required:!0}},setup(l){const s=l,a=le({from:null,to:null}),t=Xe({rental_start:null,rental_end:null,quantity:1,notes:""}),u=g=>{t.rental_start=g.from instanceof ae?g.from.toDate(J()):g.from,t.rental_end=g.to instanceof ae?g.to.toDate(J()):g.to},c=F(()=>{if(!a.value.from||!a.value.to)return!1;const g=a.value.from instanceof ae?a.value.from.toDate(J()):new Date(a.value.from),f=a.value.to instanceof ae?a.value.to.toDate(J()):new Date(a.value.to),C=new Date;return g.setHours(0,0,0,0),f.setHours(0,0,0,0),C.setHours(0,0,0,0),g>=C&&f>g&&t.quantity>0});je(a,u,{deep:!0});const $=()=>{c.value&&t.post(route("carts.add",s.equipment.id),{onSuccess:()=>{Pe.success("Article ajouté au camion"),t.reset(),a.value={from:null,to:null}},onError:g=>{Pe.error("Erreur lors de l'ajout au camion",{description:Object.values(g).join(", ")})}})};return(g,f)=>(d(),p(e(L),null,{default:n(()=>[i(e(te),null,{default:n(()=>[i(e(se),null,{default:n(()=>f[3]||(f[3]=[D("Faire une réservation")])),_:1,__:[3]})]),_:1}),i(e(K),null,{default:n(()=>[o("form",{id:"reservation-form",onSubmit:Ae($,["prevent"])},[o("div",Sa,[o("div",ja,[i(e(_e),null,{default:n(()=>f[4]||(f[4]=[D("Période de location")])),_:1,__:[4]}),i(ca,{modelValue:a.value,"onUpdate:modelValue":f[0]||(f[0]=C=>a.value=C),disabled:!1},null,8,["modelValue"])]),o("div",Ra,[i(e(_e),{for:"quantity"},{default:n(()=>f[5]||(f[5]=[D("Quantité")])),_:1,__:[5]}),i(e(aa),{id:"quantity",type:"number",modelValue:e(t).quantity,"onUpdate:modelValue":f[1]||(f[1]=C=>e(t).quantity=C),min:1,disabled:!1},null,8,["modelValue"])]),o("div",Aa,[i(e(_e),{for:"notes"},{default:n(()=>f[6]||(f[6]=[D("Notes")])),_:1,__:[6]}),i(e(ta),{id:"notes",modelValue:e(t).notes,"onUpdate:modelValue":f[2]||(f[2]=C=>e(t).notes=C),placeholder:"Ajoutez des besoins spécifiques ou des questions...",disabled:!1},null,8,["modelValue"])])])],32)]),_:1}),i(e(ba),null,{default:n(()=>[i(e(ea),{type:"submit",form:"reservation-form",disabled:!c.value,onClick:$},{default:n(()=>[i(e(Se),{class:"mr-2 h-4 w-4"}),f[7]||(f[7]=D(" Charger dans mon camion "))]),_:1,__:[7]},8,["disabled"])]),_:1})]),_:1}))}},Ia={class:"flex items-center gap-1"},Na={class:"flex flex-col gap-y-4 mt-4 sm:flex-row sm:gap-x-4 sm:gap-y-0"},Ua=_({__name:"Calendar",props:{defaultValue:{},defaultPlaceholder:{},placeholder:{},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{type:Function},isDateUnavailable:{type:Function},dir:{},nextPage:{type:Function},prevPage:{type:Function},modelValue:{},multiple:{type:Boolean},disableDaysOutsideCurrentView:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},emits:["update:modelValue","update:placeholder"],setup(l,{emit:s}){const a=l,t=s,u=N(a,"class"),c=fa(u,t);return($,g)=>(d(),p(e(xa),B({"data-slot":"calendar",class:e(I)("p-3",a.class)},e(c)),{default:n(({grid:f,weekDays:C})=>[i(e(Wa),null,{default:n(()=>[i(e(Ka)),o("div",Ia,[i(e(Ya)),i(e(Qa))])]),_:1}),o("div",Na,[(d(!0),O(Y,null,Q(f,q=>(d(),p(e(Ha),{key:q.value.toString()},{default:n(()=>[i(e(Ta),null,{default:n(()=>[i(e(Oe),null,{default:n(()=>[(d(!0),O(Y,null,Q(C,v=>(d(),p(e(Ga),{key:v},{default:n(()=>[D(h(v),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),i(e(La),null,{default:n(()=>[(d(!0),O(Y,null,Q(q.rows,(v,r)=>(d(),p(e(Oe),{key:`weekDate-${r}`,class:"mt-2 w-full"},{default:n(()=>[(d(!0),O(Y,null,Q(v,w=>(d(),p(e(Ma),{key:w.toString(),date:w},{default:n(()=>[i(e(za),{day:w,month:q.value},null,8,["day","month"])]),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),Ma=_({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=N(s,"class"),t=M(a);return(u,c)=>(d(),p(e(Ca),B({"data-slot":"calendar-cell",class:e(I)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([data-selected])]:rounded-md [&:has([data-selected])]:bg-accent",s.class)},e(t)),{default:n(()=>[y(u.$slots,"default")]),_:3},16,["class"]))}}),za=_({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{type:[String,Object,Function],default:"button"},class:{}},setup(l){const s=l,a=N(s,"class"),t=M(a);return(u,c)=>(d(),p(e($a),B({"data-slot":"calendar-cell-trigger",class:e(I)(e(he)({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100 cursor-default","[&[data-today]:not([data-selected])]:bg-accent [&[data-today]:not([data-selected])]:text-accent-foreground","data-[selected]:bg-primary data-[selected]:text-primary-foreground data-[selected]:opacity-100 data-[selected]:hover:bg-primary data-[selected]:hover:text-primary-foreground data-[selected]:focus:bg-primary data-[selected]:focus:text-primary-foreground","data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through","data-[outside-view]:text-muted-foreground",s.class)},e(t)),{default:n(()=>[y(u.$slots,"default")]),_:3},16,["class"]))}}),Ha=_({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=N(s,"class"),t=M(a);return(u,c)=>(d(),p(e(Da),B({"data-slot":"calendar-grid",class:e(I)("w-full border-collapse space-x-1",s.class)},e(t)),{default:n(()=>[y(u.$slots,"default")]),_:3},16,["class"]))}}),La=_({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]}},setup(l){const s=l;return(a,t)=>(d(),p(e(wa),B({"data-slot":"calendar-grid-body"},s),{default:n(()=>[y(a.$slots,"default")]),_:3},16))}}),Ta=_({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l;return(a,t)=>(d(),p(e(Pa),B({"data-slot":"calendar-grid-head"},s),{default:n(()=>[y(a.$slots,"default")]),_:3},16))}}),Oe=_({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=N(s,"class"),t=M(a);return(u,c)=>(d(),p(e(Ba),B({"data-slot":"calendar-grid-row",class:e(I)("flex",s.class)},e(t)),{default:n(()=>[y(u.$slots,"default")]),_:3},16,["class"]))}}),Ga=_({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=N(s,"class"),t=M(a);return(u,c)=>(d(),p(e(qa),B({"data-slot":"calendar-head-cell",class:e(I)("text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",s.class)},e(t)),{default:n(()=>[y(u.$slots,"default")]),_:3},16,["class"]))}}),Wa=_({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=N(s,"class"),t=M(a);return(u,c)=>(d(),p(e(Va),B({"data-slot":"calendar-header",class:e(I)("flex justify-center pt-1 relative items-center w-full",s.class)},e(t)),{default:n(()=>[y(u.$slots,"default")]),_:3},16,["class"]))}}),Ka=_({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=N(s,"class"),t=M(a);return(u,c)=>(d(),p(e(ka),B({"data-slot":"calendar-heading",class:e(I)("text-sm font-medium",s.class)},e(t)),{default:n(({headingValue:$})=>[y(u.$slots,"default",{headingValue:$},()=>[D(h($),1)])]),_:3},16,["class"]))}}),Qa=_({__name:"CalendarNextButton",props:{nextPage:{type:Function},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=N(s,"class"),t=M(a);return(u,c)=>(d(),p(e(Oa),B({"data-slot":"calendar-next-button",class:e(I)(e(he)({variant:"outline"}),"absolute right-1","size-7 bg-transparent p-0 opacity-50 hover:opacity-100",s.class)},e(t)),{default:n(()=>[y(u.$slots,"default",{},()=>[i(e(va),{class:"size-4"})])]),_:3},16,["class"]))}}),Ya=_({__name:"CalendarPrevButton",props:{prevPage:{type:Function},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(l){const s=l,a=N(s,"class"),t=M(a);return(u,c)=>(d(),p(e(Fa),B({"data-slot":"calendar-prev-button",class:e(I)(e(he)({variant:"outline"}),"absolute left-1","size-7 bg-transparent p-0 opacity-50 hover:opacity-100",s.class)},e(t)),{default:n(()=>[y(u.$slots,"default",{},()=>[i(e(_a),{class:"size-4"})])]),_:3},16,["class"]))}}),Ja={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8"},Xa={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Za={class:"lg:col-span-2 space-y-8"},et={class:"space-y-2"},at={class:"flex items-center gap-2"},tt={class:"relative aspect-[16/9] w-full bg-muted"},st={key:1,class:"w-full h-full flex items-center justify-center rounded-t-lg"},lt={class:"text-center space-y-2"},nt={class:"text-muted-foreground font-medium"},ot={key:0},it={class:"grid grid-cols-2 gap-4"},dt={class:"text-sm font-medium text-muted-foreground"},rt={class:"mt-1"},ut={key:1},ct={class:"grid grid-cols-2 gap-4"},pt={key:0},ft={class:"mt-1"},mt={key:1},vt={class:"mt-1"},_t={class:"space-y-8"},bt={class:"flex items-center justify-between"},yt={class:"text-2xl font-bold"},gt={key:0,class:"flex items-center justify-between"},ht={class:"font-medium"},xt={class:"flex items-center justify-between"},Ct={class:"lg:col-span-1"},$t={class:"space-y-2"},Dt={class:"font-medium"},wt={class:"text-muted-foreground"},Pt={class:"space-y-2"},Bt={class:"text-muted-foreground"},qt={class:"text-muted-foreground"},Vt={class:"space-y-4"},kt={key:0,class:"flex justify-center py-4"},Zt={__name:"Show",props:{equipment:{type:Object,required:!0}},setup(l){const s=l,a=le(new Date),t=le({}),u=le(!1),c=v=>({new:"success",good:"default",fair:"warning",poor:"destructive"})[v]||"default",$=v=>new Intl.NumberFormat("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(v),g=v=>new Date(v).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),f=v=>v.split("_").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),C=async v=>{u.value=!0;try{const r=await Ze.get(`/api/equipments/${s.equipment.id}/availability`,{params:{month:v.getMonth()+1,year:v.getFullYear()}});t.value=r.data.availabilities}catch(r){console.error("Erreur lors du chargement des disponibilités:",r)}finally{u.value=!1}},q=v=>{a.value=v,C(v)};return Re(()=>{C(a.value)}),(v,r)=>(d(),p(Ge,{title:l.equipment.name,description:l.equipment.description},{default:n(()=>[o("div",Ja,[o("div",Xa,[o("div",Za,[i(e(L),null,{default:n(()=>[i(e(te),null,{default:n(()=>[o("div",et,[o("div",at,[i(e(me),{variant:"outline"},{default:n(()=>{var w;return[D(h((w=l.equipment.category)==null?void 0:w.name),1)]}),_:1}),i(e(me),{variant:c(l.equipment.condition)},{default:n(()=>[D(h(l.equipment.condition),1)]),_:1},8,["variant"])]),i(e(se),{class:"text-3xl"},{default:n(()=>[D(h(l.equipment.name),1)]),_:1}),i(e(We),{class:"text-lg"},{default:n(()=>[D(h(l.equipment.description),1)]),_:1})])]),_:1})]),_:1}),i(e(L),null,{default:n(()=>[i(e(K),{class:"p-0"},{default:n(()=>[o("div",tt,[l.equipment.images&&l.equipment.images.length>0?(d(),p(Qe,{key:0,images:l.equipment.images},null,8,["images"])):(d(),O("div",st,[o("div",lt,[i(e(Se),{class:"w-12 h-12 mx-auto text-muted-foreground"}),o("p",nt,h(l.equipment.name),1)])]))])]),_:1})]),_:1}),i(e(L),null,{default:n(()=>[i(e(K),{class:"space-y-6"},{default:n(()=>[l.equipment.specifications?(d(),O("div",ot,[r[0]||(r[0]=o("h3",{class:"text-lg font-semibold mb-2"},"Spécifications",-1)),o("div",it,[(d(!0),O(Y,null,Q(l.equipment.specifications,(w,j)=>(d(),O("div",{key:j},[o("h4",dt,h(f(j)),1),o("p",rt,h(w),1)]))),128))])])):W("",!0),l.equipment.last_maintenance_date||l.equipment.next_maintenance_date?(d(),O("div",ut,[r[3]||(r[3]=o("h3",{class:"text-lg font-semibold mb-2"},"Informations de maintenance",-1)),o("div",ct,[l.equipment.last_maintenance_date?(d(),O("div",pt,[r[1]||(r[1]=o("h4",{class:"text-sm font-medium text-muted-foreground"},"Dernière maintenance",-1)),o("p",ft,h(g(l.equipment.last_maintenance_date)),1)])):W("",!0),l.equipment.next_maintenance_date?(d(),O("div",mt,[r[2]||(r[2]=o("h4",{class:"text-sm font-medium text-muted-foreground"},"Prochaine maintenance",-1)),o("p",vt,h(g(l.equipment.next_maintenance_date)),1)])):W("",!0)])])):W("",!0)]),_:1})]),_:1})]),o("div",_t,[i(e(L),null,{default:n(()=>[i(e(te),null,{default:n(()=>[i(e(se),null,{default:n(()=>r[4]||(r[4]=[D("Tarification")])),_:1,__:[4]})]),_:1}),i(e(K),{class:"space-y-4"},{default:n(()=>[o("div",bt,[r[5]||(r[5]=o("span",{class:"text-muted-foreground"},"Prix de location",-1)),o("span",yt,h($(l.equipment.rental_price))+" €",1)]),l.equipment.requires_deposit?(d(),O("div",gt,[r[6]||(r[6]=o("span",{class:"text-muted-foreground"},"Caution requise",-1)),o("span",ht,h($(l.equipment.deposit_amount))+" €",1)])):W("",!0),i(e(ve)),o("div",xt,[r[7]||(r[7]=o("span",{class:"text-muted-foreground"},"Disponibilité",-1)),i(e(me),{variant:l.equipment.is_available?"success":"destructive"},{default:n(()=>[D(h(l.equipment.is_available?"Disponible":"Indisponible"),1)]),_:1},8,["variant"])])]),_:1})]),_:1}),o("div",Ct,[i(Ea,{equipment:l.equipment},null,8,["equipment"])]),i(e(L),null,{default:n(()=>[i(e(te),null,{default:n(()=>[i(e(se),null,{default:n(()=>r[8]||(r[8]=[D("Localisation")])),_:1,__:[8]})]),_:1}),i(e(K),{class:"space-y-4"},{default:n(()=>{var w,j,U,H;return[o("div",$t,[o("p",Dt,h((w=l.equipment.depot)==null?void 0:w.name),1),o("p",wt,h((j=l.equipment.depot)==null?void 0:j.city),1)]),i(e(ve)),o("div",Pt,[r[9]||(r[9]=o("h4",{class:"font-medium"},"Informations de contact",-1)),o("p",Bt,h((U=l.equipment.depot)==null?void 0:U.phone),1),o("p",qt,h((H=l.equipment.depot)==null?void 0:H.email),1)]),i(e(ve)),o("div",Vt,[r[11]||(r[11]=o("h4",{class:"font-medium"},"Disponibilités",-1)),u.value?(d(),O("div",kt,r[10]||(r[10]=[o("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"},null,-1)]))):(d(),p(e(Ua),{key:1,disabled:!0,modifiers:{today:!1},month:a.value,"onUpdate:month":q,class:"rounded-md border"},null,8,["month"])),r[12]||(r[12]=o("div",{class:"flex items-center gap-2 text-sm text-muted-foreground"},[o("div",{class:"flex items-center gap-1"},[o("div",{class:"size-2 rounded-full bg-primary"}),o("span",null,"Disponible")]),o("div",{class:"flex items-center gap-1"},[o("div",{class:"size-2 rounded-full bg-destructive"}),o("span",null,"Indisponible")])],-1))])]}),_:1})]),_:1})])])])]),_:1},8,["title","description"]))}};export{Zt as default};
