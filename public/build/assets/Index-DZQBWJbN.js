import{_ as z}from"./AppLayout-noONLsxB.js";import{_ as D}from"./OrganisationLayout.vue_vue_type_script_setup_true_lang-Dz8vF4f0.js";import{r as x,c as M,o as n,w as o,i as s,l as i,u as t,J as _,p as r,k as l,F as g,v as k,f as V,s as d}from"./app-qa8um4kZ.js";import{_ as m}from"./index-BzBeTBtZ.js";import{_ as b}from"./HeadingSmall.vue_vue_type_script_setup_true_lang-BodyjE-D.js";import{_ as B,a as T}from"./DialogContent.vue_vue_type_script_setup_true_lang-BosUnCkY.js";import{_ as j,a as q}from"./DialogFooter.vue_vue_type_script_setup_true_lang-B99DSulJ.js";import{_ as A,a as I}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C1SPVpGF.js";import{B as N}from"./building-2-CvXF5lTW.js";import{M as G}from"./map-pin-CwOZe1P-.js";import{c as $}from"./createLucideIcon-C0Kd60M4.js";import{T as L}from"./triangle-alert-BE0N4sQG.js";import"./FlashMessage-CWixpSef.js";import"./x-CyXp4GtK.js";import"./Input.vue_vue_type_script_setup_true_lang-BFxz0zMI.js";import"./Heading.vue_vue_type_script_setup_true_lang-DyHNzkI-.js";import"./Separator.vue_vue_type_script_setup_true_lang-BAtTp3GY.js";import"./Separator-BELC9T-Z.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=$("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=$("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),F={class:"space-y-6"},J={class:"space-y-4"},E={class:"flex justify-end"},H={class:"divide-y divide-gray-200 rounded-lg border"},U={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},K={class:"space-y-3"},O={class:"flex items-center gap-2"},Q={class:"text-base font-semibold text-gray-900"},R={key:0,class:"text-sm text-gray-500"},W={class:"flex items-start gap-2 text-sm text-gray-600"},X={class:"flex items-center gap-2 self-start sm:self-center"},Y={class:"font-medium text-foreground"},Z={key:0,class:"rounded-lg border p-4 space-y-2"},ee={class:"list-disc list-inside space-y-1"},se={key:1,class:"text-sm"},ke={__name:"Index",props:{depots:{type:Array,default:()=>[]}},setup(h){const u=x(!1),p=x(null),C=c=>{p.value=c,u.value=!0},w=()=>{_.delete(route("app.organizations.depots.destroy",p.value.id),{preserveScroll:!0}),u.value=!1};return(c,e)=>(n(),M(z,{title:"Gestion des dépôts"},{default:o(()=>[s(D,null,{default:o(()=>[i("section",F,[s(b,{title:"Gestion des dépôts",description:"Gérez les lieux de stockage de votre organisation."}),i("div",J,[i("div",E,[s(t(m),{onClick:e[0]||(e[0]=a=>t(_).visit(c.route("app.organizations.depots.create")))},{default:o(()=>e[3]||(e[3]=[r(" Ajouter un dépôt ")])),_:1,__:[3]})]),i("div",H,[(n(!0),l(g,null,k(h.depots,a=>(n(),l("div",{key:a.id,class:"group p-4 sm:p-6 hover:bg-gray-50"},[i("div",U,[i("div",K,[i("div",O,[s(t(N),{class:"h-5 w-5 text-primary-500 flex-shrink-0"}),i("h3",Q,d(a.name),1)]),a.description?(n(),l("p",R,d(a.description),1)):V("",!0),i("div",W,[s(t(G),{class:"h-4 w-4 mt-0.5 flex-shrink-0"}),i("div",null,[i("div",null,d(a.address),1),i("div",null,d(a.postal_code)+" "+d(a.city),1)])])]),i("div",X,[s(t(m),{variant:"outline",size:"sm",onClick:f=>t(_).visit(c.route("app.organizations.depots.edit",a.id))},{default:o(()=>[s(t(P),{class:"h-4 w-4 mr-2"}),e[4]||(e[4]=r(" Modifier "))]),_:2,__:[4]},1032,["onClick"]),s(t(m),{variant:"destructive",size:"sm",onClick:f=>C(a)},{default:o(()=>[s(t(S),{class:"h-4 w-4 mr-2"}),e[5]||(e[5]=r(" Supprimer "))]),_:2,__:[5]},1032,["onClick"])])])]))),128))])])])]),_:1}),s(t(B),{open:u.value,"onUpdate:open":e[2]||(e[2]=a=>u.value=a)},{default:o(()=>[s(t(T),{class:"sm:max-w-[500px]"},{default:o(()=>[s(t(A),null,{default:o(()=>[s(t(I),{class:"flex items-center gap-2"},{default:o(()=>[s(t(L),{class:"h-5 w-5 text-destructive"}),e[6]||(e[6]=r(" Confirmation de suppression "))]),_:1,__:[6]}),s(t(j),{class:"space-y-4"},{default:o(()=>{var a,f,v;return[i("p",null,[e[7]||(e[7]=r(" Vous êtes sur le point de supprimer le dépôt ")),i("span",Y,d((a=p.value)==null?void 0:a.name),1),e[8]||(e[8]=r(". "))]),(v=(f=p.value)==null?void 0:f.equipments)!=null&&v.length?(n(),l("div",Z,[e[9]||(e[9]=i("p",{class:"font-medium text-foreground"}," Ce dépôt contient les équipements suivants qui devront être réaffectés : ",-1)),i("ul",ee,[(n(!0),l(g,null,k(p.value.equipments,y=>(n(),l("li",{key:y.id,class:"text-sm"},d(y.name),1))),128))])])):(n(),l("p",se," Ce dépôt ne contient aucun équipement. "))]}),_:1})]),_:1}),s(t(q),null,{default:o(()=>[s(t(m),{variant:"outline",onClick:e[1]||(e[1]=a=>u.value=!1)},{default:o(()=>e[10]||(e[10]=[r(" Annuler ")])),_:1,__:[10]}),s(t(m),{variant:"destructive",onClick:w},{default:o(()=>e[11]||(e[11]=[r(" Confirmer la suppression ")])),_:1,__:[11]})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1}))}};export{ke as default};
