import{c as _,o as d,w as e,b as s,a as l,d as a,I as y,g as p,e as i,F as b,r as k,l as g,t as o,n as z,h as $}from"./app-CDkfPBg2.js";import h from"./Layout-DIcmGpfx.js";import{_ as c}from"./index-65JhgSXb.js";import{_ as j,a as w}from"./CardContent.vue_vue_type_script_setup_true_lang-BwY1k5uY.js";import{_ as C,a as D,b as v,c as f,d as N,e as m}from"./TableHeader.vue_vue_type_script_setup_true_lang-LYIgAMSL.js";import{_ as q}from"./Pagination-DW2yGdvv.js";import"./AppLayout-NUKTXHGn.js";import"./FlashMessage-Bgd8Y0V4.js";import"./UserDropdown-DV7LpPPu.js";import"./createLucideIcon-0yiBpjK2.js";import"./Teleport-s_66PIEs.js";import"./useForwardExpose-Ixl8nGZM.js";import"./index-SvMzU23N.js";import"./package-BkMMGl44.js";import"./loader-circle-BpmKfqjc.js";import"./Input.vue_vue_type_script_setup_true_lang-mZv2NTKQ.js";import"./plus-kbKk7H3P.js";import"./upload-7kVVW1Sv.js";const B={class:"flex justify-between items-center"},R={class:"font-semibold text-xl leading-tight"},V={class:"py-12"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},O={key:0,class:"text-center py-12"},P={key:1},S={class:"text-xs text-gray-500"},A={class:"flex items-center justify-end space-x-2"},I={class:"mt-4"},lt={__name:"Index",props:{organization:{type:Object,required:!0},reservations:{type:Object,required:!0},can:{type:Object,required:!0}},setup(r){const x=u=>new Date(u).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"});return(u,t)=>(d(),_(h,{title:"Réservations - "+r.organization.name},{header:e(()=>[l("div",B,[l("div",null,[l("h2",R," Réservations ("+o(r.reservations.total)+") ",1),t[0]||(t[0]=l("p",{class:"text-sm text-muted-foreground"},"Matériel que vous louez ou prêtez à d'autres organisations",-1))]),r.can.create?(d(),_(a(c),{key:0,as:"a",href:u.route("app.organizations.reservations.in.create",r.organization),variant:"default",size:"default"},{default:e(()=>t[1]||(t[1]=[i(" Nouvelle réservation ",-1)])),_:1,__:[1]},8,["href"])):$("",!0)])]),default:e(()=>[s(a(y),{title:"Réservations"}),l("div",V,[l("div",F,[s(a(j),null,{default:e(()=>[s(a(w),null,{default:e(()=>[r.reservations.data.length===0?(d(),p("div",O,[t[3]||(t[3]=l("p",{class:"text-muted-foreground text-lg"}," Aucune réservation trouvée ",-1)),s(a(c),{as:"a",href:u.route("home"),variant:"default",class:"mt-4"},{default:e(()=>t[2]||(t[2]=[i(" Parcourir le matériel disponible ",-1)])),_:1,__:[2]},8,["href"])])):(d(),p("div",P,[s(a(C),null,{default:e(()=>[s(a(D),null,{default:e(()=>[s(a(v),null,{default:e(()=>[s(a(f),null,{default:e(()=>t[4]||(t[4]=[l("div",{class:"flex items-center space-x-2"},[l("span",null,"Provenance")],-1)])),_:1,__:[4]}),s(a(f),null,{default:e(()=>t[5]||(t[5]=[l("div",{class:"flex items-center space-x-2"},[l("span",null,"Contact")],-1)])),_:1,__:[5]}),s(a(f),null,{default:e(()=>t[6]||(t[6]=[l("div",{class:"flex items-center space-x-2"},[l("span",null,"Période")],-1)])),_:1,__:[6]}),s(a(f),null,{default:e(()=>t[7]||(t[7]=[l("div",{class:"flex items-center space-x-2"},[l("span",null,"Statut")],-1)])),_:1,__:[7]}),s(a(f),{class:"text-right"},{default:e(()=>t[8]||(t[8]=[i("Actions",-1)])),_:1,__:[8]})]),_:1})]),_:1}),s(a(N),null,{default:e(()=>[(d(!0),p(b,null,k(r.reservations.data,n=>(d(),_(a(v),{key:n.id},{default:e(()=>[s(a(m),{class:"font-medium"},{default:e(()=>[s(a(g),{href:u.route("app.organizations.reservations.in.edit",n)},{default:e(()=>[i(o(n.lender_organization.name),1)]),_:2},1032,["href"])]),_:2},1024),s(a(m),null,{default:e(()=>[i(o(n.user.name),1),t[9]||(t[9]=l("br",null,null,-1)),l("span",S,o(n.user.phone),1)]),_:2,__:[9]},1024),s(a(m),null,{default:e(()=>[i(" Du "+o(x(n.start_date)),1),t[10]||(t[10]=l("br",null,null,-1)),i(" au "+o(x(n.end_date)),1)]),_:2,__:[10]},1024),s(a(m),null,{default:e(()=>[l("span",{class:z([n.status_color,"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},o(n.status_label),3)]),_:2},1024),s(a(m),{class:"text-right"},{default:e(()=>[l("div",A,[s(a(c),{asChild:""},{default:e(()=>[s(a(g),{href:u.route("app.organizations.reservations.in.edit",n)},{default:e(()=>t[11]||(t[11]=[i(" Gérer ",-1)])),_:2,__:[11]},1032,["href"])]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),l("div",I,[s(q,{links:r.reservations.links},null,8,["links"])])]))]),_:1})]),_:1})])])]),_:1},8,["title"]))}};export{lt as default};
