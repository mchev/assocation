import{b as D,u as e,d as z,t as ut,r as V,e as te,C as Y,c as S,o as v,w as p,a as j,f as F,i as u,G as Q,B as T,m as O,R as ct,g as de,h as we,U as mt,z as $e,k as $,l as s,p as q,s as C,S as ie,F as G,v as se,x as M,H as ft,M as pt,V as vt,I as Ae,P as Ne,L as ht,A as gt}from"./app-OmRqJJ7w.js";import{_ as yt}from"./AppLayout-CshVtkiq.js";import{_ as xt,a as bt}from"./CardContent.vue_vue_type_script_setup_true_lang-BpobYg4H.js";import{P as A,_ as K,c as N}from"./index-CuOcmpt_.js";import{c as ae,a as ue,h as _t,X as oe,b as He,d as Ue}from"./x-CSvWlYPz.js";import{A as Ge,E as kt}from"./euro-BJfZhelB.js";import{S as wt}from"./sparkles-DEFOWQrI.js";import{S as Qe,U as $t}from"./users-DYheF0sS.js";import{c as le}from"./createLucideIcon-Dne1Jj3y.js";import{a as Ct,b as St,c as Vt,d as J,_ as qt}from"./SelectValue.vue_vue_type_script_setup_true_lang-BFc0figU.js";import{_ as Z}from"./Label.vue_vue_type_script_setup_true_lang-CWJdw_Sy.js";import{_ as Le,a as De,b as ze,c as je}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-Cgw0fyiw.js";import{l as We,m as Xe,n as Je,o as Me,e as Oe,_ as It}from"./DateRangePicker-CzGEf7sC.js";import{c as Ye,e as ye,f as Et,u as Ft,r as H,g as Bt}from"./Input.vue_vue_type_script_setup_true_lang-D2wggn5X.js";import{k as Ce,l as Lt,g as Ze,u as Dt,m as zt,e as Se,_ as jt,d as Mt}from"./FlashMessage-DkDHxcrj.js";import{i as _e}from"./ohash.D__AXeF1-DHF4M4F_.js";import{u as Ot,C as xe}from"./check-B4btS2cr.js";import{_ as Pt}from"./VisuallyHiddenInput-2ggyK5Ah.js";import{u as Rt}from"./useKbd-kRIii9yh.js";import{_ as Tt}from"./Separator-D7XEc0eU.js";import{_ as Kt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as At}from"./chevron-down-BaUQUZsw.js";import{C as Nt}from"./chevron-right-JnjF4HWa.js";import{d as Ht}from"./debounce-CcyXmAo6.js";import{M as ke}from"./map-pin-BWftUNpO.js";import{_ as Ut}from"./Pagination-__meIpxR.js";import{T as Gt}from"./triangle-alert-CFEZH_6k.js";import{f as Pe,a as Re}from"./fr-D_pP4D31.js";import"./clamp-Cm69Dkpd.js";import"./VisuallyHidden-Dz66gyJi.js";import"./nullish-CHIgUVhi.js";function Qt(t){const m=D(()=>e(t)),i=D(()=>new Intl.Collator("en",{usage:"search",...m.value}));return{startsWith:(a,o)=>o.length===0?!0:(a=a.normalize("NFC"),o=o.normalize("NFC"),i.value.compare(a.slice(0,o.length),o)===0),endsWith:(a,o)=>o.length===0?!0:(a=a.normalize("NFC"),o=o.normalize("NFC"),i.value.compare(a.slice(-o.length),o)===0),contains:(a,o)=>{if(o.length===0)return!0;a=a.normalize("NFC"),o=o.normalize("NFC");let n=0;const x=o.length;for(;n+x<=a.length;n++){const w=a.slice(n,n+x);if(i.value.compare(o,w)===0)return!0}return!1}}}function Wt(t,m,i){return t===void 0?!1:Array.isArray(t)?t.some(f=>ee(f,m,i)):ee(t,m,i)}function ee(t,m,i){return t===void 0||m===void 0?!1:typeof t=="string"?t===m:typeof i=="function"?i(t,m):typeof i=="string"?(t==null?void 0:t[i])===(m==null?void 0:m[i]):_e(t,m)}function Xt(t,m,i){const f=t.findIndex(o=>_e(o,m)),d=t.findIndex(o=>_e(o,i));if(f===-1||d===-1)return[];const[l,a]=[f,d].sort((o,n)=>o-n);return t.slice(l,a+1)}const[Ve,Jt]=ae("ListboxRoot"),Yt=z({__name:"ListboxRoot",props:{modelValue:{},defaultValue:{},multiple:{type:Boolean},orientation:{default:"vertical"},dir:{},disabled:{type:Boolean},selectionBehavior:{default:"toggle"},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{expose:m,emit:i}){const f=t,d=i,{multiple:l,highlightOnHover:a,orientation:o,disabled:n,selectionBehavior:x,dir:w}=ut(f),{getItems:b}=Ce({isProvider:!0}),{handleTypeaheadSearch:y}=Lt(),{primitiveElement:g,currentElement:c}=Ze(),r=Rt(),I=Dt(w),et=Ot(c),ne=V(),W=V(!1),me=V(!0),B=Ye(f,"modelValue",d,{defaultValue:f.defaultValue??(l.value?[]:void 0),passive:f.modelValue===void 0,deep:!0});function tt(h){if(W.value=!0,f.multiple){const _=Array.isArray(B.value)?[...B.value]:[],k=_.findIndex(E=>ee(E,h,f.by));f.selectionBehavior==="toggle"?(k===-1?_.push(h):_.splice(k,1),B.value=_):(B.value=[h],ne.value=h)}else f.selectionBehavior==="toggle"&&ee(B.value,h,f.by)?B.value=void 0:B.value=h;setTimeout(()=>{W.value=!1},1)}const L=V(null),fe=V(null),U=V(!1),pe=V(!1),qe=ye(),ve=ye(),Ie=ye();function he(){return b().map(h=>h.ref).filter(h=>h.dataset.disabled!=="")}function P(h,_=!0){if(!h)return;L.value=h,me.value&&L.value.focus(),_&&L.value.scrollIntoView({block:"nearest"});const k=b().find(E=>E.ref===h);d("highlight",k)}function st(h){if(U.value)Ie.trigger(h);else{const _=b().find(k=>ee(k.value,h,f.by));_&&(L.value=_.ref,P(_.ref))}}function at(h){L.value&&L.value.isConnected&&(h.preventDefault(),h.stopPropagation(),pe.value||L.value.click())}function ot(h){if(me.value){if(W.value=!0,U.value)ve.trigger(h);else{const _=h.altKey||h.ctrlKey||h.metaKey;if(_&&h.key==="a"&&l.value){const k=b(),E=k.map(R=>R.value);B.value=[...E],h.preventDefault(),P(k[k.length-1].ref)}else if(!_){const k=y(h.key,b());k&&P(k)}}setTimeout(()=>{W.value=!1},1)}}function lt(){pe.value=!0}function nt(){requestAnimationFrame(()=>{pe.value=!1})}function Ee(){Y(()=>{const h=new KeyboardEvent("keydown",{key:"PageUp"});Fe(h)})}function ge(h){const _=L.value;_!=null&&_.isConnected&&(fe.value=_),L.value=null,d("leave",h)}function rt(h){var k,E;const _=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((k=h.currentTarget)==null||k.dispatchEvent(_),d("entryFocus",_),!_.defaultPrevented)if(fe.value)P(fe.value);else{const R=(E=he())==null?void 0:E[0];P(R)}}function Fe(h){const _=zt(h,o.value,I.value);if(!_)return;let k=he();if(L.value){if(_==="last")k.reverse();else if(_==="prev"||_==="next"){_==="prev"&&k.reverse();const E=k.indexOf(L.value);k=k.slice(E+1)}it(h,k[0])}if(k.length){const E=!L.value&&_==="prev"?k.length-1:0;P(k[E])}if(U.value)return ve.trigger(h)}function it(h,_){var E;if(!(U.value||f.selectionBehavior!=="replace"||!l.value||!Array.isArray(B.value)||(h.altKey||h.ctrlKey||h.metaKey)&&!h.shiftKey)&&h.shiftKey){const R=b().filter(X=>X.ref.dataset.disabled!=="");let re=(E=R.find(X=>X.ref===_))==null?void 0:E.value;if(h.key===r.END?re=R[R.length-1].value:h.key===r.HOME&&(re=R[0].value),!re||!ne.value)return;const dt=Xt(R.map(X=>X.value),ne.value,re);B.value=dt}}async function Be(h){if(await Y(),U.value)qe.trigger(h);else{const _=he(),k=_.find(E=>E.dataset.state==="checked");k?P(k):_.length&&P(_[0])}}return te(B,()=>{W.value||Y(()=>{Be()})},{immediate:!0,deep:!0}),m({highlightedElement:L,highlightItem:st,highlightFirstItem:Ee,highlightSelected:Be,getItems:b}),Jt({modelValue:B,onValueChange:tt,multiple:l,orientation:o,dir:I,disabled:n,highlightOnHover:a,highlightedElement:L,isVirtual:U,virtualFocusHook:qe,virtualKeydownHook:ve,virtualHighlightHook:Ie,by:f.by,firstValue:ne,selectionBehavior:x,focusable:me,onLeave:ge,onEnter:rt,changeHighlight:P,onKeydownEnter:at,onKeydownNavigation:Fe,onKeydownTypeAhead:ot,onCompositionStart:lt,onCompositionEnd:nt,highlightFirstItem:Ee}),(h,_)=>(v(),S(e(A),{ref_key:"primitiveElement",ref:g,as:h.as,"as-child":h.asChild,dir:e(I),"data-disabled":e(n)?"":void 0,onPointerleave:ge,onFocusout:_[0]||(_[0]=async k=>{const E=k.relatedTarget||k.target;await Y(),L.value&&e(c)&&!e(c).contains(E)&&ge(k)})},{default:p(()=>[j(h.$slots,"default",{modelValue:e(B)}),e(et)&&h.name?(v(),S(e(Pt),{key:0,name:h.name,value:e(B),disabled:e(n),required:h.required},null,8,["name","value","disabled","required"])):F("",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),Zt=z({__name:"ListboxContent",props:{asChild:{type:Boolean},as:{}},setup(t){const{CollectionSlot:m}=Ce(),i=Ve(),f=Et(!1,10);return(d,l)=>(v(),S(e(m),null,{default:p(()=>[u(e(A),{role:"listbox",as:d.as,"as-child":d.asChild,tabindex:e(i).focusable.value?e(i).highlightedElement.value?"-1":"0":void 0,"aria-orientation":e(i).orientation.value,"aria-multiselectable":!!e(i).multiple.value,"data-orientation":e(i).orientation.value,onMousedown:l[0]||(l[0]=T(a=>f.value=!0,["left"])),onFocus:l[1]||(l[1]=a=>{e(f)||e(i).onEnter(a)}),onKeydown:[l[2]||(l[2]=Q(T(a=>{e(i).focusable.value&&e(i).onKeydownNavigation(a)},["prevent"]),["down","up","left","right","home","end"])),Q(e(i).onKeydownEnter,["enter"]),e(i).onKeydownTypeAhead]},{default:p(()=>[j(d.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),[es,ts]=ae("ListboxGroup"),ss=z({__name:"ListboxGroup",props:{asChild:{type:Boolean},as:{}},setup(t){const m=t,i=ue(void 0,"reka-listbox-group");return ts({id:i}),(f,d)=>(v(),S(e(A),O({role:"group"},m,{"aria-labelledby":e(i)}),{default:p(()=>[j(f.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),as=z({__name:"ListboxFilter",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},emits:["update:modelValue"],setup(t,{emit:m}){const i=t,d=Ye(i,"modelValue",m,{defaultValue:"",passive:i.modelValue===void 0}),l=Ve(),{primitiveElement:a,currentElement:o}=Ze(),n=D(()=>i.disabled||l.disabled.value||!1),x=V();return ct(()=>{var w;return x.value=(w=l.highlightedElement.value)==null?void 0:w.id}),de(()=>{l.focusable.value=!1,setTimeout(()=>{var w;i.autoFocus&&((w=o.value)==null||w.focus())},1)}),we(()=>{l.focusable.value=!0}),(w,b)=>(v(),S(e(A),{ref_key:"primitiveElement",ref:a,as:w.as,"as-child":w.asChild,value:e(d),disabled:n.value?"":void 0,"data-disabled":n.value?"":void 0,"aria-disabled":n.value??void 0,"aria-activedescendant":x.value,type:"text",onKeydown:[Q(T(e(l).onKeydownNavigation,["prevent"]),["down","up","home","end"]),Q(e(l).onKeydownEnter,["enter"])],onInput:b[0]||(b[0]=y=>{d.value=y.target.value,e(l).highlightFirstItem(y)}),onCompositionstart:e(l).onCompositionStart,onCompositionend:e(l).onCompositionEnd},{default:p(()=>[j(w.$slots,"default",{modelValue:e(d)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),os="listbox.select",[Mo,ls]=ae("ListboxItem"),ns=z({__name:"ListboxItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},emits:["select"],setup(t,{emit:m}){const i=t,f=m,d=ue(void 0,"reka-listbox-item"),{CollectionItem:l}=Ce(),{forwardRef:a,currentElement:o}=Ft(),n=Ve(),x=D(()=>o.value===n.highlightedElement.value),w=D(()=>Wt(n.modelValue.value,i.value,n.by)),b=D(()=>n.disabled.value||i.disabled);async function y(c){f("select",c),!(c!=null&&c.defaultPrevented)&&!b.value&&c&&(n.onValueChange(i.value),n.changeHighlight(o.value))}function g(c){const r={originalEvent:c,value:i.value};_t(os,y,r)}return ls({isSelected:w}),(c,r)=>(v(),S(e(l),{value:c.value},{default:p(()=>[mt([x.value,w.value],()=>u(e(A),O({id:e(d)},c.$attrs,{ref:e(a),role:"option",tabindex:e(n).focusable.value?x.value?"0":"-1":-1,"aria-selected":w.value,as:c.as,"as-child":c.asChild,disabled:b.value?"":void 0,"data-disabled":b.value?"":void 0,"data-highlighted":x.value?"":void 0,"data-state":w.value?"checked":"unchecked",onClick:g,onKeydown:Q(T(g,["prevent"]),["space"]),onPointermove:r[0]||(r[0]=I=>{e(n).highlightedElement.value!==e(o)&&(e(n).highlightOnHover.value?e(n).changeHighlight(e(o),!1):e(n).focusable.value||e(n).changeHighlight(e(o),!1))})}),{default:p(()=>[j(c.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),r,1)]),_:3},8,["value"]))}}),rs=z({__name:"ListboxGroupLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(t){const m=t,i=es({id:""});return(f,d)=>(v(),S(e(A),O(m,{id:e(i).id}),{default:p(()=>[j(f.$slots,"default")]),_:3},16,["id"]))}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=le("CircleHelpIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=le("LayoutListIcon",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=le("PackageSearchIcon",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=le("SearchXIcon",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=le("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),cs={key:0,"aria-labelledby":"hero-heading",class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},ms={class:"flex flex-col lg:flex-row items-center gap-8"},fs={class:"flex-1 text-center lg:text-left"},ps={class:"space-y-4"},vs={class:"text-base text-gray-500 max-w-xl mx-auto lg:mx-0 dark:text-gray-400"},hs={class:"text-gray-900 dark:text-white"},gs={class:"mt-6 flex flex-wrap items-center gap-3 justify-center lg:justify-start"},ys={class:"flex-shrink-0 lg:w-80"},xs={class:"rounded-lg p-4"},bs={class:"grid gap-3",role:"list"},_s={class:"text-sm font-medium text-gray-900 dark:text-white"},ks={class:"text-xs text-gray-500 mt-0.5 dark:text-gray-400"},ws={__name:"HeroSection",setup(t){const i=$e().props.name,f=V(!0),d=()=>{f.value=!1,localStorage.setItem("heroCardDismissed","true")},l=[{icon:wt,title:"Gratuit",description:"Pour une association ou un particulier"},{icon:Qe,title:"Réservation sécurisée",description:"Processus simple et sûr"},{icon:is,title:"Gestion d'inventaire",description:"Suivez votre matériel"},{icon:$t,title:"Communauté active",description:"Réseau associatif"}];return(a,o)=>(v(),S(pt,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform -translate-y-4 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-4 opacity-0"},{default:p(()=>[f.value?(v(),$("section",cs,[o[7]||(o[7]=s("div",{class:"absolute inset-0 rounded-2xl"},null,-1)),u(e(xt),{class:"relative border-none bg-gradient-to-br from-violet-100 via-blue-50 to-background dark:from-violet-950 dark:via-blue-950 dark:to-background"},{default:p(()=>[u(e(K),{variant:"ghost",size:"icon",class:"absolute right-3 top-3 hover:bg-white/80",onClick:d},{default:p(()=>[u(e(oe),{class:"h-4 w-4"}),o[0]||(o[0]=s("span",{class:"sr-only"},"Fermer la bannière d'accueil",-1))]),_:1,__:[0]}),u(e(bt),{class:"p-6"},{default:p(()=>[s("div",ms,[s("div",fs,[s("div",ps,[o[2]||(o[2]=s("h1",{id:"hero-heading",class:"text-2xl sm:text-3xl font-bold font-title text-gray-900 leading-tight dark:text-white"},[s("span",{class:"inline-block"},[q(" Location et prêt de matériel "),s("span",{class:"bg-gradient-to-r from-violet-600 to-blue-600 bg-clip-text text-transparent whitespace-nowrap dark:from-violet-400 dark:to-blue-400"},"événementiel")]),s("span",{class:"block text-lg sm:text-xl mt-2 text-gray-600 font-medium dark:text-gray-400"}," entre associations et particuliers ")],-1)),s("p",vs,[s("strong",hs,C(e(i)),1),o[1]||(o[1]=q(" facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements. "))])]),s("div",gs,[u(e(ie),{href:a.route("discover"),class:"inline-flex items-center px-5 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-violet-600 to-blue-600 text-white hover:from-violet-700 hover:to-blue-700 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-violet-500 dark:from-violet-500 dark:to-blue-500 dark:hover:from-violet-600 dark:hover:to-blue-600"},{default:p(()=>[o[3]||(o[3]=q(" Découvrir la plateforme ")),u(e(Ge),{class:"ml-2 h-4 w-4"})]),_:1,__:[3]},8,["href"]),u(e(K),{variant:"outline",as:"a",href:a.route("how-it-works"),class:"text-sm border-violet-200 text-violet-700 hover:bg-violet-50 dark:border-violet-800 dark:text-violet-300 dark:hover:bg-violet-900"},{default:p(()=>o[4]||(o[4]=[q(" Comment ça marche ? ")])),_:1,__:[4]},8,["href"])])]),o[6]||(o[6]=s("div",{class:"hidden lg:block w-px h-32 bg-gradient-to-b from-violet-200 to-blue-200 self-center dark:from-violet-800 dark:to-blue-800"},null,-1)),s("div",ys,[s("div",xs,[o[5]||(o[5]=s("h2",{class:"text-sm font-medium text-gray-900 mb-4 dark:text-white"}," Avantages de la plateforme ",-1)),s("ul",bs,[(v(),$(G,null,se(l,n=>s("li",{key:n.title,class:"flex items-start gap-3 group"},[s("div",{class:M(["rounded-md bg-gradient-to-br from-violet-100 to-blue-100 p-2 group-hover:from-violet-200 group-hover:to-blue-200 transition-colors duration-200 dark:from-violet-900 dark:to-blue-900",{"from-violet-200 to-blue-200 dark:from-violet-800 dark:to-blue-800":n.title==="Gratuit"}])},[(v(),S(ft(n.icon),{class:"w-4 h-4 text-violet-600 dark:text-violet-400"}))],2),s("div",null,[s("h3",_s,C(n.title),1),s("p",ks,C(n.description),1)])])),64))])])])])]),_:1})]),_:1})])):F("",!0)]),_:1}))}},$s=z({__name:"Command",props:{modelValue:{default:""},defaultValue:{},multiple:{type:Boolean},orientation:{},dir:{},disabled:{type:Boolean},selectionBehavior:{},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{emit:m}){const i=t,f=m,d=H(i,"class"),l=He(d,f),a=V(new Map),o=V(new Map),{contains:n}=Qt({sensitivity:"base"}),x=vt({search:"",filtered:{count:0,items:new Map,groups:new Set}});function w(){if(!x.search){x.filtered.count=a.value.size;return}x.filtered.groups=new Set;let b=0;for(const[y,g]of a.value){const c=n(g,x.search);x.filtered.items.set(y,c?1:0),c&&b++}for(const[y,g]of o.value)for(const c of g)if(x.filtered.items.get(c)>0){x.filtered.groups.add(y);break}x.filtered.count=b}return te(()=>x.search,()=>{w()}),Bs({allItems:a,allGroups:o,filterState:x}),(b,y)=>(v(),S(e(Yt),O({"data-slot":"command"},e(l),{class:e(N)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",i.class)}),{default:p(()=>[j(b.$slots,"default")]),_:3},16,["class"]))}}),Cs=z({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(t){const m=t,i=H(m,"class"),{filterState:f}=ce(),d=D(()=>!!f.search&&f.filtered.count===0);return(l,a)=>d.value?(v(),S(e(A),O({key:0,"data-slot":"command-empty"},e(i),{class:e(N)("py-6 text-center text-sm",m.class)}),{default:p(()=>[j(l.$slots,"default")]),_:3},16,["class"])):F("",!0)}}),Ss=z({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{},heading:{}},setup(t){const m=t,i=H(m,"class"),{allGroups:f,filterState:d}=ce(),l=ue(),a=D(()=>d.search?d.filtered.groups.has(l):!0);return Ds({id:l}),de(()=>{f.value.has(l)||f.value.set(l,new Set)}),we(()=>{f.value.delete(l)}),(o,n)=>(v(),S(e(ss),O(e(i),{id:e(l),"data-slot":"command-group",class:e(N)("text-foreground overflow-hidden p-1",m.class),hidden:a.value?void 0:!0}),{default:p(()=>[o.heading?(v(),S(e(rs),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:p(()=>[q(C(o.heading),1)]),_:1})):F("",!0),j(o.$slots,"default")]),_:3},16,["id","class","hidden"]))}}),Vs={"data-slot":"command-input-wrapper",class:"flex h-12 items-center gap-2 border-b px-3"},qs=z({inheritAttrs:!1,__name:"CommandInput",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(t){const m=t,i=H(m,"class"),f=Ue(i),{filterState:d}=ce();return(l,a)=>(v(),$("div",Vs,[u(e(Se),{class:"size-4 shrink-0 opacity-50"}),u(e(as),O({...e(f),...l.$attrs},{modelValue:e(d).search,"onUpdate:modelValue":a[0]||(a[0]=o=>e(d).search=o),"data-slot":"command-input","auto-focus":"",class:e(N)("placeholder:text-muted-foreground flex h-12 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",m.class)}),null,16,["modelValue","class"])]))}}),be=z({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},emits:["select"],setup(t,{emit:m}){const i=t,f=m,d=H(i,"class"),l=He(d,f),a=ue(),{filterState:o,allItems:n,allGroups:x}=ce(),w=Ls(),b=D(()=>{if(o.search){const c=o.filtered.items.get(a);return c===void 0?!0:c>0}else return!0}),y=V(),g=Bt(y);return de(()=>{var r,I;if(!(g.value instanceof HTMLElement))return;n.value.set(a,g.value.textContent??((r=i.value)==null?void 0:r.toString())??"");const c=w==null?void 0:w.id;c&&(x.value.has(c)?(I=x.value.get(c))==null||I.add(a):x.value.set(c,new Set([a])))}),we(()=>{n.value.delete(a)}),(c,r)=>b.value?(v(),S(e(ns),O({key:0},e(l),{id:e(a),ref_key:"itemRef",ref:y,"data-slot":"command-item",class:e(N)("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-3 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",i.class),onSelect:r[0]||(r[0]=()=>{e(o).search=""})}),{default:p(()=>[j(c.$slots,"default")]),_:3},16,["id","class"])):F("",!0)}}),Is={role:"presentation"},Es=z({__name:"CommandList",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(t){const m=t,i=H(m,"class"),f=Ue(i);return(d,l)=>(v(),S(e(Zt),O({"data-slot":"command-list"},e(f),{class:e(N)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",m.class)}),{default:p(()=>[s("div",Is,[j(d.$slots,"default")])]),_:3},16,["class"]))}}),Fs=z({__name:"CommandSeparator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(t){const m=t,i=H(m,"class");return(f,d)=>(v(),S(e(Tt),O({"data-slot":"command-separator"},e(i),{class:e(N)("bg-border -mx-1 h-px",m.class)}),{default:p(()=>[j(f.$slots,"default")]),_:3},16,["class"]))}}),[ce,Bs]=ae("Command"),[Ls,Ds]=ae("CommandGroup"),zs={class:"space-y-1.5"},js={class:"truncate"},Ms={class:"flex items-center gap-1"},Os={class:"px-1 py-2"},Ps={class:"flex items-center w-full"},Rs={class:"px-1 py-2"},Ts={class:"flex items-center w-full gap-2"},Ks={class:"flex items-center w-full gap-2"},As={__name:"CategoryTreeSelect",props:{modelValue:{type:[String,Number],default:"all"},categories:{type:Array,required:!0},label:{type:String,default:"Catégorie"},id:{type:String,default:"category-select"},allItemsLabel:{type:String,default:"Toutes les catégories"},align:{type:String,default:"start"},side:{type:String,default:"bottom"},sideOffset:{type:Number,default:4},alignOffset:{type:Number,default:0}},emits:["update:modelValue"],setup(t,{emit:m}){const i=t,f=m,d=V(!1),l=V(null),a=V(""),o=(b,y)=>{var r;if(!b||!y)return!1;const g=y.toLowerCase();return b.name.toLowerCase().includes(g)?!0:((r=b.children)==null?void 0:r.some(I=>I.name.toLowerCase().includes(g)))||!1},n=D(()=>{var b;return a.value?(b=i.categories)!=null&&b.length?i.categories.filter(y=>o(y,a.value)).map(y=>{var g;return{...y,children:(g=y.children)==null?void 0:g.filter(c=>c.name.toLowerCase().includes(a.value.toLowerCase()))}}):[]:i.categories}),x=b=>{l.value=b,f("update:modelValue",b.id),d.value=!1,a.value=""},w=b=>{b.preventDefault(),b.stopPropagation(),x({id:"all",name:i.allItemsLabel}),d.value&&(d.value=!1)};return(b,y)=>(v(),$("div",zs,[u(e(Z),{for:t.id,class:"text-sm font-medium text-gray-700 dark:text-white"},{default:p(()=>[q(C(t.label),1)]),_:1},8,["for"]),u(e(Je),{open:d.value,"onUpdate:open":y[2]||(y[2]=g=>d.value=g),modal:!0},{default:p(()=>[u(e(We),{"as-child":""},{default:p(()=>[u(e(K),{id:t.id,variant:"outline",role:"combobox","aria-expanded":d.value,"aria-label":t.label,class:M(["w-full justify-between font-normal bg-white dark:bg-gray-800",[!t.modelValue&&"text-muted-foreground","focus-visible:ring-1 focus-visible:ring-ring","transition-all duration-200"]])},{default:p(()=>{var g;return[s("span",js,C(((g=l.value)==null?void 0:g.name)||t.allItemsLabel),1),s("div",Ms,[t.modelValue!=="all"?(v(),$("button",{key:0,type:"button",onClick:T(w,["stop","prevent"]),class:"outline-none focus:outline-none"},[u(e(oe),{class:"h-4 w-4 shrink-0 opacity-50 hover:opacity-100 transition duration-200 cursor-pointer"})])):F("",!0),u(e(At),{class:M(["h-4 w-4 shrink-0 opacity-50 transition duration-200",{"rotate-180":d.value}])},null,8,["class"])])]}),_:1},8,["id","aria-expanded","aria-label","class"])]),_:1}),u(e(Xe),{class:"w-[var(--radix-popover-trigger-width)] p-0 shadow-lg",style:{"--radix-popover-trigger-width":"min(calc(100vw - 2rem), 400px)"},align:t.align,side:t.side,sideOffset:t.sideOffset,alignOffset:t.alignOffset},{default:p(()=>[u(e($s),{class:"rounded-lg border bg-popover"},{default:p(()=>[u(e(qs),{modelValue:a.value,"onUpdate:modelValue":y[0]||(y[0]=g=>a.value=g),placeholder:"Rechercher une catégorie...",class:"h-11"},null,8,["modelValue"]),u(e(Es),{class:"max-h-[300px] overflow-y-auto overscroll-contain"},{default:p(()=>[a.value&&!n.value.length?(v(),S(e(Cs),{key:0,class:"py-6 text-center text-sm"},{default:p(()=>y[3]||(y[3]=[q(" Aucune catégorie trouvée. ")])),_:1,__:[3]})):F("",!0),!a.value||n.value.length?(v(),S(e(Ss),{key:1},{default:p(()=>[s("div",Os,[u(e(be),{onSelect:y[1]||(y[1]=g=>x({id:"all",name:t.allItemsLabel})),value:t.allItemsLabel,class:M(["rounded-sm cursor-pointer data-[selected=true]:bg-accent",{"bg-accent":t.modelValue==="all"}])},{default:p(()=>[s("div",Ps,[t.modelValue==="all"?(v(),S(e(xe),{key:0,class:"h-4 w-4 text-accent-foreground flex-shrink-0"})):F("",!0),s("span",{class:M(["flex-grow",t.modelValue!=="all"?"pl-6":"pl-0","text-sm font-medium"])},C(t.allItemsLabel),3)])]),_:1},8,["value","class"])]),u(e(Fs),{class:"bg-border/50"}),s("div",Rs,[(v(!0),$(G,null,se(a.value?n.value:t.categories,g=>{var c;return v(),$(G,{key:g.id},[u(e(be),{value:g.name,onSelect:r=>x(g),class:M(["rounded-sm cursor-pointer data-[selected=true]:bg-accent",{"bg-accent":t.modelValue===g.id}])},{default:p(()=>{var r;return[s("div",Ts,[t.modelValue===g.id?(v(),S(e(xe),{key:0,class:"h-4 w-4 text-accent-foreground flex-shrink-0"})):F("",!0),s("span",{class:M(["flex-grow text-sm",t.modelValue===g.id?"pl-0 font-bold text-accent-foreground":"pl-6","font-bold"])},C(g.name),3),(r=g.children)!=null&&r.length?(v(),S(e(Nt),{key:1,class:"h-4 w-4 text-muted-foreground flex-shrink-0 opacity-75"})):F("",!0)])]}),_:2},1032,["value","onSelect","class"]),(c=g.children)!=null&&c.length?(v(!0),$(G,{key:0},se(g.children,r=>(v(),S(e(be),{key:r.id,value:r.name,onSelect:I=>x(r),class:M(["rounded-sm cursor-pointer data-[selected=true]:bg-accent ml-4",{"bg-accent":t.modelValue===r.id}])},{default:p(()=>[s("div",Ks,[t.modelValue===r.id?(v(),S(e(xe),{key:0,class:"h-4 w-4 text-accent-foreground flex-shrink-0"})):F("",!0),s("span",{class:M(["flex-grow text-sm",t.modelValue===r.id?"pl-0 font-bold text-accent-foreground":"pl-6"])},C(r.name),3)])]),_:2},1032,["value","onSelect","class"]))),128)):F("",!0)],64)}),128))])]),_:1})):F("",!0)]),_:1})]),_:1})]),_:1},8,["align","side","sideOffset","alignOffset"])]),_:1},8,["open"])]))}},Ns=Kt(As,[["__scopeId","data-v-7306491a"]]),Hs={class:"flex items-center border rounded-lg shadow-md bg-background"},Us={class:"pl-3 text-muted-foreground"},Gs=["onKeydown"],Qs={__name:"SearchInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","search:submit"],setup(t,{emit:m}){const i=t,f=m,d=V(null),l=D({get(){return i.modelValue},set(n){f("update:modelValue",n)}}),a=()=>{l.value="",Y(()=>{var n;(n=d.value)==null||n.focus()})},o=()=>{f("search:submit",l.value)};return(n,x)=>(v(),$("div",Hs,[s("span",Us,[u(e(Se),{class:"h-5 w-5"})]),Ae(s("input",{ref_key:"inputRef",ref:d,"onUpdate:modelValue":x[0]||(x[0]=w=>l.value=w),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Que recherchez-vous ?",onKeydown:Q(T(o,["prevent"]),["enter"]),autocomplete:"off"},null,40,Gs),[[Ne,l.value]]),l.value?(v(),$("button",{key:0,onMousedown:T(a,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[u(e(oe),{class:"h-4 w-4"})],32)):F("",!0)]))}},Ws={class:"relative w-full"},Xs={class:"flex items-center border rounded-lg shadow-md bg-background"},Js={class:"pl-3 text-muted-foreground"},Ys=["disabled"],Zs={key:0,class:"py-6 text-center text-sm text-muted-foreground"},ea={key:1,class:"py-6 text-center text-sm text-destructive"},ta={key:2,class:"py-6 text-center text-sm text-muted-foreground"},sa={key:3,class:"max-h-[300px] overflow-y-auto"},aa=["onClick"],oa={class:"flex flex-col"},la={class:"text-xs text-muted-foreground"},na={__name:"CityInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","coordinates","city"],setup(t,{emit:m}){const i=t,f=m,d=V(i.modelValue),l=V([]),a=V(!1),o=V(!1),n=V(""),x=Ht(async y=>{if(y.length<3){l.value=[],a.value=!1,n.value="";return}o.value=!0,a.value=!0,n.value="";try{const g=await ht.get(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(y)}&type=municipality&limit=5`);if(!g.data.features||g.data.features.length===0){l.value=[];return}l.value=g.data.features.map(c=>({id:c.properties.id,name:c.properties.city,postcode:c.properties.postcode,coordinates:{lat:c.geometry.coordinates[1],lng:c.geometry.coordinates[0]}}))}catch(g){console.error("Error fetching city suggestions:",g),l.value=[],g.value="Erreur lors de la recherche de villes. Veuillez réessayer."}finally{o.value=!1}},300);te(d,y=>{f("update:modelValue",y),y.length>=3?x(y):(l.value=[],a.value=!1)});const w=y=>{d.value=y.name,a.value=!1,n.value="",f("update:modelValue",{name:y.name,lat:y.coordinates.lat,lng:y.coordinates.lng,postcode:y.postcode,departement:y.postcode.substring(0,2)})},b=()=>{d.value="",l.value=[],a.value=!1,n.value="",f("update:modelValue","")};return(y,g)=>(v(),$("div",Ws,[u(e(Je),{open:a.value,"onUpdate:open":g[2]||(g[2]=c=>a.value=c)},{default:p(()=>[u(e(We),{asChild:""},{default:p(()=>[s("div",Xs,[s("span",Js,[u(e(ke),{class:"h-5 w-5"})]),Ae(s("input",{"onUpdate:modelValue":g[0]||(g[0]=c=>d.value=c),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Ajouter une localisation",disabled:o.value,onFocus:g[1]||(g[1]=c=>a.value=!0)},null,40,Ys),[[Ne,d.value]]),d.value?(v(),$("button",{key:0,onMousedown:T(b,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[u(e(oe),{class:"h-4 w-4"})],32)):F("",!0)])]),_:1}),u(e(Xe),{class:"w-full p-0",align:"start"},{default:p(()=>[o.value?(v(),$("div",Zs,g[3]||(g[3]=[s("div",{class:"flex items-center justify-center"},[s("div",{class:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),s("span",{class:"ml-2"},"Recherche en cours...")],-1)]))):n.value?(v(),$("div",ea,C(n.value),1)):l.value.length===0?(v(),$("div",ta," Aucun résultat trouvé ")):(v(),$("div",sa,[(v(!0),$(G,null,se(l.value,c=>(v(),$("div",{key:c.id,class:"flex items-center gap-2 px-4 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground",onClick:r=>w(c)},[u(e(ke),{class:"h-4 w-4 text-muted-foreground"}),s("div",oa,[s("span",null,C(c.name),1),s("span",la,C(c.postcode),1)])],8,aa))),128))]))]),_:1})]),_:1},8,["open"])]))}},ra={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ia={class:"relative rounded-xl shadow-xl border border-gray-200/60"},da={key:0,class:"px-6 pt-6 pb-4"},ua={class:"px-6 pb-6"},ca={class:"flex flex-col md:flex-row gap-4 p-4"},ma={class:"flex-1"},fa={class:"flex-1"},pa={class:"flex items-end"},va={key:1,class:"h-5 w-5 mr-2"},ha={class:"px-6 pb-6"},ga={class:""},ya={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},xa={class:"space-y-2"},ba={class:"space-y-2"},_a={class:"flex justify-end items-end"},ka={__name:"SearchSection",props:{filters:{type:Object,default:()=>({})},stats:{type:Object,required:!0}},emits:["searching"],setup(t,{emit:m}){const f=$e().props.auth.user,d=t,l=m,a=V(!1),o=V({from:d.filters.start_date?Me(d.filters.start_date):void 0,to:d.filters.end_date?Me(d.filters.end_date):void 0});te(o,c=>{n.start_date=c.from?c.from.toDate(Oe()).toISOString().split("T")[0]:"",n.end_date=c.to?c.to.toDate(Oe()).toISOString().split("T")[0]:""},{deep:!0});const n=gt({search:d.filters.search||"",radius:d.filters.radius||50,category:d.filters.category||"all",start_date:d.filters.start_date||"",end_date:d.filters.end_date||"",coordinates:d.filters.coordinates||null,city:d.filters.city||null,postcode:d.filters.postcode||null}),x=()=>{a.value=!0,l("searching",a.value),n.get(route("home"),{only:["filters","equipments"],preserveScroll:!0,preserveState:!0,onFinish:()=>{a.value=!1,l("searching",a.value)}})},w=()=>{const c=localStorage.getItem("search_filters");if(c)try{const r=JSON.parse(c);n.city=r.city||null,n.coordinates=r.coordinates||null,n.radius=r.radius||50,n.postcode=r.postcode||null}catch(r){console.error("Error loading filters from localStorage:",r)}},b=c=>{try{const r={city:c.city,coordinates:c.coordinates,radius:c.radius,postcode:c.postcode};localStorage.setItem("search_filters",JSON.stringify(r))}catch(r){console.error("Error saving filters to localStorage:",r)}};te(n,c=>{b(c)},{deep:!0}),de(()=>{w()});const y=()=>{o.value={from:void 0,to:void 0},n.reset({search:"",radius:50,category:"all",start_date:"",end_date:"",coordinates:null,city:null,postcode:null}),localStorage.removeItem("search_filters"),x()},g=c=>{n.city=c.name,n.postcode=c.postcode,n.coordinates={lat:c.lat,lng:c.lng},n.radius=n.radius||5};return(c,r)=>(v(),$("div",{class:M({"relative mt-8":e(f)})},[s("div",ra,[s("div",ia,[e(f)?F("",!0):(v(),$("div",da,r[5]||(r[5]=[s("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Trouvez le matériel dont vous avez besoin",-1),s("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Recherchez parmi des milliers d'équipements disponibles près de chez vous.",-1)]))),s("div",ua,[s("div",ca,[s("div",ma,[u(e(Z),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:p(()=>r[6]||(r[6]=[q("Dans quel secteur ?")])),_:1,__:[6]}),u(na,{modelValue:e(n).city,"onUpdate:modelValue":[r[0]||(r[0]=I=>e(n).city=I),g],placeholder:"Entrez une ville ou un code postal"},null,8,["modelValue"])]),s("div",fa,[u(e(Z),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:p(()=>r[7]||(r[7]=[q("Que recherchez-vous ?")])),_:1,__:[7]}),u(Qs,{modelValue:e(n).search,"onUpdate:modelValue":r[1]||(r[1]=I=>e(n).search=I),placeholder:"Ex: Vidéoprojecteur, Enceinte, Table...","onSearch:submit":x},null,8,["modelValue"])]),s("div",pa,[u(e(K),{type:"submit",size:"lg",disabled:a.value,class:"w-full md:w-auto min-w-[140px] bg-primary hover:bg-primary/90 shadow-sm dark:bg-primary dark:hover:bg-primary/90",onClick:x},{default:p(()=>[a.value?(v(),$("span",va,r[8]||(r[8]=[s("span",{class:"animate-spin inline-block h-5 w-5 border-[3px] border-current border-t-transparent rounded-full"},null,-1)]))):(v(),S(e(Se),{key:0,class:"h-5 w-5 mr-2"})),q(" "+C(a.value?"Recherche...":"Rechercher"),1)]),_:1},8,["disabled"])])])]),s("div",ha,[s("div",ga,[s("div",ya,[u(Ns,{modelValue:e(n).category,"onUpdate:modelValue":[r[2]||(r[2]=I=>e(n).category=I),x],categories:t.stats.categories},null,8,["modelValue","categories"]),s("div",xa,[u(e(Z),{for:"radius",class:"flex items-center gap-2"},{default:p(()=>[r[10]||(r[10]=q(" Rayon de recherche ")),u(e(Le),null,{default:p(()=>[u(e(De),null,{default:p(()=>[u(e(ze),null,{default:p(()=>[u(e(Te),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),u(e(je),null,{default:p(()=>r[9]||(r[9]=[s("p",null,"Distance maximale de recherche",-1)])),_:1,__:[9]})]),_:1})]),_:1})]),_:1,__:[10]}),u(e(qt),{modelValue:e(n).radius,"onUpdate:modelValue":[r[3]||(r[3]=I=>e(n).radius=I),x]},{default:p(()=>[u(e(Ct),{id:"radius",class:"w-full bg-white dark:bg-gray-800"},{default:p(()=>[u(e(St),{placeholder:"Sélectionner un rayon"})]),_:1}),u(e(Vt),null,{default:p(()=>[u(e(J),{value:"5"},{default:p(()=>r[11]||(r[11]=[q("5 km")])),_:1,__:[11]}),u(e(J),{value:"10"},{default:p(()=>r[12]||(r[12]=[q("10 km")])),_:1,__:[12]}),u(e(J),{value:"25"},{default:p(()=>r[13]||(r[13]=[q("25 km")])),_:1,__:[13]}),u(e(J),{value:"50"},{default:p(()=>r[14]||(r[14]=[q("50 km")])),_:1,__:[14]}),u(e(J),{value:"100"},{default:p(()=>r[15]||(r[15]=[q("100 km")])),_:1,__:[15]})]),_:1})]),_:1},8,["modelValue"])]),s("div",ba,[u(e(Z),{class:"flex items-center gap-2"},{default:p(()=>[r[17]||(r[17]=q(" Période de location ")),u(e(Le),null,{default:p(()=>[u(e(De),null,{default:p(()=>[u(e(ze),null,{default:p(()=>[u(e(Te),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),u(e(je),null,{default:p(()=>r[16]||(r[16]=[s("p",null,"Période de location souhaitée",-1)])),_:1,__:[16]})]),_:1})]),_:1})]),_:1,__:[17]}),u(It,{modelValue:o.value,"onUpdate:modelValue":[r[4]||(r[4]=I=>o.value=I),x]},null,8,["modelValue"])]),s("div",_a,[u(e(K),{variant:"outline",size:"sm",onClick:y,class:"text-sm hover:text-destructive hover:border-destructive dark:hover:text-destructive dark:hover:border-destructive"},{default:p(()=>[u(e(oe),{class:"h-4 w-4 mr-1.5"}),r[18]||(r[18]=q(" Réinitialiser les filtres "))]),_:1,__:[18]})])])])])])])],2))}},wa={class:"group relative bg-card rounded-xl shadow-sm border border-border/50 overflow-hidden hover:shadow-lg transition-all duration-200"},$a=["src","alt"],Ca={key:1,class:"w-full h-full flex items-center justify-center text-muted-foreground/30"},Sa={class:"absolute top-3 right-3"},Va={class:"p-6"},qa={class:"flex items-start justify-between gap-4"},Ia={class:"text-lg font-semibold text-foreground group-hover:text-primary transition-colors duration-200 line-clamp-2"},Ea={class:"mt-4 space-y-3"},Fa={class:"flex items-center text-sm text-muted-foreground"},Ba={class:"truncate"},La={class:"flex items-center text-sm text-muted-foreground"},Da={class:"truncate"},za={class:"flex items-center text-sm text-muted-foreground"},ja={key:0,class:"mt-4 p-3 bg-accent/50 rounded-lg space-y-2"},Ma={class:"flex items-center text-sm"},Oa={class:"text-muted-foreground"},Pa={class:"flex items-center justify-between text-sm font-medium"},Ra={class:"text-foreground"},Ta={class:"mt-4 text-sm text-muted-foreground line-clamp-2"},Ka={class:"mt-6"},Aa={__name:"EquipmentCard",props:{equipment:{type:Object,required:!0},startDate:{type:String,default:""},endDate:{type:String,default:""}},setup(t){const m=t,i=D(()=>{if(!m.startDate||!m.endDate)return m.equipment.rental_price;const l=new Date(m.startDate),a=new Date(m.endDate),o=Math.ceil((a-l)/(1e3*60*60*24))+1;return(m.equipment.rental_price*o).toFixed(2)}),f=l=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(l),d=D(()=>{if(!m.startDate||!m.endDate)return null;const l=new Date(m.startDate),a=new Date(m.endDate),o=Math.ceil((a-l)/(1e3*60*60*24))+1;return{start:Pe(l,"dd MMM yyyy",{locale:Re}),end:Pe(a,"dd MMM yyyy",{locale:Re}),days:o}});return(l,a)=>{var o,n;return v(),$("div",wa,[u(e(ie),{href:l.route("equipments.show",t.equipment),class:"block aspect-[16/9] bg-accent/10 relative overflow-hidden"},{default:p(()=>[t.equipment.images&&t.equipment.images.length>0?(v(),$("img",{key:0,src:t.equipment.images[0].url,alt:t.equipment.name,loading:"lazy",placeholder:"blur",class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"},null,8,$a)):(v(),$("div",Ca,[u(e(Ke),{class:"w-12 h-12"})])),s("div",Sa,[u(e(jt),{variant:t.equipment.is_available?"success":"destructive",class:"flex items-center gap-1 shadow-sm"},{default:p(()=>[t.equipment.is_available?(v(),S(e(Qe),{key:0,class:"h-3 w-3"})):(v(),S(e(Gt),{key:1,class:"h-3 w-3"})),q(" "+C(t.equipment.is_available?"Disponible":"Indisponible"),1)]),_:1},8,["variant"])])]),_:1},8,["href"]),s("div",Va,[s("div",qa,[u(e(ie),{href:l.route("equipments.show",t.equipment),class:"block"},{default:p(()=>[s("h3",Ia,C(t.equipment.name),1)]),_:1},8,["href"])]),s("div",Ea,[s("div",Fa,[u(e(ke),{class:"h-4 w-4 mr-2 text-primary/70 flex-shrink-0"}),s("span",Ba,C(((o=t.equipment.depot)==null?void 0:o.city)||"Non localisé"),1)]),s("div",La,[u(e(Ke),{class:"h-4 w-4 mr-2 text-primary/70 flex-shrink-0"}),s("span",Da,C(((n=t.equipment.category)==null?void 0:n.name)||"Sans catégorie"),1)]),s("div",za,[u(e(kt),{class:"h-4 w-4 mr-2 text-primary/70 flex-shrink-0"}),s("span",null,C(f(t.equipment.rental_price))+" / jour",1)])]),d.value?(v(),$("div",ja,[s("div",Ma,[u(e(Mt),{class:"h-4 w-4 mr-2 text-primary/70"}),s("span",Oa,C(d.value.start)+" - "+C(d.value.end),1)]),s("div",Pa,[s("span",null,"Total ("+C(d.value.days)+" jour"+C(d.value.days>1?"s":"")+")",1),s("span",Ra,C(f(i.value)),1)])])):F("",!0),s("p",Ta,C(t.equipment.description),1),s("div",Ka,[u(e(K),{asChild:"",class:"w-full group/button"},{default:p(()=>[u(e(ie),{href:l.route("equipments.show",t.equipment)},{default:p(()=>[a[0]||(a[0]=q(" Voir les détails ")),u(e(Ge),{class:"ml-2 h-4 w-4 transition-transform group-hover/button:translate-x-1"})]),_:1,__:[0]},8,["href"])]),_:1})])])])}}},Na={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ha={key:0,class:"min-h-[400px] flex flex-col items-center justify-center"},Ua={key:1,class:"min-h-[400px] flex flex-col items-center justify-center text-center"},Ga={class:"w-24 h-24 text-muted-foreground mb-6"},Qa={class:"text-xl font-medium text-foreground"},Wa={class:"mt-2 text-base text-muted-foreground max-w-md"},Xa={key:0,class:"mt-6"},Ja={key:2},Ya={class:"mb-6 flex items-center justify-between"},Za={class:"text-lg font-medium text-foreground"},eo={class:"text-sm text-muted-foreground"},to={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},so={class:"mt-12"},ao={__name:"ResultsSection",props:{equipments:{type:Object,required:!0},startDate:{type:String,default:""},endDate:{type:String,default:""},isSearching:{type:Boolean,default:!1}},setup(t){const m=t,i=D(()=>m.equipments.data.length>0),f=D(()=>m.startDate||m.endDate);return(d,l)=>(v(),$("div",Na,[t.isSearching?(v(),$("div",Ha,l[1]||(l[1]=[s("div",{class:"w-16 h-16 mb-4"},[s("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})],-1),s("h3",{class:"text-lg font-medium text-foreground"},"Recherche en cours...",-1),s("p",{class:"mt-2 text-sm text-muted-foreground"}," Nous recherchons les meilleurs équipements pour vous ",-1)]))):i.value?(v(),$("div",Ja,[s("div",Ya,[s("h2",Za,C(t.equipments.total)+" équipement"+C(t.equipments.total>1?"s":"")+" trouvé"+C(t.equipments.total>1?"s":""),1),s("p",eo," Page "+C(t.equipments.current_page)+" sur "+C(t.equipments.last_page),1)]),s("div",to,[(v(!0),$(G,null,se(t.equipments.data,a=>(v(),S(Aa,{key:a.id,equipment:a,"start-date":t.startDate,"end-date":t.endDate,class:"transition-all duration-300 ease-in-out"},null,8,["equipment","start-date","end-date"]))),128))]),s("div",so,[u(Ut,{links:t.equipments.links},null,8,["links"])])])):(v(),$("div",Ua,[s("div",Ga,[f.value?(v(),S(e(us),{key:0,class:"w-full h-full"})):(v(),S(e(ds),{key:1,class:"w-full h-full"}))]),s("h3",Qa,C(f.value?"Aucun équipement trouvé":"Commencez votre recherche"),1),s("p",Wa,C(f.value?"Essayez de modifier vos critères de recherche pour trouver plus de résultats.":"Utilisez la barre de recherche ci-dessus pour trouver l'équipement dont vous avez besoin."),1),f.value?(v(),$("div",Xa,[u(e(K),{variant:"outline",onClick:l[0]||(l[0]=a=>d.$emit("reset-filters"))},{default:p(()=>l[2]||(l[2]=[q(" Réinitialiser les filtres ")])),_:1,__:[2]})])):F("",!0)]))]))}},oo={key:0,class:"relative pb-12"},Oo={__name:"Home",props:{equipments:{type:Object,required:!0},filters:{type:Object,default:()=>({})},stats:{type:Object,default:()=>({min_price:0,max_price:1e3,categories:[]})}},setup(t){const m=V(!1),i=$e(),f=i.props.name,d=i.props.auth.user;return(l,a)=>(v(),S(yt,{title:"Location et prêt de matériel événementiel",description:`${e(f)} facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements.`},{default:p(()=>[e(d)?F("",!0):(v(),$("section",oo,[u(ws)])),s("section",null,[u(ka,{filters:t.filters,stats:t.stats,onSearching:a[0]||(a[0]=o=>m.value=o)},null,8,["filters","stats"])]),s("section",{class:M(["relative py-12 bg-gradient-to-b from-background via-background/50 to-background",{"mt-8":t.equipments.data.length>0}])},[u(ao,{equipments:t.equipments,"start-date":t.filters.start_date,"end-date":t.filters.end_date,isSearching:m.value},null,8,["equipments","start-date","end-date","isSearching"])],2)]),_:1},8,["description"]))}};export{Oo as default};
