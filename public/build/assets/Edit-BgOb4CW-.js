import P from"./Layout-BEtdWYpR.js";import{_ as j,e as $,c as q,U as B}from"./FlashMessage-DuX1Eq6J.js";import{_ as x}from"./index-COwYoWgG.js";import{_ as N,a as R}from"./index-CwAhash8.js";import{_ as V}from"./AlertDescription.vue_vue_type_script_setup_true_lang-CXzVBR4T.js";import{c as f,o as m,w as l,l as s,i as a,u as t,K as v,p as r,v as n,x as A,f as g,k as D,F as E,s as M}from"./app-J_Mi481q.js";import{_ as T,a as F,b,c as d,d as I,e as u}from"./TableHeader.vue_vue_type_script_setup_true_lang-Y5ttYnN-.js";import{_ as c,a as p}from"./CardContent.vue_vue_type_script_setup_true_lang-BEyMI7DP.js";import{_ as y,a as w}from"./CardTitle.vue_vue_type_script_setup_true_lang-DR_qkxHW.js";import{A as J}from"./arrow-left-x5sJau2O.js";import{B as C}from"./building-COLM6AxV.js";import{X as L}from"./x-CeX8QQ4u.js";import{C as O}from"./clock-BWjCnr6j.js";import{P as S,T as U}from"./trash-2-CNC-_MI2.js";import{M as K}from"./mail-DubWulUP.js";import{P as Q}from"./phone-GyZ1qAvd.js";import{C as X}from"./circle-alert-BVmfg97C.js";import"./AppLayout-CK-oFPx6.js";import"./createLucideIcon-8RmAI9yG.js";import"./upload-Cv9AxdXf.js";import"./Input.vue_vue_type_script_setup_true_lang-DMwbquBU.js";import"./loader-circle-b26opq9h.js";const G={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 py-8"},H={class:"bg-white rounded-lg shadow-sm p-6"},W={class:"mb-6"},Y={class:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4 mb-6"},Z={class:"flex-1"},tt={class:"text-2xl sm:text-3xl font-bold text-gray-900"},st={class:"flex items-center gap-2 mt-2"},et={class:"text-lg sm:text-xl font-semibold text-gray-600"},at={class:"flex flex-col items-start sm:items-end gap-2"},lt={class:"flex gap-2"},it={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},rt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},nt={class:"flex items-start gap-3"},ot={class:"text-gray-900"},dt={class:"flex items-start gap-3"},ut={class:"text-gray-900"},mt={class:"flex items-start gap-3"},ft={class:"text-gray-900"},_t={class:"flex items-start gap-3"},xt={class:"text-gray-900"},vt={class:"flex items-start gap-3"},gt={class:"text-gray-900"},ct={class:"flex items-start gap-3"},pt={class:"text-gray-900"},yt={class:"grid grid-cols-1 gap-6"},wt={class:"flex items-start gap-3"},ht={class:"text-gray-900"},$t={class:"flex items-start gap-3"},bt={class:"text-gray-900"},Ct={class:"flex items-start gap-3"},kt={class:"text-gray-900"},zt={class:"flex justify-between items-center"},Pt={class:"text-right"},jt={class:"text-xl font-bold text-gray-900"},Yt={__name:"Edit",props:{reservation:{type:Object,required:!0}},setup(i){const h=i,k=()=>{confirm("Voulez-vous vraiment annuler cette réservation ?")&&v.delete(route("app.organizations.reservations.in.destroy",{reservation:h.reservation.id}))},z=_=>{confirm("Voulez-vous vraiment retirer cet équipement de la réservation ?")&&v.delete(route("organizations.reservations.in.items.destroy",{reservation:h.reservation.id,item:_}))};return(_,e)=>(m(),f(P,{title:"Réservation du "+i.reservation.start_date+" au "+i.reservation.end_date},{default:l(()=>[s("div",G,[s("div",H,[s("div",W,[a(t(x),{variant:"ghost",class:"gap-2",onClick:e[0]||(e[0]=o=>t(v).visit(_.route("app.organizations.reservations.in.index")))},{default:l(()=>[a(t(J),{class:"h-4 w-4"}),e[1]||(e[1]=r(" Retour aux réservations "))]),_:1,__:[1]})]),s("div",Y,[s("div",Z,[s("h1",tt," Réservation du "+n(i.reservation.start_date)+" au "+n(i.reservation.end_date),1),s("div",st,[a(t(C),{class:"h-4 w-4 text-gray-500"}),s("h2",et,n(i.reservation.from_organization.name),1)])]),s("div",at,[a(t(j),{class:A(`${i.reservation.status_color}`)},{default:l(()=>[r(n(i.reservation.status_label),1)]),_:1},8,["class"]),s("div",lt,[["pending","confirmed"].includes(i.reservation.status)?(m(),f(t(x),{key:0,variant:"destructive",size:"sm",onClick:k},{default:l(()=>[a(t(L),{class:"h-4 w-4"}),e[2]||(e[2]=r(" Annuler la réservation "))]),_:1,__:[2]})):g("",!0)])])]),s("div",it,[a(t(c),null,{default:l(()=>[a(t(y),null,{default:l(()=>[a(t(w),{class:"text-lg"},{default:l(()=>e[3]||(e[3]=[r("Détails de la réservation")])),_:1,__:[3]})]),_:1}),a(t(p),null,{default:l(()=>[s("div",rt,[s("div",nt,[a(t($),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[4]||(e[4]=s("h3",{class:"text-sm font-medium text-gray-500"},"Récupération",-1)),s("p",ot,n(i.reservation.start_date),1)])]),s("div",dt,[a(t($),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[5]||(e[5]=s("h3",{class:"text-sm font-medium text-gray-500"},"Retour",-1)),s("p",ut,n(i.reservation.end_date),1)])]),s("div",mt,[a(t(O),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[6]||(e[6]=s("h3",{class:"text-sm font-medium text-gray-500"},"Durée",-1)),s("p",ft,n(i.reservation.duration)+" jours",1)])]),s("div",_t,[a(t(C),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[7]||(e[7]=s("h3",{class:"text-sm font-medium text-gray-500"},"Organisation emprunteuse",-1)),s("p",xt,n(i.reservation.to_organization.name),1)])]),s("div",vt,[a(t(q),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[8]||(e[8]=s("h3",{class:"text-sm font-medium text-gray-500"},"Créée le",-1)),s("p",gt,n(i.reservation.created_at),1)])]),s("div",ct,[a(t(S),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[9]||(e[9]=s("h3",{class:"text-sm font-medium text-gray-500"},"Dernière mise à jour",-1)),s("p",pt,n(i.reservation.updated_at),1)])])])]),_:1})]),_:1}),a(t(c),null,{default:l(()=>[a(t(y),null,{default:l(()=>[a(t(w),{class:"text-lg"},{default:l(()=>e[10]||(e[10]=[r("Contact")])),_:1,__:[10]})]),_:1}),a(t(p),null,{default:l(()=>[s("div",yt,[s("div",wt,[a(t(B),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[11]||(e[11]=s("h3",{class:"text-sm font-medium text-gray-500"},"Nom",-1)),s("p",ht,n(i.reservation.user.name),1)])]),s("div",$t,[a(t(K),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[12]||(e[12]=s("h3",{class:"text-sm font-medium text-gray-500"},"Email",-1)),s("p",bt,n(i.reservation.user.email),1)])]),s("div",Ct,[a(t(Q),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[e[13]||(e[13]=s("h3",{class:"text-sm font-medium text-gray-500"},"Téléphone",-1)),s("p",kt,n(i.reservation.user.phone||"Non renseigné"),1)])])])]),_:1})]),_:1})]),a(t(N),{variant:"warning",class:"mb-6"},{default:l(()=>[a(t(X),{class:"h-4 w-4"}),a(t(R),null,{default:l(()=>e[14]||(e[14]=[r("Information importante")])),_:1,__:[14]}),a(t(V),null,{default:l(()=>e[15]||(e[15]=[r(" Pour garantir la sécurité du matériel, les informations de localisation ne sont pas visibles sur cette page."),s("br",null,null,-1),r(" Merci de contacter directement l'organisation pour organiser la récupération. ")])),_:1,__:[15]})]),_:1}),a(t(c),null,{default:l(()=>[a(t(y),null,{default:l(()=>[s("div",zt,[a(t(w),{class:"text-lg"},{default:l(()=>e[16]||(e[16]=[r("Matériel réservé")])),_:1,__:[16]}),s("div",Pt,[e[17]||(e[17]=s("p",{class:"text-sm text-gray-600"},"Prix total",-1)),s("p",jt,n(i.reservation.total)+" €",1)])])]),_:1}),a(t(p),null,{default:l(()=>[a(t(T),null,{default:l(()=>[a(t(F),null,{default:l(()=>[a(t(b),null,{default:l(()=>[a(t(d),null,{default:l(()=>e[18]||(e[18]=[r("Équipement")])),_:1,__:[18]}),a(t(d),null,{default:l(()=>e[19]||(e[19]=[r("Qté")])),_:1,__:[19]}),a(t(d),null,{default:l(()=>e[20]||(e[20]=[r("Jours")])),_:1,__:[20]}),a(t(d),null,{default:l(()=>e[21]||(e[21]=[r("Prix/jour")])),_:1,__:[21]}),a(t(d),null,{default:l(()=>e[22]||(e[22]=[r("Sous-total")])),_:1,__:[22]}),a(t(d),null,{default:l(()=>e[23]||(e[23]=[r("Caution")])),_:1,__:[23]}),a(t(d),null,{default:l(()=>e[24]||(e[24]=[r("Emplacement")])),_:1,__:[24]}),i.reservation.status==="pending"?(m(),f(t(d),{key:0,class:"w-[100px]"})):g("",!0)]),_:1})]),_:1}),a(t(I),null,{default:l(()=>[(m(!0),D(E,null,M(i.reservation.items,o=>(m(),f(t(b),{key:o.id},{default:l(()=>[a(t(u),{class:"font-medium"},{default:l(()=>[r(n(o.equipment.name),1)]),_:2},1024),a(t(u),null,{default:l(()=>[r(n(o.quantity),1)]),_:2},1024),a(t(u),null,{default:l(()=>[r(n(i.reservation.duration),1)]),_:1}),a(t(u),null,{default:l(()=>[r(n(o.price)+" €",1)]),_:2},1024),a(t(u),null,{default:l(()=>[r(n(o.total_price)+" €",1)]),_:2},1024),a(t(u),null,{default:l(()=>[r(n(o.equipment.deposit_amount)+" €",1)]),_:2},1024),a(t(u),null,{default:l(()=>[r(n(o.city),1)]),_:2},1024),i.reservation.status==="pending"?(m(),f(t(u),{key:0},{default:l(()=>[a(t(x),{variant:"ghost",size:"icon",class:"text-destructive hover:text-destructive/90",onClick:qt=>z(o.id)},{default:l(()=>[a(t(U),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]),_:2},1024)):g("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1},8,["title"]))}};export{Yt as default};
