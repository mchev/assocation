import{_ as G}from"./AdminLayout-BH_UM_Ea.js";import{_ as y,a as w}from"./CardContent.vue_vue_type_script_setup_true_lang-CIwPC3st.js";import{_ as j}from"./CardDescription.vue_vue_type_script_setup_true_lang-p2mn8-x2.js";import{_ as b,a as C}from"./CardTitle.vue_vue_type_script_setup_true_lang-zXLYbUmR.js";import{P as L,c as D}from"./index-VY4--G5u.js";import{c as J}from"./useForwardPropsEmits-BkNfvR2B.js";import{u as S,i as T}from"./useForwardExpose-Cag_WGDy.js";import{h as g,i as k,c as _,o as d,w as s,j as x,u as t,k as O,g as $,l as V,m as K,p as Q,q as X,s as Y,v as Z,y as tt,n as et,z as W,a as r,b as o,d as f,t as c,f as v,F as R,r as E}from"./app-B84cEB41.js";import{_ as q}from"./index-DR8SuYca.js";import{U as M}from"./users-BlUev33S.js";import{B as I}from"./building-2-DTWUCFn4.js";import{P as st}from"./package-6sqF0Rjf.js";import"./UserDropdown-ClLYsC8w.js";import"./createLucideIcon-CzQ7dau1.js";import"./DialogPortal-BAS8dyvy.js";import"./DialogDescription-DevdfHKx.js";import"./DialogTitle-DmfaaV6e.js";import"./shield-BFsf12da.js";import"./arrow-left-CvLW9obd.js";const[H,at]=J("AvatarRoot"),ot=g({__name:"AvatarRoot",props:{asChild:{type:Boolean},as:{default:"span"}},setup(n){return S(),at({imageLoadingStatus:k("idle")}),(l,i)=>(d(),_(t(L),{"as-child":l.asChild,as:l.as},{default:s(()=>[x(l.$slots,"default")]),_:3},8,["as-child","as"]))}}),lt=g({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{default:"span"}},setup(n){const l=n,i=H();S();const e=k(l.delayMs===void 0);return O(a=>{if(l.delayMs&&T){const m=window.setTimeout(()=>{e.value=!0},l.delayMs);a(()=>{window.clearTimeout(m)})}}),(a,m)=>e.value&&t(i).imageLoadingStatus.value!=="loaded"?(d(),_(t(L),{key:0,"as-child":a.asChild,as:a.as},{default:s(()=>[x(a.$slots,"default")]),_:3},8,["as-child","as"])):$("",!0)}});function N(n,l){return n?l?(n.src!==l&&(n.src=l),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function nt(n,{referrerPolicy:l,crossOrigin:i}={}){const e=k(!1),a=k(null),m=V(()=>e.value?(!a.value&&T&&(a.value=new window.Image),a.value):null),h=k(N(m.value,n.value)),z=p=>()=>{e.value&&(h.value=p)};return K(()=>{e.value=!0,O(p=>{const u=m.value;if(!u)return;h.value=N(u,n.value);const A=z("loaded"),B=z("error");u.addEventListener("load",A),u.addEventListener("error",B),l!=null&&l.value&&(u.referrerPolicy=l.value),typeof(i==null?void 0:i.value)=="string"&&(u.crossOrigin=i.value),p(()=>{u.removeEventListener("load",A),u.removeEventListener("error",B)})})}),Q(()=>{e.value=!1}),h}const rt=g({__name:"AvatarImage",props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{default:"img"}},emits:["loadingStatusChange"],setup(n,{emit:l}){const i=n,e=l,{src:a,referrerPolicy:m,crossOrigin:h}=X(i);S();const z=H(),p=nt(a,{referrerPolicy:m,crossOrigin:h});return Y(p,u=>{e("loadingStatusChange",u),u!=="idle"&&(z.imageLoadingStatus.value=u)},{immediate:!0}),(u,A)=>Z((d(),_(t(L),{role:"img","as-child":u.asChild,as:u.as,src:t(a),"referrer-policy":t(m)},{default:s(()=>[x(u.$slots,"default")]),_:3},8,["as-child","as","src","referrer-policy"])),[[tt,t(p)==="loaded"]])}}),U=g({__name:"Avatar",props:{class:{}},setup(n){const l=n;return(i,e)=>(d(),_(t(ot),{"data-slot":"avatar",class:et(t(D)("relative flex size-8 shrink-0 overflow-hidden rounded-full",l.class))},{default:s(()=>[x(i.$slots,"default")]),_:3},8,["class"]))}}),F=g({__name:"AvatarFallback",props:{delayMs:{},asChild:{type:Boolean},as:{},class:{}},setup(n){const l=n,i=V(()=>{const{class:e,...a}=l;return a});return(e,a)=>(d(),_(t(lt),W({"data-slot":"avatar-fallback"},i.value,{class:t(D)("bg-muted flex size-full items-center justify-center rounded-full",l.class)}),{default:s(()=>[x(e.$slots,"default")]),_:3},16,["class"]))}}),P=g({__name:"AvatarImage",props:{src:{},referrerPolicy:{},crossOrigin:{},asChild:{type:Boolean},as:{}},setup(n){const l=n;return(i,e)=>(d(),_(t(rt),W({"data-slot":"avatar-image"},l,{class:"aspect-square size-full"}),{default:s(()=>[x(i.$slots,"default")]),_:3},16))}}),it={class:"space-y-6"},ut={class:"grid gap-4 md:grid-cols-3"},dt={class:"text-2xl font-bold"},ct={class:"text-2xl font-bold"},mt={class:"text-2xl font-bold"},ft={class:"grid gap-6 md:grid-cols-2"},_t={class:"space-y-4"},pt={class:"space-y-1"},vt={class:"text-sm font-medium leading-none"},gt={class:"text-sm text-muted-foreground"},xt={class:"ml-auto font-medium"},ht={key:0,class:"text-center py-6"},yt={class:"space-y-4"},wt={class:"space-y-1"},bt={class:"text-sm font-medium leading-none"},Ct={class:"text-sm text-muted-foreground"},$t={class:"ml-auto font-medium"},kt={key:0,class:"text-center py-6"},Wt={__name:"Dashboard",props:{stats:{type:Object,required:!0},recent_users:{type:Array,required:!0},recent_organizations:{type:Array,required:!0}},setup(n){const l=i=>i?i.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2):"?";return(i,e)=>(d(),_(G,null,{default:s(()=>[r("div",it,[e[12]||(e[12]=r("div",{class:"flex items-center justify-between"},[r("div",null,[r("h1",{class:"text-3xl font-bold tracking-tight"},"Dashboard"),r("p",{class:"text-muted-foreground"}," Welcome to your admin dashboard. Here's an overview of your platform. ")])],-1)),r("div",ut,[o(t(y),null,{default:s(()=>[o(t(b),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[o(t(C),{class:"text-sm font-medium"},{default:s(()=>e[0]||(e[0]=[f("Total Users")])),_:1,__:[0]}),o(t(M),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),o(t(w),null,{default:s(()=>[r("div",dt,c(n.stats.users_count),1),e[1]||(e[1]=r("p",{class:"text-xs text-muted-foreground"}," Registered users on the platform ",-1))]),_:1,__:[1]})]),_:1}),o(t(y),null,{default:s(()=>[o(t(b),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[o(t(C),{class:"text-sm font-medium"},{default:s(()=>e[2]||(e[2]=[f("Organizations")])),_:1,__:[2]}),o(t(I),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),o(t(w),null,{default:s(()=>[r("div",ct,c(n.stats.organizations_count),1),e[3]||(e[3]=r("p",{class:"text-xs text-muted-foreground"}," Active organizations ",-1))]),_:1,__:[3]})]),_:1}),o(t(y),null,{default:s(()=>[o(t(b),{class:"flex flex-row items-center justify-between space-y-0 pb-2"},{default:s(()=>[o(t(C),{class:"text-sm font-medium"},{default:s(()=>e[4]||(e[4]=[f("Equipment")])),_:1,__:[4]}),o(t(st),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),o(t(w),null,{default:s(()=>[r("div",mt,c(n.stats.equipment_count),1),e[5]||(e[5]=r("p",{class:"text-xs text-muted-foreground"}," Available equipment items ",-1))]),_:1,__:[5]})]),_:1})]),r("div",ft,[o(t(y),null,{default:s(()=>[o(t(b),null,{default:s(()=>[o(t(C),null,{default:s(()=>e[6]||(e[6]=[f("Recent Users")])),_:1,__:[6]}),o(t(j),null,{default:s(()=>e[7]||(e[7]=[f(" Latest registered users on the platform ")])),_:1,__:[7]})]),_:1}),o(t(w),null,{default:s(()=>[r("div",_t,[(d(!0),v(R,null,E(n.recent_users,a=>(d(),v("div",{key:a.id,class:"flex items-center space-x-4"},[o(t(U),{class:"h-9 w-9"},{default:s(()=>[a.profile_photo_url?(d(),_(t(P),{key:0,src:a.profile_photo_url,alt:a.name},null,8,["src","alt"])):$("",!0),o(t(F),null,{default:s(()=>[f(c(l(a.name)),1)]),_:2},1024)]),_:2},1024),r("div",pt,[r("p",vt,c(a.name),1),r("p",gt,c(a.email),1)]),r("div",xt,[o(t(q),{variant:"secondary"},{default:s(()=>{var m;return[f(c(((m=a.organizations)==null?void 0:m.length)||0)+" orgs ",1)]}),_:2},1024)])]))),128)),n.recent_users.length===0?(d(),v("div",ht,[o(t(M),{class:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),e[8]||(e[8]=r("p",{class:"text-sm text-muted-foreground"},"No users found",-1))])):$("",!0)])]),_:1})]),_:1}),o(t(y),null,{default:s(()=>[o(t(b),null,{default:s(()=>[o(t(C),null,{default:s(()=>e[9]||(e[9]=[f("Recent Organizations")])),_:1,__:[9]}),o(t(j),null,{default:s(()=>e[10]||(e[10]=[f(" Latest organizations that joined the platform ")])),_:1,__:[10]})]),_:1}),o(t(w),null,{default:s(()=>[r("div",yt,[(d(!0),v(R,null,E(n.recent_organizations,a=>(d(),v("div",{key:a.id,class:"flex items-center space-x-4"},[o(t(U),{class:"h-9 w-9"},{default:s(()=>[a.logo_url?(d(),_(t(P),{key:0,src:a.logo_url,alt:a.name},null,8,["src","alt"])):$("",!0),o(t(F),null,{default:s(()=>[f(c(l(a.name)),1)]),_:2},1024)]),_:2},1024),r("div",wt,[r("p",bt,c(a.name),1),r("p",Ct,c(a.city)+", "+c(a.state),1)]),r("div",$t,[o(t(q),{variant:"outline"},{default:s(()=>[f(c(a.type||"Organization"),1)]),_:2},1024)])]))),128)),n.recent_organizations.length===0?(d(),v("div",kt,[o(t(I),{class:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),e[11]||(e[11]=r("p",{class:"text-sm text-muted-foreground"},"No organizations found",-1))])):$("",!0)])]),_:1})]),_:1})])])]),_:1}))}};export{Wt as default};
