import{E as L,i as k,c as w,o as i,w as d,f as m,g as $,a as e,b as s,u as t,d as x,t as p,S as M,F as q,r as z,n as N,D as te,T as se,l as C,v as J,N as W,I as ae,e as E,H as oe,M as re,s as Y,x as le}from"./app-BT8d_koR.js";import{_ as ie}from"./AppLayout-DTtDtGyV.js";import{_ as ne,a as de}from"./CardContent.vue_vue_type_script_setup_true_lang-siOyVryu.js";import{_ as S}from"./index-QaBCJxBS.js";import{X as T}from"./useForwardPropsEmits-BlS4RVnc.js";import{A as Z}from"./arrow-right-Db2yENb2.js";import{S as ue,E as ce}from"./sparkles-CDXpsHs2.js";import{S as me}from"./shield-check-CUqX_jWG.js";import{c as R}from"./createLucideIcon-BrVoQu7_.js";import{U as fe}from"./users-CrGoT8GN.js";import{a as pe,b as ve,c as he,d as D,_ as xe}from"./SelectValue.vue_vue_type_script_setup_true_lang-CuGnELOK.js";import{_ as j}from"./Label.vue_vue_type_script_setup_true_lang-BeeWViKr.js";import{e as P,f as A,g as F}from"./UserDropdown-CNt4doVX.js";import{f as ee,h as O,b as ge,I as _e}from"./FlashMessage-DBgPC62p.js";import{d as ye,e as be,f as ke,g as H,b as B,_ as $e}from"./DateRangePicker-BclAuAjG.js";import{d as we}from"./debounce-CxlV3q-9.js";import{M as U}from"./map-pin-D5IsVgi_.js";import{C as Q}from"./circle-help-CWe7Vc68.js";import{_ as qe}from"./Pagination-CubI02Ca.js";import{f as G,a as K}from"./fr-D_pP4D31.js";import{_ as Se,a as Ve}from"./index-CwTd19w8.js";import"./useForwardExpose-CAWtCz5G.js";import"./chevron-down-gf3hC_qr.js";import"./clamp-NKTXupKT.js";import"./check-B1SgvWhX.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./useFormControl-cnrMw5pz.js";import"./nullish-CHIgUVhi.js";import"./index-B0JNj_U7.js";import"./package-D7kJN4G1.js";import"./loader-circle-CDfKhQXZ.js";import"./Input.vue_vue_type_script_setup_true_lang-FQW22VWV.js";import"./plus-CGluBPLt.js";import"./useKbd-kRIii9yh.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=R("LayoutListIcon",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=R("PackageSearchIcon",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=R("SearchXIcon",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=R("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),je={key:0,"aria-labelledby":"hero-heading",class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Me={class:"flex flex-col lg:flex-row items-center gap-8"},Te={class:"flex-1 text-center lg:text-left"},Re={class:"space-y-4"},Ie={class:"text-base text-gray-500 max-w-xl mx-auto lg:mx-0 dark:text-gray-400"},Ee={class:"text-gray-900 dark:text-white"},Ue={class:"mt-6 flex flex-wrap items-center gap-3 justify-center lg:justify-start"},Le={class:"flex-shrink-0 lg:w-80"},Ne={class:"rounded-lg p-4"},Pe={class:"grid gap-3",role:"list"},Ae={class:"text-sm font-medium text-gray-900 dark:text-white"},Fe={class:"text-xs text-gray-500 mt-0.5 dark:text-gray-400"},Oe={__name:"HeroSection",setup(o){const g=L().props.name,f=k(!0),u=()=>{f.value=!1,localStorage.setItem("heroCardDismissed","true")},r=[{icon:ue,title:"Gratuit",description:"Pour une association ou un particulier"},{icon:me,title:"Réservation sécurisée",description:"Processus simple et sûr"},{icon:De,title:"Gestion d'inventaire",description:"Suivez votre matériel"},{icon:fe,title:"Communauté active",description:"Réseau associatif"}];return(n,c)=>(i(),w(se,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform -translate-y-4 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-4 opacity-0"},{default:d(()=>[f.value?(i(),m("section",je,[c[7]||(c[7]=e("div",{class:"absolute inset-0 rounded-2xl"},null,-1)),s(t(ne),{class:"relative border-none bg-gradient-to-br from-violet-100 via-blue-50 to-background dark:from-violet-950 dark:via-blue-950 dark:to-background"},{default:d(()=>[s(t(S),{variant:"ghost",size:"icon",class:"absolute right-3 top-3 hover:bg-white/80",onClick:u},{default:d(()=>[s(t(T),{class:"h-4 w-4"}),c[0]||(c[0]=e("span",{class:"sr-only"},"Fermer la bannière d'accueil",-1))]),_:1,__:[0]}),s(t(de),{class:"p-6"},{default:d(()=>[e("div",Me,[e("div",Te,[e("div",Re,[c[2]||(c[2]=e("h1",{id:"hero-heading",class:"text-2xl sm:text-3xl font-bold font-title text-gray-900 leading-tight dark:text-white"},[e("span",{class:"inline-block"},[x(" Location et prêt de matériel "),e("span",{class:"bg-gradient-to-r from-violet-600 to-blue-600 bg-clip-text text-transparent whitespace-nowrap dark:from-violet-400 dark:to-blue-400"},"événementiel")]),e("span",{class:"block text-lg sm:text-xl mt-2 text-gray-600 font-medium dark:text-gray-400"}," entre associations et particuliers ")],-1)),e("p",Ie,[e("strong",Ee,p(t(g)),1),c[1]||(c[1]=x(" facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements. "))])]),e("div",Ue,[s(t(M),{href:n.route("discover"),class:"inline-flex items-center px-5 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-violet-600 to-blue-600 text-white hover:from-violet-700 hover:to-blue-700 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-violet-500 dark:from-violet-500 dark:to-blue-500 dark:hover:from-violet-600 dark:hover:to-blue-600"},{default:d(()=>[c[3]||(c[3]=x(" Découvrir la plateforme ")),s(t(Z),{class:"ml-2 h-4 w-4"})]),_:1,__:[3]},8,["href"]),s(t(S),{variant:"outline",as:"a",href:n.route("how-it-works"),class:"text-sm border-violet-200 text-violet-700 hover:text-violet-500 hover:bg-violet-50 dark:border-violet-800 dark:text-violet-300 dark:hover:bg-violet-900"},{default:d(()=>c[4]||(c[4]=[x(" Comment ça marche ? ")])),_:1,__:[4]},8,["href"])])]),c[6]||(c[6]=e("div",{class:"hidden lg:block w-px h-32 bg-gradient-to-b from-violet-200 to-blue-200 self-center dark:from-violet-800 dark:to-blue-800"},null,-1)),e("div",Le,[e("div",Ne,[c[5]||(c[5]=e("h2",{class:"text-sm font-medium text-gray-900 mb-4 dark:text-white"}," Avantages de la plateforme ",-1)),e("ul",Pe,[(i(),m(q,null,z(r,l=>e("li",{key:l.title,class:"flex items-start gap-3 group"},[e("div",{class:N(["rounded-md bg-gradient-to-br from-violet-100 to-blue-100 p-2 group-hover:from-violet-200 group-hover:to-blue-200 transition-colors duration-200 dark:from-violet-900 dark:to-blue-900",{"from-violet-200 to-blue-200 dark:from-violet-800 dark:to-blue-800":l.title==="Gratuit"}])},[(i(),w(te(l.icon),{class:"w-4 h-4 text-violet-600 dark:text-violet-400"}))],2),e("div",null,[e("h3",Ae,p(l.title),1),e("p",Fe,p(l.description),1)])])),64))])])])])]),_:1})]),_:1})])):$("",!0)]),_:1}))}},He={class:"space-y-1.5"},Be=["for"],Qe={class:"relative"},Ge=["id","value"],Ke={value:"all"},Xe=["value"],Je=["value"],We={__name:"CategoryTreeSelectSimple",props:{modelValue:{type:[String,Number],default:"all"},categories:{type:Array,required:!0},label:{type:String,default:"Catégorie"},id:{type:String,default:"category-select"},allItemsLabel:{type:String,default:"Toutes les catégories"}},emits:["update:modelValue"],setup(o){return(v,g)=>(i(),m("div",He,[e("label",{for:o.id,class:"text-sm font-medium text-gray-700 dark:text-white"},p(o.label),9,Be),e("div",Qe,[e("select",{id:o.id,value:o.modelValue,onChange:g[0]||(g[0]=f=>v.$emit("update:modelValue",f.target.value)),class:"w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-gray-800"},[e("option",Ke,p(o.allItemsLabel),1),(i(!0),m(q,null,z(o.categories,f=>{var u;return i(),m(q,{key:f.id},[e("option",{value:f.id},p(f.name),9,Xe),(u=f.children)!=null&&u.length?(i(!0),m(q,{key:0},z(f.children,r=>(i(),m("option",{key:r.id,value:r.id}," — "+p(r.name),9,Je))),128)):$("",!0)],64)}),128))],40,Ge)])]))}},Ye={class:"flex items-center border rounded-lg shadow-md bg-background"},Ze={class:"pl-3 text-muted-foreground"},et=["onKeydown"],tt={__name:"SearchInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","search:submit"],setup(o,{emit:v}){const g=o,f=v,u=k(null),r=C({get(){return g.modelValue},set(l){f("update:modelValue",l)}}),n=()=>{r.value="",oe(()=>{var l;(l=u.value)==null||l.focus()})},c=()=>{f("search:submit",r.value)};return(l,y)=>(i(),m("div",Ye,[e("span",Ze,[s(t(ee),{class:"h-5 w-5"})]),J(e("input",{ref_key:"inputRef",ref:u,"onUpdate:modelValue":y[0]||(y[0]=V=>r.value=V),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Que recherchez-vous ?",onKeydown:ae(E(c,["prevent"]),["enter"]),autocomplete:"off"},null,40,et),[[W,r.value]]),r.value?(i(),m("button",{key:0,onMousedown:E(n,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[s(t(T),{class:"h-4 w-4"})],32)):$("",!0)]))}},st={class:"relative w-full"},at={class:"flex items-center border rounded-lg shadow-md bg-background"},ot={class:"pl-3 text-muted-foreground"},rt={key:0,class:"py-6 text-center text-sm text-muted-foreground"},lt={key:1,class:"py-6 text-center text-sm text-destructive"},it={key:2,class:"py-6 text-center text-sm text-muted-foreground"},nt={key:3,class:"max-h-[300px] overflow-y-auto"},dt=["onClick"],ut={class:"flex flex-col"},ct={class:"text-xs text-muted-foreground"},mt={__name:"CityInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","selected"],setup(o,{emit:v}){const g=o,f=v,u=k(g.modelValue),r=k([]),n=k(!1),c=k(!1),l=k(""),y=k(null),V=we(async a=>{if(a.length<3){r.value=[],n.value=!1,l.value="";return}c.value=!0,n.value=!0,l.value="";try{const h=await re.get(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(a)}&type=municipality&limit=5`);if(!h.data.features||h.data.features.length===0){r.value=[];return}r.value=h.data.features.map(_=>({id:_.properties.id,name:_.properties.city,postcode:_.properties.postcode,coordinates:{lat:_.geometry.coordinates[1],lng:_.geometry.coordinates[0]}}))}catch(h){console.error("Error fetching city suggestions:",h),r.value=[],h.value="Erreur lors de la recherche de villes. Veuillez réessayer."}finally{c.value=!1}},150);Y(u,a=>{f("update:modelValue",a),a.length>=3&&a!==y.value?V(a):(r.value=[],n.value=!1)});const I=a=>{y.value=a.name+" ("+a.postcode+")",u.value=y.value,l.value="";let h={name:a.name,lat:a.coordinates.lat,lng:a.coordinates.lng,postcode:a.postcode,departement:a.postcode.substring(0,2)};f("selected",h),n.value=!1},b=()=>{u.value="",r.value=[],n.value=!1,l.value="",y.value=null,f("update:modelValue",""),f("selected",null)};return(a,h)=>(i(),m("div",st,[s(t(ke),{open:n.value,"onUpdate:open":h[1]||(h[1]=_=>n.value=_)},{default:d(()=>[s(t(ye),{asChild:""},{default:d(()=>[e("div",at,[e("span",ot,[s(t(U),{class:"h-5 w-5"})]),J(e("input",{"onUpdate:modelValue":h[0]||(h[0]=_=>u.value=_),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Ajouter une localisation"},null,512),[[W,u.value]]),u.value?(i(),m("button",{key:0,onMousedown:E(b,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[s(t(T),{class:"h-4 w-4"})],32)):$("",!0)])]),_:1}),s(t(be),{class:"w-full p-0",align:"start"},{default:d(()=>[c.value?(i(),m("div",rt,h[2]||(h[2]=[e("div",{class:"flex items-center justify-center"},[e("div",{class:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),e("span",{class:"ml-2"},"Recherche en cours...")],-1)]))):l.value?(i(),m("div",lt,p(l.value),1)):r.value.length===0?(i(),m("div",it," Aucun résultat trouvé ")):(i(),m("div",nt,[(i(!0),m(q,null,z(r.value,_=>(i(),m("div",{key:_.id,class:"flex items-center gap-2 px-4 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground",onClick:ms=>I(_)},[s(t(U),{class:"h-4 w-4 text-muted-foreground"}),e("div",ut,[e("span",null,p(_.name),1),e("span",ct,p(_.postcode),1)])],8,dt))),128))]))]),_:1})]),_:1},8,["open"])]))}},ft={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},pt={class:"relative rounded-xl shadow-xl border border-gray-200/60"},vt={key:0,class:"px-6 pt-6 pb-4"},ht={class:"px-6 pb-6"},xt={class:"flex flex-col md:flex-row gap-4 p-4"},gt={class:"flex-1"},_t={class:"flex-1"},yt={class:"flex items-end"},bt={key:1,class:"h-5 w-5 mr-2"},kt={class:"px-6 pb-6"},$t={class:""},wt={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},qt={class:"space-y-2"},St={class:"space-y-2"},Vt={class:"flex justify-end items-end"},Dt={__name:"SearchSection",props:{filters:{type:Object,default:()=>({})},stats:{type:Object,required:!0}},emits:["searching"],setup(o,{emit:v}){const f=L().props.auth.user,u=o,r=v,n=k(!1),c=k({from:u.filters.start_date?H(u.filters.start_date):void 0,to:u.filters.end_date?H(u.filters.end_date):void 0});Y(c,b=>{l.start_date=b.from?b.from.toDate(B()).toISOString().split("T")[0]:"",l.end_date=b.to?b.to.toDate(B()).toISOString().split("T")[0]:""},{deep:!0});const l=le({search:u.filters.search||"",radius:u.filters.radius||50,category:u.filters.category||"all",start_date:u.filters.start_date||"",end_date:u.filters.end_date||"",coordinates:u.filters.coordinates||null,city:u.filters.city||null,postcode:u.filters.postcode||null}),y=()=>{l.isDirty&&(n.value=!0,r("searching",n.value),l.get(route("home"),{only:["filters","equipments"],preserveScroll:!0,preserveState:!0,onFinish:()=>{n.value=!1,r("searching",n.value)}}))},V=()=>{c.value={from:void 0,to:void 0},l.reset({search:"",radius:50,category:"all",start_date:"",end_date:"",coordinates:null,city:null,postcode:null}),y()},I=b=>{l.city=b.name,l.postcode=b.postcode,l.coordinates={lat:b.lat,lng:b.lng},l.radius=l.radius||5,y()};return(b,a)=>(i(),m("div",{class:N({"relative mt-8":t(f)})},[e("div",ft,[e("div",pt,[t(f)?$("",!0):(i(),m("div",vt,a[5]||(a[5]=[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Trouvez le matériel dont vous avez besoin",-1),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Recherchez parmi des milliers d'équipements disponibles près de chez vous.",-1)]))),e("div",ht,[e("div",xt,[e("div",gt,[s(t(j),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:d(()=>a[6]||(a[6]=[x("Dans quel secteur ?")])),_:1,__:[6]}),s(mt,{modelValue:t(l).city,"onUpdate:modelValue":a[0]||(a[0]=h=>t(l).city=h),onSelected:I,placeholder:"Entrez une ville ou un code postal"},null,8,["modelValue"])]),e("div",_t,[s(t(j),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:d(()=>a[7]||(a[7]=[x("Que recherchez-vous ?")])),_:1,__:[7]}),s(tt,{modelValue:t(l).search,"onUpdate:modelValue":a[1]||(a[1]=h=>t(l).search=h),placeholder:"Ex: Vidéoprojecteur, Enceinte, Table...","onSearch:submit":y},null,8,["modelValue"])]),e("div",yt,[s(t(S),{type:"submit",size:"lg",disabled:n.value,class:"w-full md:w-auto min-w-[140px] bg-primary hover:bg-primary/90 shadow-sm dark:bg-primary dark:hover:bg-primary/90",onClick:y},{default:d(()=>[n.value?(i(),m("span",bt,a[8]||(a[8]=[e("span",{class:"animate-spin inline-block h-5 w-5 border-[3px] border-current border-t-transparent rounded-full"},null,-1)]))):(i(),w(t(ee),{key:0,class:"h-5 w-5 mr-2"})),x(" "+p(n.value?"Recherche...":"Rechercher"),1)]),_:1},8,["disabled"])])])]),e("div",kt,[e("div",$t,[e("div",wt,[s(We,{modelValue:t(l).category,"onUpdate:modelValue":[a[2]||(a[2]=h=>t(l).category=h),y],categories:o.stats.categories},null,8,["modelValue","categories"]),e("div",qt,[s(t(j),{for:"radius",class:"flex items-center gap-2"},{default:d(()=>[a[10]||(a[10]=x(" Rayon de recherche ")),s(t(O),null,{default:d(()=>[s(t(P),null,{default:d(()=>[s(t(A),null,{default:d(()=>[s(t(Q),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(F),null,{default:d(()=>a[9]||(a[9]=[e("p",null,"Distance maximale de recherche",-1)])),_:1,__:[9]})]),_:1})]),_:1})]),_:1,__:[10]}),s(t(xe),{modelValue:t(l).radius,"onUpdate:modelValue":a[3]||(a[3]=h=>t(l).radius=h)},{default:d(()=>[s(t(pe),{id:"radius",class:"w-full bg-white dark:bg-gray-800"},{default:d(()=>[s(t(ve),{placeholder:"Sélectionner un rayon"})]),_:1}),s(t(he),null,{default:d(()=>[s(t(D),{value:"5"},{default:d(()=>a[11]||(a[11]=[x("5 km")])),_:1,__:[11]}),s(t(D),{value:"10"},{default:d(()=>a[12]||(a[12]=[x("10 km")])),_:1,__:[12]}),s(t(D),{value:"25"},{default:d(()=>a[13]||(a[13]=[x("25 km")])),_:1,__:[13]}),s(t(D),{value:"50"},{default:d(()=>a[14]||(a[14]=[x("50 km")])),_:1,__:[14]}),s(t(D),{value:"100"},{default:d(()=>a[15]||(a[15]=[x("100 km")])),_:1,__:[15]})]),_:1})]),_:1},8,["modelValue"])]),e("div",St,[s(t(j),{class:"flex items-center gap-2"},{default:d(()=>[a[17]||(a[17]=x(" Période de location ")),s(t(O),null,{default:d(()=>[s(t(P),null,{default:d(()=>[s(t(A),null,{default:d(()=>[s(t(Q),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(F),null,{default:d(()=>a[16]||(a[16]=[e("p",null,"Période de location souhaitée",-1)])),_:1,__:[16]})]),_:1})]),_:1})]),_:1,__:[17]}),s($e,{modelValue:c.value,"onUpdate:modelValue":a[4]||(a[4]=h=>c.value=h)},null,8,["modelValue"])]),e("div",Vt,[s(t(S),{variant:"outline",size:"sm",onClick:V,class:"text-sm hover:text-destructive hover:border-destructive dark:hover:text-destructive dark:hover:border-destructive"},{default:d(()=>[s(t(T),{class:"h-4 w-4 mr-1.5"}),a[18]||(a[18]=x(" Réinitialiser les filtres "))]),_:1,__:[18]})])])])])])])],2))}},zt={class:"group relative bg-card rounded-xl shadow-sm border border-border/50 overflow-hidden hover:shadow-lg transition-all duration-200"},Ct=["src","alt"],jt={key:1,class:"w-full h-full flex items-center justify-center text-muted-foreground/30"},Mt={class:"p-6"},Tt={class:"flex items-start justify-between gap-4"},Rt={class:"text-lg font-semibold text-foreground group-hover:text-primary transition-colors duration-200 line-clamp-2"},It={class:"mt-4 space-y-3"},Et={class:"flex items-center text-sm text-muted-foreground"},Ut={class:"truncate"},Lt={class:"flex items-center text-sm text-muted-foreground"},Nt={class:"truncate"},Pt={class:"flex items-center text-sm text-muted-foreground"},At={key:0,class:"mt-4 p-3 bg-accent/50 rounded-lg space-y-2"},Ft={class:"flex items-center text-sm"},Ot={class:"text-muted-foreground"},Ht={class:"flex items-center justify-between text-sm font-medium"},Bt={class:"text-foreground"},Qt={key:1,class:"mt-4 text-sm text-muted-foreground line-clamp-1"},Gt={key:2,class:"mt-4 text-sm text-muted-foreground line-clamp-2"},Kt={class:"mt-6"},Xt={__name:"EquipmentCard",props:{equipment:{type:Object,required:!0},startDate:{type:String,default:""},endDate:{type:String,default:""}},setup(o){const v=o,g=C(()=>{if(!v.startDate||!v.endDate)return v.equipment.rental_price;const r=new Date(v.startDate),n=new Date(v.endDate),c=Math.ceil((n-r)/(1e3*60*60*24))+1;return(v.equipment.rental_price*c).toFixed(2)}),f=r=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(r),u=C(()=>{if(!v.startDate||!v.endDate)return null;const r=new Date(v.startDate),n=new Date(v.endDate),c=Math.ceil((n-r)/(1e3*60*60*24))+1;return{start:G(r,"dd MMM yyyy",{locale:K}),end:G(n,"dd MMM yyyy",{locale:K}),days:c}});return(r,n)=>{var c,l;return i(),m("div",zt,[s(t(M),{href:r.route("equipments.show",o.equipment),class:"block aspect-[16/9] bg-accent/10 relative overflow-hidden"},{default:d(()=>[o.equipment.images&&o.equipment.images.length>0?(i(),m("img",{key:0,src:o.equipment.images[0].url,alt:o.equipment.name,loading:"lazy",placeholder:"blur",class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"},null,8,Ct)):(i(),m("div",jt,[s(t(X),{class:"w-12 h-12"})]))]),_:1},8,["href"]),e("div",Mt,[e("div",Tt,[s(t(M),{href:r.route("equipments.show",o.equipment),class:"block"},{default:d(()=>[e("h3",Rt,p(o.equipment.name),1)]),_:1},8,["href"])]),e("div",It,[e("div",Et,[s(t(U),{class:"h-4 w-4 mr-2 text-primary/70 flex-shrink-0"}),e("span",Ut,p(((c=o.equipment.depot)==null?void 0:c.city)||"Non localisé"),1)]),e("div",Lt,[s(t(X),{class:"h-4 w-4 mr-2 text-primary/70 flex-shrink-0"}),e("span",Nt,p(((l=o.equipment.category)==null?void 0:l.name)||"Sans catégorie"),1)]),e("div",Pt,[s(t(ce),{class:"h-4 w-4 mr-2 text-primary/70 flex-shrink-0"}),e("span",null,p(f(o.equipment.rental_price))+" / jour",1)])]),u.value?(i(),m("div",At,[e("div",Ft,[s(t(ge),{class:"h-4 w-4 mr-2 text-primary/70"}),e("span",Ot,p(u.value.start)+" - "+p(u.value.end),1)]),e("div",Ht,[e("span",null,"Total ("+p(u.value.days)+" jour"+p(u.value.days>1?"s":"")+")",1),e("span",Bt,p(f(g.value)),1)])])):$("",!0),o.equipment.description?(i(),m("p",Qt,p(o.equipment.description),1)):(i(),m("p",Gt," Aucune description ")),e("div",Kt,[s(t(S),{asChild:"",class:"w-full group/button"},{default:d(()=>[s(t(M),{href:r.route("equipments.show",o.equipment)},{default:d(()=>[n[0]||(n[0]=x(" Voir les détails ")),s(t(Z),{class:"ml-2 h-4 w-4 transition-transform group-hover/button:translate-x-1"})]),_:1,__:[0]},8,["href"])]),_:1})])])])}}},Jt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Wt={key:0,class:"min-h-[400px] flex flex-col items-center justify-center"},Yt={key:1,class:"min-h-[400px] flex flex-col items-center justify-center text-center"},Zt={class:"w-24 h-24 text-muted-foreground mb-6"},es={class:"text-xl font-medium text-foreground"},ts={class:"mt-2 text-base text-muted-foreground max-w-md"},ss={key:0,class:"mt-6"},as={key:2},os={class:"mb-6 flex items-center justify-between"},rs={class:"text-lg font-medium text-foreground"},ls={class:"text-sm text-muted-foreground"},is={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},ns={class:"mt-12"},ds={__name:"ResultsSection",props:{equipments:{type:Object,required:!0},startDate:{type:String,default:""},endDate:{type:String,default:""},isSearching:{type:Boolean,default:!1}},setup(o){const v=o,g=C(()=>v.equipments.data.length>0),f=C(()=>v.startDate||v.endDate);return(u,r)=>(i(),m("div",Jt,[o.isSearching?(i(),m("div",Wt,r[1]||(r[1]=[e("div",{class:"w-16 h-16 mb-4"},[e("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})],-1),e("h3",{class:"text-lg font-medium text-foreground"},"Recherche en cours...",-1),e("p",{class:"mt-2 text-sm text-muted-foreground"}," Nous recherchons les meilleurs équipements pour vous ",-1)]))):g.value?(i(),m("div",as,[e("div",os,[e("h2",rs,p(o.equipments.total)+" équipement"+p(o.equipments.total>1?"s":"")+" trouvé"+p(o.equipments.total>1?"s":""),1),e("p",ls," Page "+p(o.equipments.current_page)+" sur "+p(o.equipments.last_page),1)]),e("div",is,[(i(!0),m(q,null,z(o.equipments.data,n=>(i(),w(Xt,{key:n.id,equipment:n,"start-date":o.startDate,"end-date":o.endDate,class:"transition-all duration-300 ease-in-out"},null,8,["equipment","start-date","end-date"]))),128))]),e("div",ns,[s(qe,{links:o.equipments.links},null,8,["links"])])])):(i(),m("div",Yt,[e("div",Zt,[f.value?(i(),w(t(Ce),{key:0,class:"w-full h-full"})):(i(),w(t(ze),{key:1,class:"w-full h-full"}))]),e("h3",es,p(f.value?"Aucun équipement trouvé":"Commencez votre recherche"),1),e("p",ts,p(f.value?"Essayez de modifier vos critères de recherche pour trouver plus de résultats.":"Utilisez la barre de recherche ci-dessus pour trouver l'équipement dont vous avez besoin."),1),f.value?(i(),m("div",ss,[s(t(S),{variant:"outline",onClick:r[0]||(r[0]=n=>u.$emit("reset-filters"))},{default:d(()=>r[2]||(r[2]=[x(" Réinitialiser les filtres ")])),_:1,__:[2]})])):$("",!0)]))]))}},us={class:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 my-2"},cs={key:0,class:"relative"},Gs={__name:"Home",props:{equipments:{type:Object,required:!0},filters:{type:Object,default:()=>({})},stats:{type:Object,default:()=>({min_price:0,max_price:1e3,categories:[]})}},setup(o){const v=k(!1),g=L(),f=g.props.name,u=g.props.auth.user;return(r,n)=>(i(),w(ie,{title:"Location et prêt de matériel événementiel",description:`${t(f)} facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements.`},{default:d(()=>[e("div",us,[s(t(Se),{class:"bg-yellow-500/10 border-yellow-500 text-yellow-800"},{default:d(()=>[s(t(_e),{class:"size-4"}),s(t(Ve),null,{default:d(()=>[x(p(t(f))+" est actuellement en version beta - En cas de problème, n'hésitez pas à nous contacter sur ",1),n[1]||(n[1]=e("a",{href:"mailto:contact@assocation.fr",class:"underline hover:text-primary"},"contact@assocation.fr",-1)),n[2]||(n[2]=x(". "))]),_:1,__:[1,2]})]),_:1})]),t(u)?$("",!0):(i(),m("section",cs,[s(Oe)])),e("section",null,[s(Dt,{filters:o.filters,stats:o.stats,onSearching:n[0]||(n[0]=c=>v.value=c)},null,8,["filters","stats"])]),e("section",{class:N(["relative py-12 bg-gradient-to-b from-background via-background/50 to-background",{"mt-8":o.equipments.data.length>0}])},[s(ds,{equipments:o.equipments,"start-date":o.filters.start_date,"end-date":o.filters.end_date,isSearching:v.value},null,8,["equipments","start-date","end-date","isSearching"])],2)]),_:1},8,["description"]))}};export{Gs as default};
