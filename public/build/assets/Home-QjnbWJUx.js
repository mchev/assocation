import{l as L,u as t,h as P,q as nt,i as I,s as fe,H as te,c as T,o as f,w as v,j as N,g as R,z as H,bP as lt,m as pe,p as Se,I as ce,e as ae,bS as rt,b as c,E as Ve,f as w,a,d as q,t as V,S as Re,F as U,r as G,n as Q,D as it,T as dt,v as Pe,N as Me,M as we,a5 as ut,x as ct}from"./app-DPpmTrwd.js";import{_ as mt}from"./AppLayout-BUfvBeCI.js";import{_ as ft,a as pt}from"./CardContent.vue_vue_type_script_setup_true_lang-Bw6Hae3n.js";import{P as X,_ as W,c as oe}from"./index-DE-7sY59.js";import{c as ne,b as ve,j as vt,X as le,u as Ae,d as ht}from"./useForwardPropsEmits-RmXYHCpQ.js";import{A as gt}from"./arrow-right-BuGJ9iKS.js";import{S as yt}from"./sparkles-BjirACEC.js";import{S as xt}from"./shield-check-C1YMcgK3.js";import{c as re}from"./createLucideIcon--CXZLohK.js";import{U as bt}from"./users-DBWLTT_M.js";import{a as _t,b as kt,c as wt,d as Z,_ as $t}from"./SelectValue.vue_vue_type_script_setup_true_lang-C0Tg7Nl2.js";import{_ as ue}from"./Label.vue_vue_type_script_setup_true_lang-Bc5NQWTo.js";import{l as De,p as Ct,x as Ke,u as St,t as Vt,e as It,f as Et,g as jt}from"./UserDropdown-8s379JCZ.js";import{f as Ie,h as qt,I as Tt}from"./FlashMessage-CoWY-A4J.js";import{_ as Ne,a as Ue,b as He}from"./PopoverTrigger.vue_vue_type_script_setup_true_lang-uIK5aXra.js";import{d as zt}from"./debounce-Dw_CXLBf.js";import{M as Oe}from"./map-pin-Dfl42WTj.js";import{b as Ge,k as _e,u as Ot,r as ie,v as Ft}from"./useForwardExpose-Dp4K18Np.js";import{i as $e}from"./ohash.D__AXeF1-DHF4M4F_.js";import{u as Bt}from"./useFormControl-OcYS0XJb.js";import{_ as Lt}from"./VisuallyHiddenInput-DvRkuc2L.js";import{u as Rt}from"./useKbd-kRIii9yh.js";import{_ as Pt}from"./index-Dk5pVI_Q.js";import{C as Mt}from"./check-De33oSpH.js";import{C as At}from"./circle-help-CT0jf-sr.js";import{_ as Dt}from"./Pagination-uHZX8RF9.js";import{I as Kt}from"./image-DS6qYhcI.js";import{_ as Nt,a as Ut}from"./index--srDb-cm.js";import"./chevron-down-ZNizqggY.js";import"./clamp-CgL5Y1Hu.js";import"./nullish-CHIgUVhi.js";import"./package-WFQghKTU.js";import"./loader-circle-BqViWRhs.js";import"./Input.vue_vue_type_script_setup_true_lang-BUV0AScx.js";import"./plus-10wX7KCI.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=re("ChevronsUpDownIcon",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=re("LayoutListIcon",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=re("PackageSearchIcon",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=re("SearchXIcon",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=re("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);function Jt(e){const r=L(()=>t(e)),l=L(()=>new Intl.Collator("en",{usage:"search",...r.value}));return{startsWith:(o,s)=>s.length===0?!0:(o=o.normalize("NFC"),s=s.normalize("NFC"),l.value.compare(o.slice(0,s.length),s)===0),endsWith:(o,s)=>s.length===0?!0:(o=o.normalize("NFC"),s=s.normalize("NFC"),l.value.compare(o.slice(-s.length),s)===0),contains:(o,s)=>{if(s.length===0)return!0;o=o.normalize("NFC"),s=s.normalize("NFC");let d=0;const h=s.length;for(;d+h<=o.length;d++){const x=o.slice(d,d+h);if(l.value.compare(s,x)===0)return!0}return!1}}}function Yt(e,r,l){return e===void 0?!1:Array.isArray(e)?e.some(n=>se(n,r,l)):se(e,r,l)}function se(e,r,l){return e===void 0||r===void 0?!1:typeof e=="string"?e===r:typeof l=="function"?l(e,r):typeof l=="string"?(e==null?void 0:e[l])===(r==null?void 0:r[l]):$e(e,r)}function Zt(e,r,l){const n=e.findIndex(s=>$e(s,r)),u=e.findIndex(s=>$e(s,l));if(n===-1||u===-1)return[];const[i,o]=[n,u].sort((s,d)=>s-d);return e.slice(i,o+1)}const[We,es]=ne("ListboxRoot"),ts=P({__name:"ListboxRoot",props:{modelValue:{},defaultValue:{},multiple:{type:Boolean},orientation:{default:"vertical"},dir:{},disabled:{type:Boolean},selectionBehavior:{default:"toggle"},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(e,{expose:r,emit:l}){const n=e,u=l,{multiple:i,highlightOnHover:o,orientation:s,disabled:d,selectionBehavior:h,dir:x}=nt(n),{getItems:k}=De({isProvider:!0}),{handleTypeaheadSearch:m}=Ct(),{primitiveElement:y,currentElement:g}=Ke(),$=Rt(),S=St(x),E=Bt(g),b=I(),B=I(!1),J=I(!0),O=Ge(n,"modelValue",u,{defaultValue:n.defaultValue??(i.value?[]:void 0),passive:n.modelValue===void 0,deep:!0});function z(p){if(B.value=!0,n.multiple){const _=Array.isArray(O.value)?[...O.value]:[],C=_.findIndex(F=>se(F,p,n.by));n.selectionBehavior==="toggle"?(C===-1?_.push(p):_.splice(C,1),O.value=_):(O.value=[p],b.value=p)}else n.selectionBehavior==="toggle"&&se(O.value,p,n.by)?O.value=void 0:O.value=p;setTimeout(()=>{B.value=!1},1)}const j=I(null),M=I(null),A=I(!1),ge=I(!1),Ee=_e(),ye=_e(),je=_e();function xe(){return k().map(p=>p.ref).filter(p=>p.dataset.disabled!=="")}function D(p,_=!0){if(!p)return;j.value=p,J.value&&j.value.focus(),_&&j.value.scrollIntoView({block:"nearest"});const C=k().find(F=>F.ref===p);u("highlight",C)}function Je(p){if(A.value)je.trigger(p);else{const _=k().find(C=>se(C.value,p,n.by));_&&(j.value=_.ref,D(_.ref))}}function Ye(p){j.value&&j.value.isConnected&&(p.preventDefault(),p.stopPropagation(),ge.value||j.value.click())}function Ze(p){if(J.value){if(B.value=!0,A.value)ye.trigger(p);else{const _=p.altKey||p.ctrlKey||p.metaKey;if(_&&p.key==="a"&&i.value){const C=k(),F=C.map(K=>K.value);O.value=[...F],p.preventDefault(),D(C[C.length-1].ref)}else if(!_){const C=m(p.key,k());C&&D(C)}}setTimeout(()=>{B.value=!1},1)}}function et(){ge.value=!0}function tt(){requestAnimationFrame(()=>{ge.value=!1})}function qe(){te(()=>{const p=new KeyboardEvent("keydown",{key:"PageUp"});Te(p)})}function be(p){const _=j.value;_!=null&&_.isConnected&&(M.value=_),j.value=null,u("leave",p)}function st(p){var C,F;const _=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((C=p.currentTarget)==null||C.dispatchEvent(_),u("entryFocus",_),!_.defaultPrevented)if(M.value)D(M.value);else{const K=(F=xe())==null?void 0:F[0];D(K)}}function Te(p){const _=Vt(p,s.value,S.value);if(!_)return;let C=xe();if(j.value){if(_==="last")C.reverse();else if(_==="prev"||_==="next"){_==="prev"&&C.reverse();const F=C.indexOf(j.value);C=C.slice(F+1)}at(p,C[0])}if(C.length){const F=!j.value&&_==="prev"?C.length-1:0;D(C[F])}if(A.value)return ye.trigger(p)}function at(p,_){var F;if(!(A.value||n.selectionBehavior!=="replace"||!i.value||!Array.isArray(O.value)||(p.altKey||p.ctrlKey||p.metaKey)&&!p.shiftKey)&&p.shiftKey){const K=k().filter(Y=>Y.ref.dataset.disabled!=="");let de=(F=K.find(Y=>Y.ref===_))==null?void 0:F.value;if(p.key===$.END?de=K[K.length-1].value:p.key===$.HOME&&(de=K[0].value),!de||!b.value)return;const ot=Zt(K.map(Y=>Y.value),b.value,de);O.value=ot}}async function ze(p){if(await te(),A.value)Ee.trigger(p);else{const _=xe(),C=_.find(F=>F.dataset.state==="checked");C?D(C):_.length&&D(_[0])}}return fe(O,()=>{B.value||te(()=>{ze()})},{immediate:!0,deep:!0}),r({highlightedElement:j,highlightItem:Je,highlightFirstItem:qe,highlightSelected:ze,getItems:k}),es({modelValue:O,onValueChange:z,multiple:i,orientation:s,dir:S,disabled:d,highlightOnHover:o,highlightedElement:j,isVirtual:A,virtualFocusHook:Ee,virtualKeydownHook:ye,virtualHighlightHook:je,by:n.by,firstValue:b,selectionBehavior:h,focusable:J,onLeave:be,onEnter:st,changeHighlight:D,onKeydownEnter:Ye,onKeydownNavigation:Te,onKeydownTypeAhead:Ze,onCompositionStart:et,onCompositionEnd:tt,highlightFirstItem:qe}),(p,_)=>(f(),T(t(X),{ref_key:"primitiveElement",ref:y,as:p.as,"as-child":p.asChild,dir:t(S),"data-disabled":t(d)?"":void 0,onPointerleave:be,onFocusout:_[0]||(_[0]=async C=>{const F=C.relatedTarget||C.target;await te(),j.value&&t(g)&&!t(g).contains(F)&&be(C)})},{default:v(()=>[N(p.$slots,"default",{modelValue:t(O)}),t(E)&&p.name?(f(),T(t(Lt),{key:0,name:p.name,value:t(O),disabled:t(d),required:p.required},null,8,["name","value","disabled","required"])):R("",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),[ss,as]=ne("ListboxGroup"),os=P({__name:"ListboxGroup",props:{asChild:{type:Boolean},as:{}},setup(e){const r=e,l=ve(void 0,"reka-listbox-group");return as({id:l}),(n,u)=>(f(),T(t(X),H({role:"group"},r,{"aria-labelledby":t(l)}),{default:v(()=>[N(n.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),ns=P({__name:"ListboxFilter",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},emits:["update:modelValue"],setup(e,{emit:r}){const l=e,u=Ge(l,"modelValue",r,{defaultValue:"",passive:l.modelValue===void 0}),i=We(),{primitiveElement:o,currentElement:s}=Ke(),d=L(()=>l.disabled||i.disabled.value||!1),h=I();return lt(()=>{var x;return h.value=(x=i.highlightedElement.value)==null?void 0:x.id}),pe(()=>{i.focusable.value=!1,setTimeout(()=>{var x;l.autoFocus&&((x=s.value)==null||x.focus())},1)}),Se(()=>{i.focusable.value=!0}),(x,k)=>(f(),T(t(X),{ref_key:"primitiveElement",ref:o,as:x.as,"as-child":x.asChild,value:t(u),disabled:d.value?"":void 0,"data-disabled":d.value?"":void 0,"aria-disabled":d.value??void 0,"aria-activedescendant":h.value,type:"text",onKeydown:[ce(ae(t(i).onKeydownNavigation,["prevent"]),["down","up","home","end"]),ce(t(i).onKeydownEnter,["enter"])],onInput:k[0]||(k[0]=m=>{u.value=m.target.value,t(i).highlightFirstItem(m)}),onCompositionstart:t(i).onCompositionStart,onCompositionend:t(i).onCompositionEnd},{default:v(()=>[N(x.$slots,"default",{modelValue:t(u)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),ls="listbox.select",[rn,rs]=ne("ListboxItem"),is=P({__name:"ListboxItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},emits:["select"],setup(e,{emit:r}){const l=e,n=r,u=ve(void 0,"reka-listbox-item"),{CollectionItem:i}=De(),{forwardRef:o,currentElement:s}=Ot(),d=We(),h=L(()=>s.value===d.highlightedElement.value),x=L(()=>Yt(d.modelValue.value,l.value,d.by)),k=L(()=>d.disabled.value||l.disabled);async function m(g){n("select",g),!(g!=null&&g.defaultPrevented)&&!k.value&&g&&(d.onValueChange(l.value),d.changeHighlight(s.value))}function y(g){const $={originalEvent:g,value:l.value};vt(ls,m,$)}return rs({isSelected:x}),(g,$)=>(f(),T(t(i),{value:g.value},{default:v(()=>[rt([h.value,x.value],()=>c(t(X),H({id:t(u)},g.$attrs,{ref:t(o),role:"option",tabindex:t(d).focusable.value?h.value?"0":"-1":-1,"aria-selected":x.value,as:g.as,"as-child":g.asChild,disabled:k.value?"":void 0,"data-disabled":k.value?"":void 0,"data-highlighted":h.value?"":void 0,"data-state":x.value?"checked":"unchecked",onClick:y,onKeydown:ce(ae(y,["prevent"]),["space"]),onPointermove:$[0]||($[0]=S=>{t(d).highlightedElement.value!==t(s)&&(t(d).highlightOnHover.value?t(d).changeHighlight(t(s),!1):t(d).focusable.value||t(d).changeHighlight(t(s),!1))})}),{default:v(()=>[N(g.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),$,1)]),_:3},8,["value"]))}}),ds=P({__name:"ListboxGroupLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(e){const r=e,l=ss({id:""});return(n,u)=>(f(),T(t(X),H(r,{id:t(l).id}),{default:v(()=>[N(n.$slots,"default")]),_:3},16,["id"]))}}),us={key:0,"aria-labelledby":"hero-heading",class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},cs={class:"flex flex-col lg:flex-row items-center gap-8"},ms={class:"flex-1 text-center lg:text-left"},fs={class:"space-y-4"},ps={class:"text-base text-gray-500 max-w-xl mx-auto lg:mx-0 dark:text-gray-400"},vs={class:"text-gray-900 dark:text-white"},hs={class:"mt-6 flex flex-wrap items-center gap-3 justify-center lg:justify-start"},gs={class:"flex-shrink-0 lg:w-80"},ys={class:"rounded-lg p-4"},xs={class:"grid gap-3",role:"list"},bs={class:"text-sm font-medium text-gray-900 dark:text-white"},_s={class:"text-xs text-gray-500 mt-0.5 dark:text-gray-400"},ks={__name:"HeroSection",setup(e){const l=Ve().props.name,n=I(!0),u=()=>{n.value=!1,localStorage.setItem("heroCardDismissed","true")},i=[{icon:yt,title:"Gratuit",description:"Pour une association ou un particulier"},{icon:xt,title:"Réservation sécurisée",description:"Processus simple et sûr"},{icon:Gt,title:"Gestion d'inventaire",description:"Suivez votre matériel"},{icon:bt,title:"Communauté active",description:"Réseau associatif"}];return(o,s)=>(f(),T(dt,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform -translate-y-4 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-4 opacity-0"},{default:v(()=>[n.value?(f(),w("section",us,[s[7]||(s[7]=a("div",{class:"absolute inset-0 rounded-2xl"},null,-1)),c(t(ft),{class:"relative border-none bg-gradient-to-br from-violet-100 via-blue-50 to-background dark:from-violet-950 dark:via-blue-950 dark:to-background"},{default:v(()=>[c(t(W),{variant:"ghost",size:"icon",class:"absolute right-3 top-3 hover:bg-white/80",onClick:u},{default:v(()=>[c(t(le),{class:"h-4 w-4"}),s[0]||(s[0]=a("span",{class:"sr-only"},"Fermer la bannière d'accueil",-1))]),_:1,__:[0]}),c(t(pt),{class:"p-6"},{default:v(()=>[a("div",cs,[a("div",ms,[a("div",fs,[s[2]||(s[2]=a("h1",{id:"hero-heading",class:"text-2xl sm:text-3xl font-bold font-title text-gray-900 leading-tight dark:text-white"},[a("span",{class:"inline-block"},[q(" Location et prêt de matériel "),a("span",{class:"bg-gradient-to-r from-violet-600 to-blue-600 bg-clip-text text-transparent whitespace-nowrap dark:from-violet-400 dark:to-blue-400"},"événementiel")]),a("span",{class:"block text-lg sm:text-xl mt-2 text-gray-600 font-medium dark:text-gray-400"}," entre associations et particuliers ")],-1)),a("p",ps,[a("strong",vs,V(t(l)),1),s[1]||(s[1]=q(" facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements. "))])]),a("div",hs,[c(t(Re),{href:o.route("discover"),class:"inline-flex items-center px-5 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-violet-600 to-blue-600 text-white hover:from-violet-700 hover:to-blue-700 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-violet-500 dark:from-violet-500 dark:to-blue-500 dark:hover:from-violet-600 dark:hover:to-blue-600"},{default:v(()=>[s[3]||(s[3]=q(" Découvrir la plateforme ")),c(t(gt),{class:"ml-2 h-4 w-4"})]),_:1,__:[3]},8,["href"]),c(t(W),{variant:"outline",as:"a",href:o.route("how-it-works"),class:"text-sm border-violet-200 text-violet-700 hover:text-violet-500 hover:bg-violet-50 dark:border-violet-800 dark:text-violet-300 dark:hover:bg-violet-900"},{default:v(()=>s[4]||(s[4]=[q(" Comment ça marche ? ")])),_:1,__:[4]},8,["href"])])]),s[6]||(s[6]=a("div",{class:"hidden lg:block w-px h-32 bg-gradient-to-b from-violet-200 to-blue-200 self-center dark:from-violet-800 dark:to-blue-800"},null,-1)),a("div",gs,[a("div",ys,[s[5]||(s[5]=a("h2",{class:"text-sm font-medium text-gray-900 mb-4 dark:text-white"}," Avantages de la plateforme ",-1)),a("ul",xs,[(f(),w(U,null,G(i,d=>a("li",{key:d.title,class:"flex items-start gap-3 group"},[a("div",{class:Q(["rounded-md bg-gradient-to-br from-violet-100 to-blue-100 p-2 group-hover:from-violet-200 group-hover:to-blue-200 transition-colors duration-200 dark:from-violet-900 dark:to-blue-900",{"from-violet-200 to-blue-200 dark:from-violet-800 dark:to-blue-800":d.title==="Gratuit"}])},[(f(),T(it(d.icon),{class:"w-4 h-4 text-violet-600 dark:text-violet-400"}))],2),a("div",null,[a("h3",bs,V(d.title),1),a("p",_s,V(d.description),1)])])),64))])])])])]),_:1})]),_:1})])):R("",!0)]),_:1}))}},ws={class:"space-y-1.5"},$s=["for"],Cs={class:"relative"},Ss=["id","value"],Vs={value:"all"},Is=["value"],Es=["value"],js={__name:"CategoryTreeSelectSimple",props:{modelValue:{type:[String,Number],default:"all"},categories:{type:Array,required:!0},label:{type:String,default:"Catégorie"},id:{type:String,default:"category-select"},allItemsLabel:{type:String,default:"Toutes les catégories"}},emits:["update:modelValue"],setup(e){return(r,l)=>(f(),w("div",ws,[a("label",{for:e.id,class:"text-sm font-medium text-gray-700 dark:text-white"},V(e.label),9,$s),a("div",Cs,[a("select",{id:e.id,value:e.modelValue,onChange:l[0]||(l[0]=n=>r.$emit("update:modelValue",n.target.value)),class:"w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-gray-800"},[a("option",Vs,V(e.allItemsLabel),1),(f(!0),w(U,null,G(e.categories,n=>{var u;return f(),w(U,{key:n.id},[a("option",{value:n.id},V(n.name),9,Is),(u=n.children)!=null&&u.length?(f(!0),w(U,{key:0},G(n.children,i=>(f(),w("option",{key:i.id,value:i.id}," — "+V(i.name),9,Es))),128)):R("",!0)],64)}),128))],40,Ss)])]))}},qs={class:"flex items-center border rounded-lg shadow-md bg-background"},Ts={class:"pl-3 text-muted-foreground"},zs=["onKeydown"],Os={__name:"SearchInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","search:submit"],setup(e,{emit:r}){const l=e,n=r,u=I(null),i=L({get(){return l.modelValue},set(d){n("update:modelValue",d)}}),o=()=>{i.value="",te(()=>{var d;(d=u.value)==null||d.focus()})},s=()=>{n("search:submit",i.value)};return(d,h)=>(f(),w("div",qs,[a("span",Ts,[c(t(Ie),{class:"h-5 w-5"})]),Pe(a("input",{ref_key:"inputRef",ref:u,"onUpdate:modelValue":h[0]||(h[0]=x=>i.value=x),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Que recherchez-vous ?",onKeydown:ce(ae(s,["prevent"]),["enter"]),autocomplete:"off"},null,40,zs),[[Me,i.value]]),i.value?(f(),w("button",{key:0,onMousedown:ae(o,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[c(t(le),{class:"h-4 w-4"})],32)):R("",!0)]))}},Fs={class:"relative w-full"},Bs={class:"flex items-center border rounded-lg shadow-md bg-background"},Ls={class:"pl-3 text-muted-foreground"},Rs={key:0,class:"py-6 text-center text-sm text-muted-foreground"},Ps={key:1,class:"py-6 text-center text-sm text-destructive"},Ms={key:2,class:"py-6 text-center text-sm text-muted-foreground"},As={key:3,class:"max-h-[300px] overflow-y-auto"},Ds=["onClick"],Ks={class:"flex flex-col"},Ns={class:"text-xs text-muted-foreground"},Us={__name:"CityInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","selected"],setup(e,{emit:r}){const l=e,n=r,u=I(l.modelValue),i=I([]),o=I(!1),s=I(!1),d=I(""),h=I(null),x=zt(async y=>{if(y.length<3){i.value=[],o.value=!1,d.value="";return}s.value=!0,o.value=!0,d.value="";try{const g=await we.get(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(y)}&type=municipality&limit=5`);if(!g.data.features||g.data.features.length===0){i.value=[];return}i.value=g.data.features.map($=>({id:$.properties.id,name:$.properties.city,postcode:$.properties.postcode,coordinates:{lat:$.geometry.coordinates[1],lng:$.geometry.coordinates[0]}}))}catch(g){console.error("Error fetching city suggestions:",g),i.value=[],g.value="Erreur lors de la recherche de villes. Veuillez réessayer."}finally{s.value=!1}},150);fe(u,y=>{n("update:modelValue",y),y.length>=3&&y!==h.value?x(y):(i.value=[],o.value=!1)});const k=y=>{h.value=y.name+" ("+y.postcode+")",u.value=h.value,d.value="";let g={name:y.name,lat:y.coordinates.lat,lng:y.coordinates.lng,postcode:y.postcode,departement:y.postcode.substring(0,2)};n("selected",g),o.value=!1},m=()=>{u.value="",i.value=[],o.value=!1,d.value="",h.value=null,n("update:modelValue",""),n("selected",null)};return(y,g)=>(f(),w("div",Fs,[c(t(He),{open:o.value,"onUpdate:open":g[1]||(g[1]=$=>o.value=$)},{default:v(()=>[c(t(Ne),{asChild:""},{default:v(()=>[a("div",Bs,[a("span",Ls,[c(t(Oe),{class:"h-5 w-5"})]),Pe(a("input",{"onUpdate:modelValue":g[0]||(g[0]=$=>u.value=$),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Ajouter une localisation"},null,512),[[Me,u.value]]),u.value?(f(),w("button",{key:0,onMousedown:ae(m,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[c(t(le),{class:"h-4 w-4"})],32)):R("",!0)])]),_:1}),c(t(Ue),{class:"w-full p-0",align:"start"},{default:v(()=>[s.value?(f(),w("div",Rs,g[2]||(g[2]=[a("div",{class:"flex items-center justify-center"},[a("div",{class:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),a("span",{class:"ml-2"},"Recherche en cours...")],-1)]))):d.value?(f(),w("div",Ps,V(d.value),1)):i.value.length===0?(f(),w("div",Ms," Aucun résultat trouvé ")):(f(),w("div",As,[(f(!0),w(U,null,G(i.value,$=>(f(),w("div",{key:$.id,class:"flex items-center gap-2 px-4 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground",onClick:S=>k($)},[c(t(Oe),{class:"h-4 w-4 text-muted-foreground"}),a("div",Ks,[a("span",null,V($.name),1),a("span",Ns,V($.postcode),1)])],8,Ds))),128))]))]),_:1})]),_:1},8,["open"])]))}},Hs=P({__name:"Command",props:{modelValue:{default:""},defaultValue:{},multiple:{type:Boolean},orientation:{},dir:{},disabled:{type:Boolean},selectionBehavior:{},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(e,{emit:r}){const l=e,n=r,u=ie(l,"class"),i=Ae(u,n),o=I(new Map),s=I(new Map),{contains:d}=Jt({sensitivity:"base"}),h=ut({search:"",filtered:{count:0,items:new Map,groups:new Set}});function x(){if(!h.search){h.filtered.count=o.value.size;return}h.filtered.groups=new Set;let k=0;for(const[m,y]of o.value){const g=d(y,h.search);h.filtered.items.set(m,g?1:0),g&&k++}for(const[m,y]of s.value)for(const g of y)if(h.filtered.items.get(g)>0){h.filtered.groups.add(m);break}h.filtered.count=k}return fe(()=>h.search,()=>{x()}),Ys({allItems:o,allGroups:s,filterState:h}),(k,m)=>(f(),T(t(ts),H({"data-slot":"command"},t(i),{class:t(oe)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",l.class)}),{default:v(()=>[N(k.$slots,"default")]),_:3},16,["class"]))}}),Gs=P({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(e){const r=e,l=ie(r,"class"),{filterState:n}=he(),u=L(()=>!!n.search&&n.filtered.count===0);return(i,o)=>u.value?(f(),T(t(X),H({key:0,"data-slot":"command-empty"},t(l),{class:t(oe)("py-6 text-center text-sm",r.class)}),{default:v(()=>[N(i.$slots,"default")]),_:3},16,["class"])):R("",!0)}}),Ws=P({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{},heading:{}},setup(e){const r=e,l=ie(r,"class"),{allGroups:n,filterState:u}=he(),i=ve(),o=L(()=>u.search?u.filtered.groups.has(i):!0);return ea({id:i}),pe(()=>{n.value.has(i)||n.value.set(i,new Set)}),Se(()=>{n.value.delete(i)}),(s,d)=>(f(),T(t(os),H(t(l),{id:t(i),"data-slot":"command-group",class:t(oe)("text-foreground overflow-hidden p-1",r.class),hidden:o.value?void 0:!0}),{default:v(()=>[s.heading?(f(),T(t(ds),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:v(()=>[q(V(s.heading),1)]),_:1})):R("",!0),N(s.$slots,"default")]),_:3},16,["id","class","hidden"]))}}),Qs={"data-slot":"command-input-wrapper",class:"flex h-12 items-center gap-2 border-b px-3"},Xs=P({inheritAttrs:!1,__name:"CommandInput",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(e){const r=e,l=ie(r,"class"),n=ht(l),{filterState:u}=he();return(i,o)=>(f(),w("div",Qs,[c(t(Ie),{class:"size-4 shrink-0 opacity-50"}),c(t(ns),H({...t(n),...i.$attrs},{modelValue:t(u).search,"onUpdate:modelValue":o[0]||(o[0]=s=>t(u).search=s),"data-slot":"command-input","auto-focus":"",class:t(oe)("placeholder:text-muted-foreground flex h-12 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",r.class)}),null,16,["modelValue","class"])]))}}),Js=P({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},emits:["select"],setup(e,{emit:r}){const l=e,n=r,u=ie(l,"class"),i=Ae(u,n),o=ve(),{filterState:s,allItems:d,allGroups:h}=he(),x=Zs(),k=L(()=>{if(s.search){const g=s.filtered.items.get(o);return g===void 0?!0:g>0}else return!0}),m=I(),y=Ft(m);return pe(()=>{var $,S;if(!(y.value instanceof HTMLElement))return;d.value.set(o,y.value.textContent??(($=l.value)==null?void 0:$.toString())??"");const g=x==null?void 0:x.id;g&&(h.value.has(g)?(S=h.value.get(g))==null||S.add(o):h.value.set(g,new Set([o])))}),Se(()=>{d.value.delete(o)}),(g,$)=>k.value?(f(),T(t(is),H({key:0},t(i),{id:t(o),ref_key:"itemRef",ref:m,"data-slot":"command-item",class:t(oe)("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-3 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",l.class),onSelect:$[0]||($[0]=()=>{t(s).search=""})}),{default:v(()=>[N(g.$slots,"default")]),_:3},16,["id","class"])):R("",!0)}}),[he,Ys]=ne("Command"),[Zs,ea]=ne("CommandGroup");var ta=typeof global=="object"&&global&&global.Object===Object&&global,sa=typeof self=="object"&&self&&self.Object===Object&&self,Qe=ta||sa||Function("return this")(),me=Qe.Symbol,Xe=Object.prototype,aa=Xe.hasOwnProperty,oa=Xe.toString,ee=me?me.toStringTag:void 0;function na(e){var r=aa.call(e,ee),l=e[ee];try{e[ee]=void 0;var n=!0}catch{}var u=oa.call(e);return n&&(r?e[ee]=l:delete e[ee]),u}var la=Object.prototype,ra=la.toString;function ia(e){return ra.call(e)}var da="[object Null]",ua="[object Undefined]",Fe=me?me.toStringTag:void 0;function ca(e){return e==null?e===void 0?ua:da:Fe&&Fe in Object(e)?na(e):ia(e)}function ma(e){return e!=null&&typeof e=="object"}var fa="[object Symbol]";function pa(e){return typeof e=="symbol"||ma(e)&&ca(e)==fa}var va=/\s/;function ha(e){for(var r=e.length;r--&&va.test(e.charAt(r)););return r}var ga=/^\s+/;function ya(e){return e&&e.slice(0,ha(e)+1).replace(ga,"")}function Ce(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Be=NaN,xa=/^[-+]0x[0-9a-f]+$/i,ba=/^0b[01]+$/i,_a=/^0o[0-7]+$/i,ka=parseInt;function Le(e){if(typeof e=="number")return e;if(pa(e))return Be;if(Ce(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Ce(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=ya(e);var l=ba.test(e);return l||_a.test(e)?ka(e.slice(2),l?2:8):xa.test(e)?Be:+e}var ke=function(){return Qe.Date.now()},wa="Expected a function",$a=Math.max,Ca=Math.min;function Sa(e,r,l){var n,u,i,o,s,d,h=0,x=!1,k=!1,m=!0;if(typeof e!="function")throw new TypeError(wa);r=Le(r)||0,Ce(l)&&(x=!!l.leading,k="maxWait"in l,i=k?$a(Le(l.maxWait)||0,r):i,m="trailing"in l?!!l.trailing:m);function y(z){var j=n,M=u;return n=u=void 0,h=z,o=e.apply(M,j),o}function g(z){return h=z,s=setTimeout(E,r),x?y(z):o}function $(z){var j=z-d,M=z-h,A=r-j;return k?Ca(A,i-M):A}function S(z){var j=z-d,M=z-h;return d===void 0||j>=r||j<0||k&&M>=i}function E(){var z=ke();if(S(z))return b(z);s=setTimeout(E,$(z))}function b(z){return s=void 0,m&&n?y(z):(n=u=void 0,o)}function B(){s!==void 0&&clearTimeout(s),h=0,n=d=u=s=void 0}function J(){return s===void 0?o:b(ke())}function O(){var z=ke(),j=S(z);if(n=arguments,u=this,d=z,j){if(s===void 0)return g(d);if(k)return clearTimeout(s),s=setTimeout(E,r),y(d)}return s===void 0&&(s=setTimeout(E,r)),o}return O.cancel=B,O.flush=J,O}const Va={class:"truncate"},Ia={class:"flex items-center justify-between border-b p-2"},Ea={class:"text-sm text-muted-foreground"},ja={key:0},qa={key:1},Ta={key:0,class:"mt-2 flex flex-wrap gap-1"},za=["onClick"],Oa={__name:"OrganizationFilter",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:r}){const l=e,n=r,u=I(!1),i=I(""),o=I([]),s=I([]),d=I(!1),h=L(()=>l.modelValue.map(S=>s.value.find(E=>E.id===S)).filter(Boolean)),x=async S=>{if(S.length===0)return;const E=S.filter(b=>!s.value.some(B=>B.id===b));if(E.length!==0)try{const b=await we.get(route("api.organizations.index",{"ids[]":E}));s.value.push(...b.data.data)}catch(b){console.error("Error fetching organizations by IDs:",b)}};pe(()=>{$(),x(l.modelValue)}),fe(()=>l.modelValue,S=>{x(S)},{deep:!0});const k=S=>l.modelValue.includes(S.id),m=(S,E)=>{E&&E.preventDefault();const b=[...l.modelValue],B=b.indexOf(S.id);B>-1?b.splice(B,1):b.push(S.id),n("update:modelValue",b)},y=S=>{m(S,null)},g=()=>{n("update:modelValue",[])},$=Sa(async()=>{d.value=!0;try{const S=await we.get(route("api.organizations.index",{search:i.value}));o.value=S.data.data,S.data.data.forEach(E=>{s.value.some(b=>b.id===E.id)||s.value.push(E)})}catch(S){console.error("Error searching organizations:",S)}finally{d.value=!1}},300);return(S,E)=>(f(),w("div",null,[c(t(He),{open:u.value,"onUpdate:open":E[1]||(E[1]=b=>u.value=b)},{default:v(()=>[c(t(Ne),{asChild:""},{default:v(()=>[c(t(W),{variant:"outline",role:"combobox","aria-expanded":u.value,class:"w-full justify-between"},{default:v(()=>[a("span",Va,V(h.value.length>0?h.value.map(b=>b.name).join(", "):"Sélectionner une ou plusieurs organisations"),1),c(t(Ht),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),c(t(Ue),{class:"w-[--radix-popover-trigger-width] p-0"},{default:v(()=>[c(t(Hs),{"filter-function":b=>b},{default:v(()=>[a("div",Ia,[a("p",Ea,V(h.value.length)+" sélectionnée(s) ",1),h.value.length>0?(f(),T(t(W),{key:0,variant:"ghost",size:"sm",onClick:g},{default:v(()=>E[2]||(E[2]=[q(" Effacer ")])),_:1,__:[2]})):R("",!0)]),c(t(Xs),{modelValue:i.value,"onUpdate:modelValue":[E[0]||(E[0]=b=>i.value=b),t($)],placeholder:"Rechercher une organisation..."},null,8,["modelValue","onUpdate:modelValue"]),c(t(Gs),null,{default:v(()=>[d.value?(f(),w("span",ja,"Chargement...")):(f(),w("span",qa,"Aucune organisation trouvée."))]),_:1}),c(t(Ws),null,{default:v(()=>[(f(!0),w(U,null,G(o.value,b=>(f(),T(t(Js),{key:b.id,value:b.name,onSelect:B=>m(b,B)},{default:v(()=>[c(t(Mt),{class:Q(["mr-2 h-4 w-4",k(b)?"opacity-100":"opacity-0"])},null,8,["class"]),q(" "+V(b.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1},8,["filter-function"])]),_:1})]),_:1},8,["open"]),h.value.length>0?(f(),w("div",Ta,[(f(!0),w(U,null,G(h.value,b=>(f(),T(t(Pt),{key:`selected-${b.id}`,variant:"secondary"},{default:v(()=>[q(V(b.name)+" ",1),a("button",{type:"button",class:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onClick:B=>y(b)},[c(t(le),{class:"h-3 w-3 text-muted-foreground hover:text-foreground"})],8,za)]),_:2},1024))),128))])):R("",!0)]))}},Fa={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ba={class:"relative rounded-xl shadow-xl border border-gray-200/60"},La={key:0,class:"px-6 pt-6 pb-4"},Ra={class:"px-6 pb-6"},Pa={class:"flex flex-col md:flex-row gap-4 p-4"},Ma={class:"flex-1"},Aa={class:"flex-1"},Da={class:"flex items-end"},Ka={key:1,class:"h-5 w-5 mr-2"},Na={class:"px-6 pb-6"},Ua={class:""},Ha={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},Ga={class:"space-y-2"},Wa={class:"space-y-2"},Qa={class:"flex justify-end items-end"},Xa={__name:"SearchSection",props:{filters:{type:Object,default:()=>({})},stats:{type:Object,required:!0}},emits:["searching"],setup(e,{emit:r}){const n=Ve().props.auth.user,u=e,i=r,o=I(!1),s=ct({search:u.filters.search||"",radius:u.filters.radius||50,category:u.filters.category||"all",organizations:u.filters.organizations||[],coordinates:u.filters.coordinates||null,city:u.filters.city||null,postcode:u.filters.postcode||null}),d=()=>{s.isDirty&&(o.value=!0,i("searching",o.value),s.get(route("home"),{only:["filters","equipments"],preserveScroll:!0,preserveState:!0,onFinish:()=>{o.value=!1,i("searching",o.value)}}))},h=()=>{s.reset({search:"",radius:50,category:"all",organizations:[],coordinates:null,city:null,postcode:null}),d()},x=k=>{s.city=k.name,s.postcode=k.postcode,s.coordinates={lat:k.lat,lng:k.lng},s.radius=s.radius||5,d()};return(k,m)=>(f(),w("div",{class:Q({"relative mt-8":t(n)})},[a("div",Fa,[a("div",Ba,[t(n)?R("",!0):(f(),w("div",La,m[5]||(m[5]=[a("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Trouvez le matériel dont vous avez besoin",-1),a("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Recherchez parmi des milliers d'équipements disponibles près de chez vous.",-1)]))),a("div",Ra,[a("div",Pa,[a("div",Ma,[c(t(ue),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:v(()=>m[6]||(m[6]=[q("Dans quel secteur ?")])),_:1,__:[6]}),c(Us,{modelValue:t(s).city,"onUpdate:modelValue":m[0]||(m[0]=y=>t(s).city=y),onSelected:x,placeholder:"Entrez une ville ou un code postal"},null,8,["modelValue"])]),a("div",Aa,[c(t(ue),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:v(()=>m[7]||(m[7]=[q("Que recherchez-vous ?")])),_:1,__:[7]}),c(Os,{modelValue:t(s).search,"onUpdate:modelValue":m[1]||(m[1]=y=>t(s).search=y),placeholder:"Ex: Vidéoprojecteur, Enceinte, Table...","onSearch:submit":d},null,8,["modelValue"])]),a("div",Da,[c(t(W),{type:"submit",size:"lg",disabled:o.value,class:"w-full md:w-auto min-w-[140px] bg-primary hover:bg-primary/90 shadow-sm dark:bg-primary dark:hover:bg-primary/90",onClick:d},{default:v(()=>[o.value?(f(),w("span",Ka,m[8]||(m[8]=[a("span",{class:"animate-spin inline-block h-5 w-5 border-[3px] border-current border-t-transparent rounded-full"},null,-1)]))):(f(),T(t(Ie),{key:0,class:"h-5 w-5 mr-2"})),q(" "+V(o.value?"Recherche...":"Rechercher"),1)]),_:1},8,["disabled"])])])]),a("div",Na,[a("div",Ua,[a("div",Ha,[c(js,{modelValue:t(s).category,"onUpdate:modelValue":[m[2]||(m[2]=y=>t(s).category=y),d],categories:e.stats.categories},null,8,["modelValue","categories"]),a("div",Ga,[c(t(ue),{for:"radius",class:"flex items-center gap-2"},{default:v(()=>[m[10]||(m[10]=q(" Rayon de recherche ")),c(t(qt),null,{default:v(()=>[c(t(It),null,{default:v(()=>[c(t(Et),null,{default:v(()=>[c(t(At),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),c(t(jt),null,{default:v(()=>m[9]||(m[9]=[a("p",null,"Distance maximale de recherche",-1)])),_:1,__:[9]})]),_:1})]),_:1})]),_:1,__:[10]}),c(t($t),{modelValue:t(s).radius,"onUpdate:modelValue":m[3]||(m[3]=y=>t(s).radius=y)},{default:v(()=>[c(t(_t),{id:"radius",class:"w-full bg-white dark:bg-gray-800"},{default:v(()=>[c(t(kt),{placeholder:"Sélectionner un rayon"})]),_:1}),c(t(wt),null,{default:v(()=>[c(t(Z),{value:"5"},{default:v(()=>m[11]||(m[11]=[q("5 km")])),_:1,__:[11]}),c(t(Z),{value:"10"},{default:v(()=>m[12]||(m[12]=[q("10 km")])),_:1,__:[12]}),c(t(Z),{value:"25"},{default:v(()=>m[13]||(m[13]=[q("25 km")])),_:1,__:[13]}),c(t(Z),{value:"50"},{default:v(()=>m[14]||(m[14]=[q("50 km")])),_:1,__:[14]}),c(t(Z),{value:"100"},{default:v(()=>m[15]||(m[15]=[q("100 km")])),_:1,__:[15]})]),_:1})]),_:1},8,["modelValue"])]),a("div",Wa,[c(t(ue),{class:"flex items-center gap-2"},{default:v(()=>m[16]||(m[16]=[q(" Filtrer par organisation ")])),_:1,__:[16]}),c(Oa,{modelValue:t(s).organizations,"onUpdate:modelValue":[m[4]||(m[4]=y=>t(s).organizations=y),d]},null,8,["modelValue"])]),a("div",Qa,[c(t(W),{variant:"outline",size:"sm",onClick:h,class:"text-sm hover:text-destructive hover:border-destructive dark:hover:text-destructive dark:hover:border-destructive"},{default:v(()=>[c(t(le),{class:"h-4 w-4 mr-1.5"}),m[17]||(m[17]=q(" Réinitialiser les filtres "))]),_:1,__:[17]})])])])])])])],2))}},Ja=["src","alt"],Ya={key:1,class:"flex h-full w-full items-center justify-center bg-accent/10 text-muted-foreground/30"},Za={class:"flex flex-grow flex-col p-4"},eo={class:"flex-grow"},to={class:"line-clamp-1 font-semibold text-foreground transition-colors duration-200 group-hover:text-primary"},so={class:"text-sm"},ao={class:"font-semibold text-foreground"},oo={class:"mt-2 space-y-2 text-xs text-muted-foreground"},no={class:"truncate"},lo={class:"mt-2 flex items-center text-xs text-muted-foreground"},ro={class:"truncate"},io={__name:"EquipmentCard",props:{equipment:{type:Object,required:!0}},setup(e){const r=e,l=I(!1),n=L(()=>r.equipment.images&&r.equipment.images.length>0),u=()=>{l.value=!0},i=o=>o==null?"":new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(o);return(o,s)=>(f(),T(t(Re),{href:o.route("equipments.show",e.equipment),class:"group relative flex flex-col overflow-hidden rounded-xl border border-border/50 bg-card shadow-sm transition-all duration-200 hover:shadow-lg"},{default:v(()=>{var d,h,x;return[a("div",{class:Q(["relative block aspect-[4/3] overflow-hidden",{shimmer:n.value&&!l.value}])},[n.value?(f(),w("img",{key:0,src:e.equipment.images[0].url,alt:e.equipment.name,loading:"lazy",class:Q(["h-full w-full object-cover transition-all duration-300 group-hover:scale-105",{"opacity-0":!l.value}]),onLoad:u},null,42,Ja)):(f(),w("div",Ya,[c(t(Kt),{class:"h-12 w-12"})]))],2),a("div",Za,[a("div",eo,[a("h3",to,V(e.equipment.name),1),a("div",so,[a("span",ao,V(i(e.equipment.rental_price)),1),s[0]||(s[0]=a("span",{class:"text-sm text-muted-foreground"}," / jour",-1))]),a("div",oo,[a("span",no,V(((d=e.equipment.organization)==null?void 0:d.name)||"Particulier")+" - "+V(((h=e.equipment.depot)==null?void 0:h.city)||"Non localisé"),1)]),a("div",lo,[c(t(Xt),{class:"mr-2 h-4 w-4"}),a("span",ro,V(((x=e.equipment.category)==null?void 0:x.name)||"Sans catégorie"),1)])])])]}),_:1},8,["href"]))}},uo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},co={key:0,class:"min-h-[400px] flex flex-col items-center justify-center"},mo={key:1,class:"min-h-[400px] flex flex-col items-center justify-center text-center"},fo={class:"w-24 h-24 text-muted-foreground mb-6"},po={class:"text-xl font-medium text-foreground"},vo={class:"mt-2 text-base text-muted-foreground max-w-md"},ho={key:0,class:"mt-6"},go={key:2},yo={class:"mb-6 flex items-center justify-between"},xo={class:"text-lg font-medium text-foreground"},bo={class:"text-sm text-muted-foreground"},_o={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},ko={class:"mt-12"},wo={__name:"ResultsSection",props:{equipments:{type:Object,required:!0},startDate:{type:String,default:""},endDate:{type:String,default:""},isSearching:{type:Boolean,default:!1}},setup(e){const r=e,l=L(()=>r.equipments.data.length>0),n=L(()=>r.startDate||r.endDate);return(u,i)=>(f(),w("div",uo,[e.isSearching?(f(),w("div",co,i[1]||(i[1]=[a("div",{class:"w-16 h-16 mb-4"},[a("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})],-1),a("h3",{class:"text-lg font-medium text-foreground"},"Recherche en cours...",-1),a("p",{class:"mt-2 text-sm text-muted-foreground"}," Nous recherchons les meilleurs équipements pour vous ",-1)]))):l.value?(f(),w("div",go,[a("div",yo,[a("h2",xo,V(e.equipments.total)+" équipement"+V(e.equipments.total>1?"s":"")+" trouvé"+V(e.equipments.total>1?"s":""),1),a("p",bo," Page "+V(e.equipments.current_page)+" sur "+V(e.equipments.last_page),1)]),a("div",_o,[(f(!0),w(U,null,G(e.equipments.data,o=>(f(),T(io,{key:o.id,equipment:o,"start-date":e.startDate,"end-date":e.endDate,class:"transition-all duration-300 ease-in-out"},null,8,["equipment","start-date","end-date"]))),128))]),a("div",ko,[c(Dt,{links:e.equipments.links},null,8,["links"])])])):(f(),w("div",mo,[a("div",fo,[n.value?(f(),T(t(Qt),{key:0,class:"w-full h-full"})):(f(),T(t(Wt),{key:1,class:"w-full h-full"}))]),a("h3",po,V(n.value?"Aucun équipement trouvé":"Commencez votre recherche"),1),a("p",vo,V(n.value?"Essayez de modifier vos critères de recherche pour trouver plus de résultats.":"Utilisez la barre de recherche ci-dessus pour trouver l'équipement dont vous avez besoin."),1),n.value?(f(),w("div",ho,[c(t(W),{variant:"outline",onClick:i[0]||(i[0]=o=>u.$emit("reset-filters"))},{default:v(()=>i[2]||(i[2]=[q(" Réinitialiser les filtres ")])),_:1,__:[2]})])):R("",!0)]))]))}},$o={class:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 my-2"},Co={key:0,class:"relative"},dn={__name:"Home",props:{equipments:{type:Object,required:!0},filters:{type:Object,default:()=>({})},stats:{type:Object,default:()=>({min_price:0,max_price:1e3,categories:[]})}},setup(e){const r=I(!1),l=Ve(),n=l.props.name,u=l.props.auth.user;return(i,o)=>(f(),T(mt,{title:"Location et prêt de matériel événementiel",description:`${t(n)} facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements.`},{default:v(()=>[a("div",$o,[c(t(Nt),{class:"bg-yellow-500/10 border-yellow-500 text-yellow-800"},{default:v(()=>[c(t(Tt),{class:"size-4"}),c(t(Ut),null,{default:v(()=>[q(V(t(n))+" est actuellement en version beta - En cas de problème, n'hésitez pas à nous contacter sur ",1),o[1]||(o[1]=a("a",{href:"mailto:contact@assocation.fr",class:"underline hover:text-primary"},"contact@assocation.fr",-1)),o[2]||(o[2]=q(". "))]),_:1,__:[1,2]})]),_:1})]),t(u)?R("",!0):(f(),w("section",Co,[c(ks)])),a("section",null,[c(Xa,{filters:e.filters,stats:e.stats,onSearching:o[0]||(o[0]=s=>r.value=s)},null,8,["filters","stats"])]),a("section",{class:Q(["relative py-12 bg-gradient-to-b from-background via-background/50 to-background",{"mt-8":e.equipments.data.length>0}])},[c(wo,{equipments:e.equipments,"start-date":e.filters.start_date,"end-date":e.filters.end_date,isSearching:r.value},null,8,["equipments","start-date","end-date","isSearching"])],2)]),_:1},8,["description"]))}};export{dn as default};
