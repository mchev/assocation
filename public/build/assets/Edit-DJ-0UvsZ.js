import{u as w,c as y,o as m,w as o,a as i,b as s,d as e,l as x,e as d,f as U,g as p,h as u,n as f,t as _,F as E,r as N}from"./app-BYBpYXXc.js";import{_ as B}from"./AdminLayout-BLCdGHUG.js";import{_ as h,a as D}from"./CardContent.vue_vue_type_script_setup_true_lang-C0yh-7SO.js";import{_ as L}from"./CardDescription.vue_vue_type_script_setup_true_lang-ClP-Pyuj.js";import{_ as j,a as A}from"./CardTitle.vue_vue_type_script_setup_true_lang-PFwk2AhE.js";import{_ as g}from"./index-D8Kwwrsm.js";import{_ as b}from"./Input.vue_vue_type_script_setup_true_lang-BudlBpqL.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-DkiSUhnn.js";import{_ as F}from"./Textarea.vue_vue_type_script_setup_true_lang-4Lrz4YCl.js";import{_ as O,a as S,b as q,c as P,d as V}from"./SelectValue.vue_vue_type_script_setup_true_lang-CTlmDD2d.js";import{A as T}from"./arrow-left-LkeKlzmd.js";import{L as z}from"./loader-circle-CXEBVQ--.js";import"./useForwardExpose-C_9AdpuD.js";import"./UserDropdown-B0_B6Z2W.js";import"./createLucideIcon-BPhbyT7J.js";import"./Teleport-nsFEvGTL.js";import"./DialogPortal-Ccwc0yv-.js";import"./DialogDescription-Bg8NyKoy.js";import"./DialogTitle-DyyjDVR0.js";import"./shield-D6FtOWx1.js";import"./users-X_r0G8GA.js";import"./useNonce-CAp0vwUU.js";import"./chevron-down-BSrtHEMY.js";import"./check-Dono6wyA.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./useFormControl-BBew3k2S.js";const I={class:"space-y-6"},M={class:"flex items-center justify-between"},G={class:"grid gap-6 md:grid-cols-2"},H={class:"space-y-2"},J={key:0,class:"text-sm text-destructive"},K={class:"space-y-2"},Q={key:0,class:"text-sm text-destructive"},R={class:"space-y-2"},W={key:0,class:"text-sm text-destructive"},X={class:"space-y-2"},Y={key:0,class:"text-sm text-destructive"},Z={class:"flex justify-end space-x-2"},Ee={__name:"Edit",props:{category:{type:Object,required:!0},categories:{type:Array,required:!0}},setup($){const l=$,k=l.categories.filter(n=>n.id!==l.category.id&&!v(n,l.category));function v(n,t){return n.children?n.children.some(a=>a.id===t.id||v(a,t)):!1}const r=w({name:l.category.name,description:l.category.description||"",parent_id:l.category.parent_id||null,order:l.category.order||""}),C=()=>{r.put(route("admin.categories.update",l.category.id))};return(n,t)=>(m(),y(B,null,{default:o(()=>[i("div",I,[i("div",M,[t[5]||(t[5]=i("div",null,[i("h1",{class:"text-3xl font-bold tracking-tight"},"Edit Category"),i("p",{class:"text-muted-foreground"}," Update category information and settings ")],-1)),s(e(g),{variant:"outline","as-child":""},{default:o(()=>[s(e(x),{href:n.route("admin.categories.index")},{default:o(()=>[s(e(T),{class:"h-4 w-4 mr-2"}),t[4]||(t[4]=d(" Back to Categories ",-1))]),_:1,__:[4]},8,["href"])]),_:1})]),s(e(h),null,{default:o(()=>[s(e(j),null,{default:o(()=>[s(e(A),null,{default:o(()=>t[6]||(t[6]=[d("Category Information",-1)])),_:1,__:[6]}),s(e(L),null,{default:o(()=>t[7]||(t[7]=[d(" Update the category's details and hierarchy ",-1)])),_:1,__:[7]})]),_:1}),s(e(D),null,{default:o(()=>[i("form",{onSubmit:U(C,["prevent"]),class:"space-y-6"},[i("div",G,[i("div",H,[s(e(c),{for:"name"},{default:o(()=>t[8]||(t[8]=[d("Name",-1)])),_:1,__:[8]}),s(e(b),{id:"name",modelValue:e(r).name,"onUpdate:modelValue":t[0]||(t[0]=a=>e(r).name=a),type:"text",placeholder:"Enter category name",class:f({"border-destructive":e(r).errors.name})},null,8,["modelValue","class"]),e(r).errors.name?(m(),p("p",J,_(e(r).errors.name),1)):u("",!0)]),i("div",K,[s(e(c),{for:"parent_id"},{default:o(()=>t[9]||(t[9]=[d("Parent Category (Optional)",-1)])),_:1,__:[9]}),s(e(O),{modelValue:e(r).parent_id,"onUpdate:modelValue":t[1]||(t[1]=a=>e(r).parent_id=a)},{default:o(()=>[s(e(S),{class:f({"border-destructive":e(r).errors.parent_id})},{default:o(()=>[s(e(q),{placeholder:"Select parent category"})]),_:1},8,["class"]),s(e(P),null,{default:o(()=>[s(e(V),{value:null},{default:o(()=>t[10]||(t[10]=[d("No parent (Top level)",-1)])),_:1,__:[10]}),(m(!0),p(E,null,N(e(k),a=>(m(),y(e(V),{key:a.id,value:a.id},{default:o(()=>[d(_(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.parent_id?(m(),p("p",Q,_(e(r).errors.parent_id),1)):u("",!0)])]),i("div",R,[s(e(c),{for:"description"},{default:o(()=>t[11]||(t[11]=[d("Description",-1)])),_:1,__:[11]}),s(e(F),{id:"description",modelValue:e(r).description,"onUpdate:modelValue":t[2]||(t[2]=a=>e(r).description=a),placeholder:"Enter category description",class:f({"border-destructive":e(r).errors.description}),rows:"3"},null,8,["modelValue","class"]),e(r).errors.description?(m(),p("p",W,_(e(r).errors.description),1)):u("",!0)]),i("div",X,[s(e(c),{for:"order"},{default:o(()=>t[12]||(t[12]=[d("Display Order",-1)])),_:1,__:[12]}),s(e(b),{id:"order",modelValue:e(r).order,"onUpdate:modelValue":t[3]||(t[3]=a=>e(r).order=a),type:"number",placeholder:"Enter display order",class:f({"border-destructive":e(r).errors.order})},null,8,["modelValue","class"]),e(r).errors.order?(m(),p("p",Y,_(e(r).errors.order),1)):u("",!0)]),i("div",Z,[s(e(g),{type:"button",variant:"outline","as-child":""},{default:o(()=>[s(e(x),{href:n.route("admin.categories.index")},{default:o(()=>t[13]||(t[13]=[d(" Cancel ",-1)])),_:1,__:[13]},8,["href"])]),_:1}),s(e(g),{type:"submit",disabled:e(r).processing},{default:o(()=>[e(r).processing?(m(),y(e(z),{key:0,class:"h-4 w-4 mr-2 animate-spin"})):u("",!0),t[14]||(t[14]=d(" Update Category ",-1))]),_:1,__:[14]},8,["disabled"])])],32)]),_:1})]),_:1})])]),_:1}))}};export{Ee as default};
