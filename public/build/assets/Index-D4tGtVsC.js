import{q as L,H as P,u as R,c as d,o as n,w as s,a as l,b as a,d as t,f as G,e as i,g as x,F as h,r as B,t as m,h as F,G as y,l as H}from"./app-D7dSL1w4.js";import{_ as J}from"./AppLayout-Cp_1B-Pj.js";import{_ as $}from"./index-CZP5JF3M.js";import{_ as S,a as T}from"./CardContent.vue_vue_type_script_setup_true_lang-D7_ETdnV.js";import{_ as K}from"./Input.vue_vue_type_script_setup_true_lang-S_GVjTG1.js";import{_ as k}from"./Label.vue_vue_type_script_setup_true_lang-Cp9J_FWJ.js";import{_ as Q,a as W,b as U,c as b,d as X,e as w}from"./TableHeader.vue_vue_type_script_setup_true_lang-CcBmdyjn.js";import{_ as D,a as I,b as M,c as O,d as p}from"./SelectValue.vue_vue_type_script_setup_true_lang-Tgqih4yM.js";import{A as Y,a as Z,b as ee}from"./arrow-up-dekhFxRd.js";import"./FlashMessage-BNekDsSf.js";import"./UserDropdown-CB7bov14.js";import"./createLucideIcon-Co9ScIS8.js";import"./Teleport-or42nUYu.js";import"./useForwardExpose-JlCNW0UB.js";import"./index-BhX9dWpL.js";import"./package-CSrxIBmD.js";import"./loader-circle-DwamF6ij.js";import"./plus-BpI5NWN_.js";import"./useNonce-BJiax0YT.js";import"./chevron-down-DesYGwkP.js";import"./check-Tslf4hfG.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./nullish-CHIgUVhi.js";import"./useFormControl-D_fH5uNv.js";const te={class:"flex justify-between items-center"},se={class:"font-semibold text-xl leading-tight"},ae={class:"py-12"},le={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},oe={class:"flex flex-wrap items-end gap-6"},re={class:"flex gap-2 ml-auto"},ie={key:0,class:"text-center py-12"},ne={key:1},ue={class:"flex items-center space-x-2"},de={class:"flex items-center space-x-2"},me={class:"flex items-center space-x-2"},fe={class:"flex items-center space-x-2"},pe={class:"text-sm text-muted-foreground truncate max-w-40 lg:max-w-96"},_e={class:"max-w-40 flex flex-col"},ce={class:"truncate font-medium"},ve={class:"text-xs text-muted-foreground"},Le={__name:"Index",props:{organization:{type:Object,required:!0},equipments:{type:Object,required:!0},filters:{type:Object,required:!0},allCategories:{type:Array,required:!0}},setup(f){var C,V,z,A,j,N;const _=f,q=L(()=>P().props.auth.user.can),r=R({search:((C=_.filters)==null?void 0:C.search)??"",category:((V=_.filters)==null?void 0:V.category)??null,condition:((z=_.filters)==null?void 0:z.condition)??null,availability:((A=_.filters)==null?void 0:A.availability)??null,sort:((j=_.filters)==null?void 0:j.sort)??"name",direction:((N=_.filters)==null?void 0:N.direction)??"asc"}),c=()=>{r.get(route("app.organizations.equipments.index"),{preserveState:!0,preserveScroll:!0})},E=()=>{r.search="",r.category=null,r.condition=null,r.availability=null,r.sort="name",r.direction="asc",c()},v=u=>{r.sort===u?r.direction=r.direction==="asc"?"desc":"asc":(r.sort=u,r.direction="asc"),c()},g=u=>r.sort!==u?Y:r.direction==="asc"?Z:ee;return(u,e)=>(n(),d(J,{title:"Matériel",description:"Liste du matériel de l'organisation"},{header:s(()=>[l("div",te,[l("h2",se," Inventaire du matériel de "+m(f.organization.name)+" ("+m(f.equipments.total)+") ",1),q.value.equipments.create?(n(),d(t($),{key:0,asChild:""},{default:s(()=>[a(t(H),{href:u.route("app.organizations.equipments.create")},{default:s(()=>e[7]||(e[7]=[i(" Ajouter du matériel ",-1)])),_:1,__:[7]},8,["href"])]),_:1})):F("",!0)])]),default:s(()=>[l("div",ae,[l("div",le,[a(t(S),{class:"mb-6"},{default:s(()=>[a(t(T),{class:"p-4"},{default:s(()=>[l("form",{onSubmit:G(c,["prevent"])},[l("div",oe,[l("div",null,[a(t(k),{for:"search",class:"text-sm"},{default:s(()=>e[8]||(e[8]=[i("Rechercher",-1)])),_:1,__:[8]}),a(t(K),{id:"search",modelValue:t(r).search,"onUpdate:modelValue":e[0]||(e[0]=o=>t(r).search=o),type:"text",placeholder:"Nom, catégorie...",onInput:c},null,8,["modelValue"])]),l("div",null,[a(t(k),{for:"category",class:"text-sm"},{default:s(()=>e[9]||(e[9]=[i("Catégorie",-1)])),_:1,__:[9]}),a(t(D),{modelValue:t(r).category,"onUpdate:modelValue":[e[1]||(e[1]=o=>t(r).category=o),c]},{default:s(()=>[a(t(I),{class:"h-9"},{default:s(()=>[a(t(M),{placeholder:"Toutes"})]),_:1}),a(t(O),null,{default:s(()=>[a(t(p),{value:null},{default:s(()=>e[10]||(e[10]=[i("Toutes les catégories",-1)])),_:1,__:[10]}),(n(!0),x(h,null,B(f.allCategories,o=>(n(),d(t(p),{key:o.id,value:o.name},{default:s(()=>[i(m(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),l("div",null,[a(t(k),{for:"condition",class:"text-sm"},{default:s(()=>e[11]||(e[11]=[i("État",-1)])),_:1,__:[11]}),a(t(D),{modelValue:t(r).condition,"onUpdate:modelValue":[e[2]||(e[2]=o=>t(r).condition=o),c]},{default:s(()=>[a(t(I),{class:"h-9"},{default:s(()=>[a(t(M),{placeholder:"Tous"})]),_:1}),a(t(O),null,{default:s(()=>[a(t(p),{value:null},{default:s(()=>e[12]||(e[12]=[i("Tous les états",-1)])),_:1,__:[12]}),a(t(p),{value:"new"},{default:s(()=>e[13]||(e[13]=[i("Neuf",-1)])),_:1,__:[13]}),a(t(p),{value:"good"},{default:s(()=>e[14]||(e[14]=[i("Bon",-1)])),_:1,__:[14]}),a(t(p),{value:"fair"},{default:s(()=>e[15]||(e[15]=[i("Moyen",-1)])),_:1,__:[15]}),a(t(p),{value:"poor"},{default:s(()=>e[16]||(e[16]=[i("Mauvais",-1)])),_:1,__:[16]})]),_:1})]),_:1},8,["modelValue"])]),l("div",re,[a(t($),{type:"button",variant:"outline",onClick:E,size:"sm",class:"h-9"},{default:s(()=>e[17]||(e[17]=[i(" Réinitialiser ",-1)])),_:1,__:[17]}),a(t($),{type:"submit",variant:"default",size:"sm",class:"h-9"},{default:s(()=>e[18]||(e[18]=[i(" Filtrer ",-1)])),_:1,__:[18]})])])],32)]),_:1})]),_:1}),a(t(S),null,{default:s(()=>[a(t(T),{class:"p-6"},{default:s(()=>[f.equipments.data.length===0?(n(),x("div",ie,[e[20]||(e[20]=l("p",{class:"text-muted-foreground text-lg"}," Aucun matériel trouvé ",-1)),q.value.equipments.create?(n(),d(t($),{key:0,as:"a",href:u.route("app.organizations.equipments.create",f.organization),variant:"default",class:"mt-4"},{default:s(()=>e[19]||(e[19]=[i(" Ajouter du matériel ",-1)])),_:1,__:[19]},8,["href"])):F("",!0)])):(n(),x("div",ne,[a(t(Q),null,{default:s(()=>[a(t(W),null,{default:s(()=>[a(t(U),null,{default:s(()=>[a(t(b),{class:"cursor-pointer hover:bg-muted/50",onClick:e[3]||(e[3]=o=>v("name"))},{default:s(()=>[l("div",ue,[e[21]||(e[21]=l("span",null,"Nom",-1)),(n(),d(y(g("name")),{class:"w-4 h-4"}))])]),_:1}),a(t(b),{class:"cursor-pointer hover:bg-muted/50",onClick:e[4]||(e[4]=o=>v("category"))},{default:s(()=>[l("div",de,[e[22]||(e[22]=l("span",null,"Catégorie",-1)),(n(),d(y(g("category")),{class:"w-4 h-4"}))])]),_:1}),a(t(b),{class:"cursor-pointer hover:bg-muted/50",onClick:e[5]||(e[5]=o=>v("depot"))},{default:s(()=>[l("div",me,[e[23]||(e[23]=l("span",null,"Emplacement",-1)),(n(),d(y(g("depot")),{class:"w-4 h-4"}))])]),_:1}),a(t(b),{class:"cursor-pointer hover:bg-muted/50",onClick:e[6]||(e[6]=o=>v("rental_price"))},{default:s(()=>[l("div",fe,[e[24]||(e[24]=l("span",null,"Prix/jour",-1)),(n(),d(y(g("rental_price")),{class:"w-4 h-4"}))])]),_:1})]),_:1})]),_:1}),a(t(X),null,{default:s(()=>[(n(!0),x(h,null,B(f.equipments.data,o=>(n(),d(t(U),{key:o.id,class:"group cursor-pointer hover:bg-muted/50",onClick:ge=>u.$inertia.visit(u.route("app.organizations.equipments.edit",o))},{default:s(()=>[a(t(w),{class:"font-medium"},{default:s(()=>[l("div",null,[i(m(o.name)+" ",1),l("p",pe,m(o.description),1)])]),_:2},1024),a(t(w),null,{default:s(()=>[i(m(o.category.name),1)]),_:2},1024),a(t(w),null,{default:s(()=>[l("div",_e,[l("span",ce,m(o.depot.name),1),l("span",ve,m(o.depot.city),1)])]),_:2},1024),a(t(w),null,{default:s(()=>[i(m(o.rental_price)+"€",1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]))]),_:1})]),_:1})])])]),_:1}))}};export{Le as default};
