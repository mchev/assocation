import{c as k,b as E,P as T,u as N,d as q}from"./useForwardPropsEmits-DKwqN2S7.js";import{l as y,h as m,q as F,c as f,o as v,w as u,j as c,u as a,I as K,i as x,s as z,H as L,m as G,b as O,z as $,g as J,a as Q,n as U}from"./app-BFSL2k6H.js";import{P as w,c as R}from"./index-B-nLvGSS.js";import{b as H,u as _,c as W,r as S}from"./useForwardExpose-Cwt-w9s2.js";import{i as X}from"./isValueEqualOrExist-B5JO9E3o.js";import{i as P}from"./ohash.D__AXeF1-DHF4M4F_.js";import{u as Y,j as Z}from"./UserDropdown-C2raYIS7.js";import{C as ee}from"./chevron-down-CpnIEkbM.js";function ae({type:s,defaultValue:o,modelValue:t}){const e=t||o;return t!==void 0||o!==void 0?Array.isArray(e)?"multiple":"single":s??"single"}function te({type:s,defaultValue:o,modelValue:t}){return s||ae({type:s,defaultValue:o,modelValue:t})}function oe({type:s,defaultValue:o}){return o!==void 0?o:s==="single"?void 0:[]}function ne(s,o){const t=y(()=>te(s)),e=H(s,"modelValue",o,{defaultValue:oe(s),passive:s.modelValue===void 0,deep:!0});function n(i){if(t.value==="single")e.value=P(i,e.value)?void 0:i;else{const r=Array.isArray(e.value)?[...e.value||[]]:[e.value].filter(Boolean);if(X(r,i)){const p=r.findIndex(b=>P(b,i));r.splice(p,1)}else r.push(i);e.value=r}}const l=y(()=>t.value==="single");return{modelValue:e,changeModelValue:n,isSingle:l}}const[V,se]=k("AccordionRoot"),le=m({__name:"AccordionRoot",props:{collapsible:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dir:{},orientation:{default:"vertical"},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(s,{emit:o}){const t=s,e=o,{dir:n,disabled:l,unmountOnHide:i}=F(t),r=Y(n),{modelValue:p,changeModelValue:b,isSingle:C}=ne(t,e),{forwardRef:h,currentElement:g}=_();return se({disabled:l,direction:r,orientation:t.orientation,parentElement:g,isSingle:C,collapsible:t.collapsible,modelValue:p,changeModelValue:b,unmountOnHide:i}),(B,d)=>(v(),f(a(w),{ref:a(h),"as-child":B.asChild,as:B.as},{default:u(()=>[c(B.$slots,"default",{modelValue:a(p)})]),_:3},8,["as-child","as"]))}}),[j,ie]=k("CollapsibleRoot"),de=m({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},disabled:{type:Boolean},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(s,{expose:o,emit:t}){const e=s,l=H(e,"open",t,{defaultValue:e.defaultOpen,passive:e.open===void 0}),{disabled:i,unmountOnHide:r}=F(e);return ie({contentId:"",disabled:i,open:l,unmountOnHide:r,onOpenToggle:()=>{i.value||(l.value=!l.value)}}),o({open:l}),_(),(p,b)=>(v(),f(a(w),{as:p.as,"as-child":e.asChild,"data-state":a(l)?"open":"closed","data-disabled":a(i)?"":void 0},{default:u(()=>[c(p.$slots,"default",{open:a(l)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),[D,re]=k("AccordionItem"),ue=m({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},setup(s,{expose:o}){const t=s,e=V(),n=y(()=>e.isSingle.value?t.value===e.modelValue.value:Array.isArray(e.modelValue.value)&&e.modelValue.value.includes(t.value)),l=y(()=>e.disabled.value||t.disabled),i=y(()=>l.value?"":void 0),r=y(()=>n.value?"open":"closed");o({open:n,dataDisabled:i});const{currentRef:p,currentElement:b}=_();re({open:n,dataState:r,disabled:l,dataDisabled:i,triggerId:"",currentRef:p,currentElement:b,value:y(()=>t.value)});function C(h){var A;const g=h.target;if(Array.from(((A=e.parentElement.value)==null?void 0:A.querySelectorAll("[data-reka-collection-item]"))??[]).findIndex(I=>I===g)===-1)return null;Z(h,b.value,e.parentElement.value,{arrowKeyOptions:e.orientation,dir:e.direction.value,focus:!0})}return(h,g)=>(v(),f(a(de),{"data-orientation":a(e).orientation,"data-disabled":i.value,"data-state":r.value,disabled:l.value,open:n.value,as:t.as,"as-child":t.asChild,"unmount-on-hide":a(e).unmountOnHide.value,onKeydown:K(C,["up","down","left","right","home","end"])},{default:u(()=>[c(h.$slots,"default",{open:n.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),ce=m({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["contentFound"],setup(s,{emit:o}){const t=s,e=o,n=j();n.contentId||(n.contentId=E(void 0,"reka-collapsible-content"));const l=x(),{forwardRef:i,currentElement:r}=_(),p=x(0),b=x(0),C=y(()=>n.open.value),h=x(C.value),g=x();z(()=>{var d;return[C.value,(d=l.value)==null?void 0:d.present]},async()=>{await L();const d=r.value;if(!d)return;g.value=g.value||{transitionDuration:d.style.transitionDuration,animationName:d.style.animationName},d.style.transitionDuration="0s",d.style.animationName="none";const A=d.getBoundingClientRect();b.value=A.height,p.value=A.width,h.value||(d.style.transitionDuration=g.value.transitionDuration,d.style.animationName=g.value.animationName)},{immediate:!0});const B=y(()=>h.value&&n.open.value);return G(()=>{requestAnimationFrame(()=>{h.value=!1})}),W(r,"beforematch",d=>{requestAnimationFrame(()=>{n.onOpenToggle(),e("contentFound")})}),(d,A)=>(v(),f(a(T),{ref_key:"presentRef",ref:l,present:d.forceMount||a(n).open.value,"force-mount":!0},{default:u(({present:I})=>{var M;return[O(a(w),$(d.$attrs,{id:a(n).contentId,ref:a(i),"as-child":t.asChild,as:d.as,hidden:I?void 0:a(n).unmountOnHide.value?"":"until-found","data-state":B.value?void 0:a(n).open.value?"open":"closed","data-disabled":(M=a(n).disabled)!=null&&M.value?"":void 0,style:{"--reka-collapsible-content-height":`${b.value}px`,"--reka-collapsible-content-width":`${p.value}px`}}),{default:u(()=>[!a(n).unmountOnHide.value||I?c(d.$slots,"default",{key:0}):J("",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]}),_:3},8,["present"]))}}),pe=m({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(s){const o=s,t=V(),e=D();return _(),(n,l)=>(v(),f(a(ce),{role:"region","as-child":o.asChild,as:n.as,"force-mount":o.forceMount,"aria-labelledby":a(e).triggerId,"data-state":a(e).dataState.value,"data-disabled":a(e).dataDisabled.value,"data-orientation":a(t).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:l[0]||(l[0]=i=>a(t).changeModelValue(a(e).value.value))},{default:u(()=>[c(n.$slots,"default")]),_:3},8,["as-child","as","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),me=m({__name:"AccordionHeader",props:{asChild:{type:Boolean},as:{default:"h3"}},setup(s){const o=s,t=V(),e=D();return _(),(n,l)=>(v(),f(a(w),{as:o.as,"as-child":o.asChild,"data-orientation":a(t).orientation,"data-state":a(e).dataState.value,"data-disabled":a(e).dataDisabled.value},{default:u(()=>[c(n.$slots,"default")]),_:3},8,["as","as-child","data-orientation","data-state","data-disabled"]))}}),fe=m({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(s){const o=s;_();const t=j();return(e,n)=>{var l,i;return v(),f(a(w),{type:e.as==="button"?"button":void 0,as:e.as,"as-child":o.asChild,"aria-controls":a(t).contentId,"aria-expanded":a(t).open.value,"data-state":a(t).open.value?"open":"closed","data-disabled":(l=a(t).disabled)!=null&&l.value?"":void 0,disabled:(i=a(t).disabled)==null?void 0:i.value,onClick:a(t).onOpenToggle},{default:u(()=>[c(e.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"])}}}),ve=m({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{}},setup(s){const o=s,t=V(),e=D();e.triggerId||(e.triggerId=E(void 0,"reka-accordion-trigger"));function n(){const l=t.isSingle.value&&e.open.value&&!t.collapsible;e.disabled.value||l||t.changeModelValue(e.value.value)}return(l,i)=>(v(),f(a(fe),{id:a(e).triggerId,ref:a(e).currentRef,"data-reka-collection-item":"",as:o.as,"as-child":o.asChild,"aria-disabled":a(e).disabled.value||void 0,"aria-expanded":a(e).open.value||!1,"data-disabled":a(e).dataDisabled.value,"data-orientation":a(t).orientation,"data-state":a(e).dataState.value,disabled:a(e).disabled.value,onClick:n},{default:u(()=>[c(l.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}}),xe=m({__name:"Accordion",props:{collapsible:{type:Boolean},disabled:{type:Boolean},dir:{},orientation:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},type:{},modelValue:{},defaultValue:{}},emits:["update:modelValue"],setup(s,{emit:o}){const n=N(s,o);return(l,i)=>(v(),f(a(le),$({"data-slot":"accordion"},a(n)),{default:u(()=>[c(l.$slots,"default")]),_:3},16))}}),$e=m({__name:"AccordionContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(s){const o=s,t=S(o,"class");return(e,n)=>(v(),f(a(pe),$({"data-slot":"accordion-content"},a(t),{class:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm"}),{default:u(()=>[Q("div",{class:U(a(R)("pt-0 pb-4",o.class))},[c(e.$slots,"default")],2)]),_:3},16))}}),we=m({__name:"AccordionItem",props:{disabled:{type:Boolean},value:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(s){const o=s,t=S(o,"class"),e=q(t);return(n,l)=>(v(),f(a(ue),$({"data-slot":"accordion-item"},a(e),{class:a(R)("border-b last:border-b-0",o.class)}),{default:u(()=>[c(n.$slots,"default")]),_:3},16,["class"]))}}),Ie=m({__name:"AccordionTrigger",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(s){const o=s,t=S(o,"class");return(e,n)=>(v(),f(a(me),{class:"flex"},{default:u(()=>[O(a(ve),$({"data-slot":"accordion-trigger"},a(t),{class:a(R)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",o.class)}),{default:u(()=>[c(e.$slots,"default"),c(e.$slots,"icon",{},()=>[O(a(ee),{class:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})])]),_:3},16,["class"])]),_:3}))}});export{xe as _,we as a,Ie as b,$e as c};
