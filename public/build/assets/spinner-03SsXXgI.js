import{c as j}from"./createLucideIcon-CzQ7dau1.js";import{P as k,c as $}from"./index-VY4--G5u.js";import{b as R,c as E,u as z}from"./useForwardPropsEmits-BkNfvR2B.js";import{h as f,c,o as l,w as d,j as h,z as y,u as e,q as G,l as S,g as I,I as N,e as P,n as L,b as v,i as B,s as K,m as T,f as b,t as V,F as x,r as M,d as q,K as A,a as D}from"./app-B84cEB41.js";import{b as H,u as F,r as O}from"./useForwardExpose-Cag_WGDy.js";import{u as U}from"./useFormControl-bsoQ8WLZ.js";import{_ as J}from"./VisuallyHiddenInput-BM-xq-Ny.js";import{a as Q,c as W,d as X,_ as Y}from"./SelectValue.vue_vue_type_script_setup_true_lang-B8c8mHzy.js";import{_ as Z}from"./FlashMessage-Clp_tCK7.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=j("ClipboardListIcon",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=j("EuroIcon",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),[ee,ae]=E("SelectGroup"),te=f({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{}},setup(r){const t=r,a=R(void 0,"reka-select-group");return ae({id:a}),(i,o)=>(l(),c(e(k),y({role:"group"},t,{"aria-labelledby":e(a)}),{default:d(()=>[h(i.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),se=f({__name:"SelectLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(r){const t=r,a=ee({id:""});return(i,o)=>(l(),c(e(k),y(t,{id:e(a).id}),{default:d(()=>[h(i.$slots,"default")]),_:3},16,["id"]))}}),[oe,le]=E("SwitchRoot"),re=f({__name:"SwitchRoot",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null],default:void 0},disabled:{type:Boolean},id:{},value:{default:"on"},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(r,{emit:t}){const a=r,i=t,{disabled:o}=G(a),u=H(a,"modelValue",i,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function p(){o.value||(u.value=!u.value)}const{forwardRef:m,currentElement:g}=F(),w=U(g),n=S(()=>{var s;return a.id&&g.value?(s=document.querySelector(`[for="${a.id}"]`))==null?void 0:s.innerText:void 0});return le({modelValue:u,toggleCheck:p,disabled:o}),(s,_)=>(l(),c(e(k),y(s.$attrs,{id:s.id,ref:e(m),role:"switch",type:s.as==="button"?"button":void 0,value:s.value,"aria-label":s.$attrs["aria-label"]||n.value,"aria-checked":e(u),"aria-required":s.required,"data-state":e(u)?"checked":"unchecked","data-disabled":e(o)?"":void 0,"as-child":s.asChild,as:s.as,disabled:e(o),onClick:p,onKeydown:N(P(p,["prevent"]),["enter"])}),{default:d(()=>[h(s.$slots,"default",{modelValue:e(u)}),e(w)&&s.name?(l(),c(e(J),{key:0,type:"checkbox",name:s.name,disabled:e(o),required:s.required,value:s.value,checked:!!e(u)},null,8,["name","disabled","required","value","checked"])):I("",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),ne=f({__name:"SwitchThumb",props:{asChild:{type:Boolean},as:{default:"span"}},setup(r){const t=oe();return F(),(a,i)=>{var o;return l(),c(e(k),{"data-state":(o=e(t).modelValue)!=null&&o.value?"checked":"unchecked","data-disabled":e(t).disabled.value?"":void 0,"as-child":a.asChild,as:a.as},{default:d(()=>[h(a.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"])}}}),de=f({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{}},setup(r){const t=r;return(a,i)=>(l(),c(e(te),y({"data-slot":"select-group"},t),{default:d(()=>[h(a.$slots,"default")]),_:3},16))}}),ie=f({__name:"SelectLabel",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(r){const t=r;return(a,i)=>(l(),c(e(se),{"data-slot":"select-label",class:L(e($)("px-2 py-1.5 text-sm font-medium",t.class))},{default:d(()=>[h(a.$slots,"default")]),_:3},8,["class"]))}}),Se=f({__name:"Switch",props:{defaultValue:{type:Boolean},modelValue:{type:[Boolean,null]},disabled:{type:Boolean},id:{},value:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(r,{emit:t}){const a=r,i=t,o=O(a,"class"),u=z(o,i);return(p,m)=>(l(),c(e(re),y({"data-slot":"switch"},e(u),{class:e($)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a.class)}),{default:d(()=>[v(e(ne),{"data-slot":"switch-thumb",class:L(e($)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"))},{default:d(()=>[h(p.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),ue={key:0},ce={key:1,class:"text-muted-foreground"},Be={__name:"CategorySelect",props:{modelValue:{type:[String,Number,null],default:null},required:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(r,{emit:t}){const a=r,i=t,o=B([]),u=S(()=>o.value.flatMap(n=>[n,...n.children||[]])),p=S(()=>u.value.find(n=>n.id===m.value)||null),m=B(a.modelValue);K(()=>a.modelValue,n=>{m.value=n}),T(async()=>{try{const n=await A.get("/api/categories");o.value=n.data}catch(n){console.error("Error fetching categories:",n)}});const w=n=>{i("update:modelValue",n)};return(n,s)=>(l(),b("div",null,[v(e(Y),{modelValue:m.value,"onUpdate:modelValue":[s[0]||(s[0]=_=>m.value=_),w]},{default:d(()=>[v(e(Q),null,{default:d(()=>[p.value?(l(),b("span",ue,V(p.value.name),1)):(l(),b("span",ce,"Sélectionner une catégorie"))]),_:1}),v(e(W),{class:"w-full max-h-72 overflow-y-auto"},{default:d(()=>[(l(!0),b(x,null,M(o.value,_=>(l(),c(e(de),{key:_.id},{default:d(()=>[v(e(ie),{class:"uppercase font-bold"},{default:d(()=>[q(V(_.name),1)]),_:2},1024),(l(!0),b(x,null,M(_.children,C=>(l(),c(e(X),{key:C.id,value:C.id,class:"pl-8"},{default:d(()=>[q(V(C.name),1)]),_:2},1032,["value"]))),128))]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])]))}},pe={},me={class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};function fe(r,t){return l(),b("svg",me,t[0]||(t[0]=[D("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"},null,-1)]))}const xe=Z(pe,[["render",fe]]);export{Ve as C,$e as E,xe as S,Be as _,Se as a};
