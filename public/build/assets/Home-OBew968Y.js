import{b as L,u as e,d as z,t as ut,r as V,e as te,C as Y,c as C,o as v,w as p,a as j,f as F,i,G,B as T,m as O,R as ct,g as de,h as qe,U as mt,z as Ie,k as $,l as s,p as I,s as w,S as ie,F as Q,v as se,x as M,H as ft,M as pt,V as vt,O as ht,I as Ae,P as Ne,L as gt,A as yt}from"./app-D87cSTEK.js";import{_ as xt}from"./AppLayout-P_ZKEA8z.js";import{_ as bt,a as _t}from"./CardContent.vue_vue_type_script_setup_true_lang-BX_EYPiC.js";import{P as A,_ as K,c as N}from"./index-BTdAFRTQ.js";import{c as ae,a as ue,h as kt,X as oe,b as He,d as Ue}from"./x-D9dlJtfS.js";import{A as Ge,E as wt}from"./euro-DY-yIH5T.js";import{S as $t}from"./sparkles-BC9Vx9cV.js";import{S as Qe,U as Ct}from"./users-D48EDL3P.js";import{c as le}from"./createLucideIcon-gO3h018p.js";import{a as St,b as Vt,c as qt,d as J,_ as It}from"./SelectValue.vue_vue_type_script_setup_true_lang-DeZ3ZOuI.js";import{_ as Z}from"./Label.vue_vue_type_script_setup_true_lang-BmaP6Evz.js";import{_ as xe,a as be,b as _e,c as ke}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DlnX0Qo1.js";import{l as We,m as Xe,n as Je,o as Oe,e as Re,_ as Et}from"./DateRangePicker-CTcRQCho.js";import{c as Ye,e as ye,f as Ft,u as Bt,r as H,g as Dt}from"./Input.vue_vue_type_script_setup_true_lang-Cd58GjNH.js";import{k as Ee,l as Lt,g as Ze,u as zt,m as jt,e as Fe,_ as Mt,d as Ot}from"./FlashMessage-dPrOLo5Z.js";import{i as we}from"./ohash.D__AXeF1-DHF4M4F_.js";import{u as Rt,C as $e}from"./check-mKlYqLlS.js";import{_ as Pt}from"./VisuallyHiddenInput-Dq_fr05I.js";import{u as Tt}from"./useKbd-kRIii9yh.js";import{_ as Kt}from"./Separator-Bw6oKT8O.js";import{C as At}from"./chevron-right-DypN9SA-.js";import{_ as Nt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{C as Ht}from"./chevron-down-CvLDhNBO.js";import{d as Ut}from"./debounce-nk_z-QvV.js";import{M as Ce}from"./map-pin-wSLE82L3.js";import{_ as Gt}from"./Pagination-C8qFipor.js";import{T as Qt}from"./triangle-alert-CnnqpB58.js";import{f as Pe,a as Te}from"./fr-D_pP4D31.js";import"./clamp-B84JdEtN.js";import"./VisuallyHidden-DR1YdzqK.js";import"./nullish-CHIgUVhi.js";function Wt(t){const c=L(()=>e(t)),n=L(()=>new Intl.Collator("en",{usage:"search",...c.value}));return{startsWith:(a,l)=>l.length===0?!0:(a=a.normalize("NFC"),l=l.normalize("NFC"),n.value.compare(a.slice(0,l.length),l)===0),endsWith:(a,l)=>l.length===0?!0:(a=a.normalize("NFC"),l=l.normalize("NFC"),n.value.compare(a.slice(-l.length),l)===0),contains:(a,l)=>{if(l.length===0)return!0;a=a.normalize("NFC"),l=l.normalize("NFC");let u=0;const x=l.length;for(;u+x<=a.length;u++){const _=a.slice(u,u+x);if(n.value.compare(l,_)===0)return!0}return!1}}}function Xt(t,c,n){return t===void 0?!1:Array.isArray(t)?t.some(f=>ee(f,c,n)):ee(t,c,n)}function ee(t,c,n){return t===void 0||c===void 0?!1:typeof t=="string"?t===c:typeof n=="function"?n(t,c):typeof n=="string"?(t==null?void 0:t[n])===(c==null?void 0:c[n]):we(t,c)}function Jt(t,c,n){const f=t.findIndex(l=>we(l,c)),d=t.findIndex(l=>we(l,n));if(f===-1||d===-1)return[];const[o,a]=[f,d].sort((l,u)=>l-u);return t.slice(o,a+1)}const[Be,Yt]=ae("ListboxRoot"),Zt=z({__name:"ListboxRoot",props:{modelValue:{},defaultValue:{},multiple:{type:Boolean},orientation:{default:"vertical"},dir:{},disabled:{type:Boolean},selectionBehavior:{default:"toggle"},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{expose:c,emit:n}){const f=t,d=n,{multiple:o,highlightOnHover:a,orientation:l,disabled:u,selectionBehavior:x,dir:_}=ut(f),{getItems:S}=Ee({isProvider:!0}),{handleTypeaheadSearch:g}=Lt(),{primitiveElement:y,currentElement:r}=Ze(),m=Tt(),q=zt(_),et=Rt(r),ne=V(),W=V(!1),me=V(!0),B=Ye(f,"modelValue",d,{defaultValue:f.defaultValue??(o.value?[]:void 0),passive:f.modelValue===void 0,deep:!0});function tt(h){if(W.value=!0,f.multiple){const b=Array.isArray(B.value)?[...B.value]:[],k=b.findIndex(E=>ee(E,h,f.by));f.selectionBehavior==="toggle"?(k===-1?b.push(h):b.splice(k,1),B.value=b):(B.value=[h],ne.value=h)}else f.selectionBehavior==="toggle"&&ee(B.value,h,f.by)?B.value=void 0:B.value=h;setTimeout(()=>{W.value=!1},1)}const D=V(null),fe=V(null),U=V(!1),pe=V(!1),De=ye(),ve=ye(),Le=ye();function he(){return S().map(h=>h.ref).filter(h=>h.dataset.disabled!=="")}function R(h,b=!0){if(!h)return;D.value=h,me.value&&D.value.focus(),b&&D.value.scrollIntoView({block:"nearest"});const k=S().find(E=>E.ref===h);d("highlight",k)}function st(h){if(U.value)Le.trigger(h);else{const b=S().find(k=>ee(k.value,h,f.by));b&&(D.value=b.ref,R(b.ref))}}function at(h){D.value&&D.value.isConnected&&(h.preventDefault(),h.stopPropagation(),pe.value||D.value.click())}function ot(h){if(me.value){if(W.value=!0,U.value)ve.trigger(h);else{const b=h.altKey||h.ctrlKey||h.metaKey;if(b&&h.key==="a"&&o.value){const k=S(),E=k.map(P=>P.value);B.value=[...E],h.preventDefault(),R(k[k.length-1].ref)}else if(!b){const k=g(h.key,S());k&&R(k)}}setTimeout(()=>{W.value=!1},1)}}function lt(){pe.value=!0}function nt(){requestAnimationFrame(()=>{pe.value=!1})}function ze(){Y(()=>{const h=new KeyboardEvent("keydown",{key:"PageUp"});je(h)})}function ge(h){const b=D.value;b!=null&&b.isConnected&&(fe.value=b),D.value=null,d("leave",h)}function rt(h){var k,E;const b=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((k=h.currentTarget)==null||k.dispatchEvent(b),d("entryFocus",b),!b.defaultPrevented)if(fe.value)R(fe.value);else{const P=(E=he())==null?void 0:E[0];R(P)}}function je(h){const b=jt(h,l.value,q.value);if(!b)return;let k=he();if(D.value){if(b==="last")k.reverse();else if(b==="prev"||b==="next"){b==="prev"&&k.reverse();const E=k.indexOf(D.value);k=k.slice(E+1)}it(h,k[0])}if(k.length){const E=!D.value&&b==="prev"?k.length-1:0;R(k[E])}if(U.value)return ve.trigger(h)}function it(h,b){var E;if(!(U.value||f.selectionBehavior!=="replace"||!o.value||!Array.isArray(B.value)||(h.altKey||h.ctrlKey||h.metaKey)&&!h.shiftKey)&&h.shiftKey){const P=S().filter(X=>X.ref.dataset.disabled!=="");let re=(E=P.find(X=>X.ref===b))==null?void 0:E.value;if(h.key===m.END?re=P[P.length-1].value:h.key===m.HOME&&(re=P[0].value),!re||!ne.value)return;const dt=Jt(P.map(X=>X.value),ne.value,re);B.value=dt}}async function Me(h){if(await Y(),U.value)De.trigger(h);else{const b=he(),k=b.find(E=>E.dataset.state==="checked");k?R(k):b.length&&R(b[0])}}return te(B,()=>{W.value||Y(()=>{Me()})},{immediate:!0,deep:!0}),c({highlightedElement:D,highlightItem:st,highlightFirstItem:ze,highlightSelected:Me,getItems:S}),Yt({modelValue:B,onValueChange:tt,multiple:o,orientation:l,dir:q,disabled:u,highlightOnHover:a,highlightedElement:D,isVirtual:U,virtualFocusHook:De,virtualKeydownHook:ve,virtualHighlightHook:Le,by:f.by,firstValue:ne,selectionBehavior:x,focusable:me,onLeave:ge,onEnter:rt,changeHighlight:R,onKeydownEnter:at,onKeydownNavigation:je,onKeydownTypeAhead:ot,onCompositionStart:lt,onCompositionEnd:nt,highlightFirstItem:ze}),(h,b)=>(v(),C(e(A),{ref_key:"primitiveElement",ref:y,as:h.as,"as-child":h.asChild,dir:e(q),"data-disabled":e(u)?"":void 0,onPointerleave:ge,onFocusout:b[0]||(b[0]=async k=>{const E=k.relatedTarget||k.target;await Y(),D.value&&e(r)&&!e(r).contains(E)&&ge(k)})},{default:p(()=>[j(h.$slots,"default",{modelValue:e(B)}),e(et)&&h.name?(v(),C(e(Pt),{key:0,name:h.name,value:e(B),disabled:e(u),required:h.required},null,8,["name","value","disabled","required"])):F("",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),es=z({__name:"ListboxContent",props:{asChild:{type:Boolean},as:{}},setup(t){const{CollectionSlot:c}=Ee(),n=Be(),f=Ft(!1,10);return(d,o)=>(v(),C(e(c),null,{default:p(()=>[i(e(A),{role:"listbox",as:d.as,"as-child":d.asChild,tabindex:e(n).focusable.value?e(n).highlightedElement.value?"-1":"0":void 0,"aria-orientation":e(n).orientation.value,"aria-multiselectable":!!e(n).multiple.value,"data-orientation":e(n).orientation.value,onMousedown:o[0]||(o[0]=T(a=>f.value=!0,["left"])),onFocus:o[1]||(o[1]=a=>{e(f)||e(n).onEnter(a)}),onKeydown:[o[2]||(o[2]=G(T(a=>{e(n).focusable.value&&e(n).onKeydownNavigation(a)},["prevent"]),["down","up","left","right","home","end"])),G(e(n).onKeydownEnter,["enter"]),e(n).onKeydownTypeAhead]},{default:p(()=>[j(d.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),[ts,ss]=ae("ListboxGroup"),as=z({__name:"ListboxGroup",props:{asChild:{type:Boolean},as:{}},setup(t){const c=t,n=ue(void 0,"reka-listbox-group");return ss({id:n}),(f,d)=>(v(),C(e(A),O({role:"group"},c,{"aria-labelledby":e(n)}),{default:p(()=>[j(f.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),os=z({__name:"ListboxFilter",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},emits:["update:modelValue"],setup(t,{emit:c}){const n=t,d=Ye(n,"modelValue",c,{defaultValue:"",passive:n.modelValue===void 0}),o=Be(),{primitiveElement:a,currentElement:l}=Ze(),u=L(()=>n.disabled||o.disabled.value||!1),x=V();return ct(()=>{var _;return x.value=(_=o.highlightedElement.value)==null?void 0:_.id}),de(()=>{o.focusable.value=!1,setTimeout(()=>{var _;n.autoFocus&&((_=l.value)==null||_.focus())},1)}),qe(()=>{o.focusable.value=!0}),(_,S)=>(v(),C(e(A),{ref_key:"primitiveElement",ref:a,as:_.as,"as-child":_.asChild,value:e(d),disabled:u.value?"":void 0,"data-disabled":u.value?"":void 0,"aria-disabled":u.value??void 0,"aria-activedescendant":x.value,type:"text",onKeydown:[G(T(e(o).onKeydownNavigation,["prevent"]),["down","up","home","end"]),G(e(o).onKeydownEnter,["enter"])],onInput:S[0]||(S[0]=g=>{d.value=g.target.value,e(o).highlightFirstItem(g)}),onCompositionstart:e(o).onCompositionStart,onCompositionend:e(o).onCompositionEnd},{default:p(()=>[j(_.$slots,"default",{modelValue:e(d)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),ls="listbox.select",[Po,ns]=ae("ListboxItem"),rs=z({__name:"ListboxItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},emits:["select"],setup(t,{emit:c}){const n=t,f=c,d=ue(void 0,"reka-listbox-item"),{CollectionItem:o}=Ee(),{forwardRef:a,currentElement:l}=Bt(),u=Be(),x=L(()=>l.value===u.highlightedElement.value),_=L(()=>Xt(u.modelValue.value,n.value,u.by)),S=L(()=>u.disabled.value||n.disabled);async function g(r){f("select",r),!(r!=null&&r.defaultPrevented)&&!S.value&&r&&(u.onValueChange(n.value),u.changeHighlight(l.value))}function y(r){const m={originalEvent:r,value:n.value};kt(ls,g,m)}return ns({isSelected:_}),(r,m)=>(v(),C(e(o),{value:r.value},{default:p(()=>[mt([x.value,_.value],()=>i(e(A),O({id:e(d)},r.$attrs,{ref:e(a),role:"option",tabindex:e(u).focusable.value?x.value?"0":"-1":-1,"aria-selected":_.value,as:r.as,"as-child":r.asChild,disabled:S.value?"":void 0,"data-disabled":S.value?"":void 0,"data-highlighted":x.value?"":void 0,"data-state":_.value?"checked":"unchecked",onClick:y,onKeydown:G(T(y,["prevent"]),["space"]),onPointermove:m[0]||(m[0]=q=>{e(u).highlightedElement.value!==e(l)&&(e(u).highlightOnHover.value?e(u).changeHighlight(e(l),!1):e(u).focusable.value||e(u).changeHighlight(e(l),!1))})}),{default:p(()=>[j(r.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),m,1)]),_:3},8,["value"]))}}),is=z({__name:"ListboxGroupLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(t){const c=t,n=ts({id:""});return(f,d)=>(v(),C(e(A),O(c,{id:e(n).id}),{default:p(()=>[j(f.$slots,"default")]),_:3},16,["id"]))}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=le("CircleHelpIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=le("LayoutListIcon",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=le("PackageSearchIcon",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=le("SearchXIcon",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=le("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),ms={key:0,"aria-labelledby":"hero-heading",class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},fs={class:"flex flex-col lg:flex-row items-center gap-8"},ps={class:"flex-1 text-center lg:text-left"},vs={class:"space-y-4"},hs={class:"text-base text-gray-500 max-w-xl mx-auto lg:mx-0 dark:text-gray-400"},gs={class:"text-gray-900 dark:text-white"},ys={class:"mt-6 flex flex-wrap items-center gap-3 justify-center lg:justify-start"},xs={class:"flex-shrink-0 lg:w-80"},bs={class:"rounded-lg p-4"},_s={class:"grid gap-3",role:"list"},ks={class:"text-sm font-medium text-gray-900 dark:text-white"},ws={class:"text-xs text-gray-500 mt-0.5 dark:text-gray-400"},$s={__name:"HeroSection",setup(t){const n=Ie().props.name,f=V(!0),d=()=>{f.value=!1,localStorage.setItem("heroCardDismissed","true")},o=[{icon:$t,title:"Gratuit",description:"Pour une association ou un particulier"},{icon:Qe,title:"Réservation sécurisée",description:"Processus simple et sûr"},{icon:ds,title:"Gestion d'inventaire",description:"Suivez votre matériel"},{icon:Ct,title:"Communauté active",description:"Réseau associatif"}];return(a,l)=>(v(),C(pt,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform -translate-y-4 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-4 opacity-0"},{default:p(()=>[f.value?(v(),$("section",ms,[l[7]||(l[7]=s("div",{class:"absolute inset-0 rounded-2xl"},null,-1)),i(e(bt),{class:"relative border-none bg-gradient-to-br from-violet-100 via-blue-50 to-background dark:from-violet-950 dark:via-blue-950 dark:to-background"},{default:p(()=>[i(e(K),{variant:"ghost",size:"icon",class:"absolute right-3 top-3 hover:bg-white/80",onClick:d},{default:p(()=>[i(e(oe),{class:"h-4 w-4"}),l[0]||(l[0]=s("span",{class:"sr-only"},"Fermer la bannière d'accueil",-1))]),_:1,__:[0]}),i(e(_t),{class:"p-6"},{default:p(()=>[s("div",fs,[s("div",ps,[s("div",vs,[l[2]||(l[2]=s("h1",{id:"hero-heading",class:"text-2xl sm:text-3xl font-bold font-title text-gray-900 leading-tight dark:text-white"},[s("span",{class:"inline-block"},[I(" Location et prêt de matériel "),s("span",{class:"bg-gradient-to-r from-violet-600 to-blue-600 bg-clip-text text-transparent whitespace-nowrap dark:from-violet-400 dark:to-blue-400"},"événementiel")]),s("span",{class:"block text-lg sm:text-xl mt-2 text-gray-600 font-medium dark:text-gray-400"}," entre associations et particuliers ")],-1)),s("p",hs,[s("strong",gs,w(e(n)),1),l[1]||(l[1]=I(" facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements. "))])]),s("div",ys,[i(e(ie),{href:a.route("discover"),class:"inline-flex items-center px-5 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-violet-600 to-blue-600 text-white hover:from-violet-700 hover:to-blue-700 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-violet-500 dark:from-violet-500 dark:to-blue-500 dark:hover:from-violet-600 dark:hover:to-blue-600"},{default:p(()=>[l[3]||(l[3]=I(" Découvrir la plateforme ")),i(e(Ge),{class:"ml-2 h-4 w-4"})]),_:1,__:[3]},8,["href"]),i(e(K),{variant:"outline",as:"a",href:a.route("how-it-works"),class:"text-sm border-violet-200 text-violet-700 hover:bg-violet-50 dark:border-violet-800 dark:text-violet-300 dark:hover:bg-violet-900"},{default:p(()=>l[4]||(l[4]=[I(" Comment ça marche ? ")])),_:1,__:[4]},8,["href"])])]),l[6]||(l[6]=s("div",{class:"hidden lg:block w-px h-32 bg-gradient-to-b from-violet-200 to-blue-200 self-center dark:from-violet-800 dark:to-blue-800"},null,-1)),s("div",xs,[s("div",bs,[l[5]||(l[5]=s("h2",{class:"text-sm font-medium text-gray-900 mb-4 dark:text-white"}," Avantages de la plateforme ",-1)),s("ul",_s,[(v(),$(Q,null,se(o,u=>s("li",{key:u.title,class:"flex items-start gap-3 group"},[s("div",{class:M(["rounded-md bg-gradient-to-br from-violet-100 to-blue-100 p-2 group-hover:from-violet-200 group-hover:to-blue-200 transition-colors duration-200 dark:from-violet-900 dark:to-blue-900",{"from-violet-200 to-blue-200 dark:from-violet-800 dark:to-blue-800":u.title==="Gratuit"}])},[(v(),C(ft(u.icon),{class:"w-4 h-4 text-violet-600 dark:text-violet-400"}))],2),s("div",null,[s("h3",ks,w(u.title),1),s("p",ws,w(u.description),1)])])),64))])])])])]),_:1})]),_:1})])):F("",!0)]),_:1}))}},Cs=z({__name:"Command",props:{modelValue:{default:""},defaultValue:{},multiple:{type:Boolean},orientation:{},dir:{},disabled:{type:Boolean},selectionBehavior:{},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{emit:c}){const n=t,f=c,d=H(n,"class"),o=He(d,f),a=V(new Map),l=V(new Map),{contains:u}=Wt({sensitivity:"base"}),x=vt({search:"",filtered:{count:0,items:new Map,groups:new Set}});function _(){if(!x.search){x.filtered.count=a.value.size;return}x.filtered.groups=new Set;let S=0;for(const[g,y]of a.value){const r=u(y,x.search);x.filtered.items.set(g,r?1:0),r&&S++}for(const[g,y]of l.value)for(const r of y)if(x.filtered.items.get(r)>0){x.filtered.groups.add(g);break}x.filtered.count=S}return te(()=>x.search,()=>{_()}),Ds({allItems:a,allGroups:l,filterState:x}),(S,g)=>(v(),C(e(Zt),O({"data-slot":"command"},e(o),{class:e(N)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",n.class)}),{default:p(()=>[j(S.$slots,"default")]),_:3},16,["class"]))}}),Ss=z({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(t){const c=t,n=H(c,"class"),{filterState:f}=ce(),d=L(()=>!!f.search&&f.filtered.count===0);return(o,a)=>d.value?(v(),C(e(A),O({key:0,"data-slot":"command-empty"},e(n),{class:e(N)("py-6 text-center text-sm",c.class)}),{default:p(()=>[j(o.$slots,"default")]),_:3},16,["class"])):F("",!0)}}),Vs=z({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{},heading:{}},setup(t){const c=t,n=H(c,"class"),{allGroups:f,filterState:d}=ce(),o=ue(),a=L(()=>d.search?d.filtered.groups.has(o):!0);return zs({id:o}),de(()=>{f.value.has(o)||f.value.set(o,new Set)}),qe(()=>{f.value.delete(o)}),(l,u)=>(v(),C(e(as),O(e(n),{id:e(o),"data-slot":"command-group",class:e(N)("text-foreground overflow-hidden p-1",c.class),hidden:a.value?void 0:!0}),{default:p(()=>[l.heading?(v(),C(e(is),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:p(()=>[I(w(l.heading),1)]),_:1})):F("",!0),j(l.$slots,"default")]),_:3},16,["id","class","hidden"]))}}),qs={"data-slot":"command-input-wrapper",class:"flex h-12 items-center gap-2 border-b px-3"},Is=z({inheritAttrs:!1,__name:"CommandInput",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(t){const c=t,n=H(c,"class"),f=Ue(n),{filterState:d}=ce();return(o,a)=>(v(),$("div",qs,[i(e(Fe),{class:"size-4 shrink-0 opacity-50"}),i(e(os),O({...e(f),...o.$attrs},{modelValue:e(d).search,"onUpdate:modelValue":a[0]||(a[0]=l=>e(d).search=l),"data-slot":"command-input","auto-focus":"",class:e(N)("placeholder:text-muted-foreground flex h-12 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",c.class)}),null,16,["modelValue","class"])]))}}),Ve=z({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},emits:["select"],setup(t,{emit:c}){const n=t,f=c,d=H(n,"class"),o=He(d,f),a=ue(),{filterState:l,allItems:u,allGroups:x}=ce(),_=Ls(),S=L(()=>{if(l.search){const r=l.filtered.items.get(a);return r===void 0?!0:r>0}else return!0}),g=V(),y=Dt(g);return de(()=>{var m,q;if(!(y.value instanceof HTMLElement))return;u.value.set(a,y.value.textContent??((m=n.value)==null?void 0:m.toString())??"");const r=_==null?void 0:_.id;r&&(x.value.has(r)?(q=x.value.get(r))==null||q.add(a):x.value.set(r,new Set([a])))}),qe(()=>{u.value.delete(a)}),(r,m)=>S.value?(v(),C(e(rs),O({key:0},e(o),{id:e(a),ref_key:"itemRef",ref:g,"data-slot":"command-item",class:e(N)("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-3 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n.class),onSelect:m[0]||(m[0]=()=>{e(l).search=""})}),{default:p(()=>[j(r.$slots,"default")]),_:3},16,["id","class"])):F("",!0)}}),Es={role:"presentation"},Fs=z({__name:"CommandList",props:{asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(t){const c=t,n=H(c,"class"),f=Ue(n);return(d,o)=>(v(),C(e(es),O({"data-slot":"command-list"},e(f),{class:e(N)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",c.class)}),{default:p(()=>[s("div",Es,[j(d.$slots,"default")])]),_:3},16,["class"]))}}),Bs=z({__name:"CommandSeparator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{type:[String,Object,Function]},class:{}},setup(t){const c=t,n=H(c,"class");return(f,d)=>(v(),C(e(Kt),O({"data-slot":"command-separator"},e(n),{class:e(N)("bg-border -mx-1 h-px",c.class)}),{default:p(()=>[j(f.$slots,"default")]),_:3},16,["class"]))}}),[ce,Ds]=ae("Command"),[Ls,zs]=ae("CommandGroup"),js={class:"flex items-center w-full gap-2"},Ms={class:"ml-3 pl-3 border-l border-border/50"},Os={class:"flex items-center w-full gap-2"},Rs={__name:"RecursiveCategoryItem",props:{category:{type:Object,required:!0},modelValue:{type:[String,Number],default:null},searchQuery:{type:String,default:""}},emits:["select"],setup(t){return(c,n)=>{var d;const f=ht("RecursiveCategoryItem",!0);return(d=t.category.children)!=null&&d.length?(v(),$(Q,{key:0},[i(e(Ve),{value:t.category.name,onSelect:n[0]||(n[0]=o=>c.$emit("select",t.category)),class:M(["rounded-sm cursor-pointer data-[selected=true]:bg-accent",{"bg-accent":t.modelValue===t.category.id}])},{default:p(()=>[s("div",js,[t.modelValue===t.category.id?(v(),C(e($e),{key:0,class:"h-4 w-4 text-accent-foreground flex-shrink-0"})):F("",!0),s("span",{class:M(["flex-grow text-sm",t.modelValue===t.category.id?"pl-0 font-medium":"pl-6","font-medium text-foreground"])},w(t.category.name),3),i(e(At),{class:"h-4 w-4 text-muted-foreground flex-shrink-0 opacity-75"})])]),_:1},8,["value","class"]),s("div",Ms,[(v(!0),$(Q,null,se(t.category.children,o=>(v(),C(f,{key:o.id,category:o,modelValue:t.modelValue,searchQuery:t.searchQuery,onSelect:n[1]||(n[1]=a=>c.$emit("select",a))},null,8,["category","modelValue","searchQuery"]))),128))])],64)):(v(),C(e(Ve),{key:1,value:t.category.name,onSelect:n[2]||(n[2]=o=>c.$emit("select",t.category)),class:M(["rounded-sm cursor-pointer data-[selected=true]:bg-accent",{"bg-accent":t.modelValue===t.category.id}])},{default:p(()=>[s("div",Os,[t.modelValue===t.category.id?(v(),C(e($e),{key:0,class:"h-4 w-4 text-accent-foreground flex-shrink-0"})):F("",!0),s("span",{class:M(["flex-grow text-sm text-muted-foreground",t.modelValue===t.category.id?"pl-0 font-medium text-foreground":"pl-6"])},w(t.category.name),3)])]),_:1},8,["value","class"]))}}},Ps={class:"space-y-1.5"},Ts={class:"truncate"},Ks={class:"flex items-center gap-1"},As={class:"px-1 py-2"},Ns={class:"flex items-center w-full"},Hs={class:"px-1 py-2"},Us={__name:"CategoryTreeSelect",props:{modelValue:{type:[String,Number],default:"all"},categories:{type:Array,required:!0},label:{type:String,default:"Catégorie"},id:{type:String,default:"category-select"},allItemsLabel:{type:String,default:"Toutes les catégories"},tooltip:{type:String,default:"Filtrer par type d'équipement"},align:{type:String,default:"start"},side:{type:String,default:"bottom"},sideOffset:{type:Number,default:4},alignOffset:{type:Number,default:0}},emits:["update:modelValue"],setup(t,{emit:c}){const n=t,f=c,d=V(!1),o=V(null),a=V(""),l=(g,y)=>{var m;return g.name.toLowerCase().includes(y.toLowerCase())?!0:(m=g.children)!=null&&m.length?g.children.some(q=>l(q,y)):!1},u=(g,y)=>g.reduce((r,m)=>{if(l(m,y)){const q={...m,children:m.children?u(m.children,y):[]};r.push(q)}return r},[]),x=L(()=>a.value?u(n.categories,a.value):n.categories),_=g=>{o.value=g,f("update:modelValue",g.id),d.value=!1,a.value=""},S=g=>{g.preventDefault(),g.stopPropagation(),_({id:"all",name:n.allItemsLabel}),d.value&&(d.value=!1)};return(g,y)=>(v(),$("div",Ps,[i(e(Z),{for:t.id,class:"flex items-center gap-2 text-sm font-medium leading-none text-muted-foreground"},{default:p(()=>[I(w(t.label)+" ",1),t.tooltip?(v(),C(e(xe),{key:0},{default:p(()=>[i(e(be),{delayDuration:0},{default:p(()=>[i(e(_e),{asChild:""},{default:p(()=>[i(e(Se),{class:"h-4 w-4 text-muted-foreground hover:text-foreground transition-colors"})]),_:1}),i(e(ke),{side:"right",class:"text-xs bg-popover"},{default:p(()=>[s("p",null,w(t.tooltip),1)]),_:1})]),_:1})]),_:1})):F("",!0)]),_:1},8,["for"]),i(e(Je),{open:d.value,"onUpdate:open":y[2]||(y[2]=r=>d.value=r),modal:!0},{default:p(()=>[i(e(We),{"as-child":""},{default:p(()=>[i(e(K),{id:t.id,variant:"outline",role:"combobox","aria-expanded":d.value,"aria-label":t.label,class:M(["w-full justify-between font-normal bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",[!t.modelValue&&"text-muted-foreground","focus-visible:ring-1 focus-visible:ring-ring","transition-all duration-200"]])},{default:p(()=>{var r;return[s("span",Ts,w(((r=o.value)==null?void 0:r.name)||t.allItemsLabel),1),s("div",Ks,[t.modelValue!=="all"?(v(),$("button",{key:0,type:"button",onClick:T(S,["stop","prevent"]),class:"outline-none focus:outline-none"},[i(e(oe),{class:"h-4 w-4 shrink-0 opacity-50 hover:opacity-100 transition duration-200 cursor-pointer"})])):F("",!0),i(e(Ht),{class:M(["h-4 w-4 shrink-0 opacity-50 transition duration-200",{"rotate-180":d.value}])},null,8,["class"])])]}),_:1},8,["id","aria-expanded","aria-label","class"])]),_:1}),i(e(Xe),{class:"w-screen p-0 sm:w-[var(--radix-popover-trigger-width)] shadow-lg",align:t.align,side:t.side,sideOffset:t.sideOffset,alignOffset:t.alignOffset},{default:p(()=>[i(e(Cs),{class:"rounded-lg border bg-popover"},{default:p(()=>[i(e(Is),{modelValue:a.value,"onUpdate:modelValue":y[0]||(y[0]=r=>a.value=r),placeholder:"Rechercher une catégorie...",class:"h-9"},null,8,["modelValue"]),i(e(Fs),{class:"max-h-[300px] overflow-y-auto overscroll-contain"},{default:p(()=>[a.value&&!x.value.length?(v(),C(e(Ss),{key:0,class:"py-6 text-center text-sm"},{default:p(()=>y[3]||(y[3]=[I(" Aucune catégorie trouvée. ")])),_:1,__:[3]})):F("",!0),!a.value||x.value.length?(v(),C(e(Vs),{key:1},{default:p(()=>[s("div",As,[i(e(Ve),{onSelect:y[1]||(y[1]=r=>_({id:"all",name:t.allItemsLabel})),value:t.allItemsLabel,class:M(["rounded-sm cursor-pointer data-[selected=true]:bg-accent",{"bg-accent":t.modelValue==="all"}])},{default:p(()=>[s("div",Ns,[t.modelValue==="all"?(v(),C(e($e),{key:0,class:"h-4 w-4 text-accent-foreground flex-shrink-0"})):F("",!0),s("span",{class:M(["flex-grow",t.modelValue!=="all"?"pl-6":"pl-0","text-sm font-medium"])},w(t.allItemsLabel),3)])]),_:1},8,["value","class"])]),i(e(Bs),{class:"bg-border/50"}),s("div",Hs,[(v(!0),$(Q,null,se(a.value?x.value:t.categories,r=>(v(),C(Rs,{key:r.id,category:r,modelValue:t.modelValue,searchQuery:a.value,onSelect:_},null,8,["category","modelValue","searchQuery"]))),128))])]),_:1})):F("",!0)]),_:1})]),_:1})]),_:1},8,["align","side","sideOffset","alignOffset"])]),_:1},8,["open"])]))}},Gs=Nt(Us,[["__scopeId","data-v-03d39e69"]]),Qs={class:"flex items-center border rounded-lg shadow-md bg-background"},Ws={class:"pl-3 text-muted-foreground"},Xs=["onKeydown"],Js={__name:"SearchInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","search:submit"],setup(t,{emit:c}){const n=t,f=c,d=V(null),o=L({get(){return n.modelValue},set(u){f("update:modelValue",u)}}),a=()=>{o.value="",Y(()=>{var u;(u=d.value)==null||u.focus()})},l=()=>{f("search:submit",o.value)};return(u,x)=>(v(),$("div",Qs,[s("span",Ws,[i(e(Fe),{class:"h-5 w-5"})]),Ae(s("input",{ref_key:"inputRef",ref:d,"onUpdate:modelValue":x[0]||(x[0]=_=>o.value=_),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Que recherchez-vous ?",onKeydown:G(T(l,["prevent"]),["enter"]),autocomplete:"off"},null,40,Xs),[[Ne,o.value]]),o.value?(v(),$("button",{key:0,onMousedown:T(a,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[i(e(oe),{class:"h-4 w-4"})],32)):F("",!0)]))}},Ys={class:"relative w-full"},Zs={class:"flex items-center border rounded-lg shadow-md bg-background"},ea={class:"pl-3 text-muted-foreground"},ta=["disabled"],sa={key:0,class:"py-6 text-center text-sm text-muted-foreground"},aa={key:1,class:"py-6 text-center text-sm text-destructive"},oa={key:2,class:"py-6 text-center text-sm text-muted-foreground"},la={key:3,class:"max-h-[300px] overflow-y-auto"},na=["onClick"],ra={class:"flex flex-col"},ia={class:"text-xs text-muted-foreground"},da={__name:"CityInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","coordinates","city"],setup(t,{emit:c}){const n=t,f=c,d=V(n.modelValue),o=V([]),a=V(!1),l=V(!1),u=V(""),x=Ut(async g=>{if(g.length<3){o.value=[],a.value=!1,u.value="";return}l.value=!0,a.value=!0,u.value="";try{const y=await gt.get(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(g)}&type=municipality&limit=5`);if(!y.data.features||y.data.features.length===0){o.value=[];return}o.value=y.data.features.map(r=>({id:r.properties.id,name:r.properties.city,postcode:r.properties.postcode,coordinates:{lat:r.geometry.coordinates[1],lng:r.geometry.coordinates[0]}}))}catch(y){console.error("Error fetching city suggestions:",y),o.value=[],y.value="Erreur lors de la recherche de villes. Veuillez réessayer."}finally{l.value=!1}},300);te(d,g=>{f("update:modelValue",g),g.length>=3?x(g):(o.value=[],a.value=!1)});const _=g=>{d.value=g.name,a.value=!1,u.value="",f("update:modelValue",{name:g.name,lat:g.coordinates.lat,lng:g.coordinates.lng,postcode:g.postcode,departement:g.postcode.substring(0,2)})},S=()=>{d.value="",o.value=[],a.value=!1,u.value="",f("update:modelValue","")};return(g,y)=>(v(),$("div",Ys,[i(e(Je),{open:a.value,"onUpdate:open":y[2]||(y[2]=r=>a.value=r)},{default:p(()=>[i(e(We),{asChild:""},{default:p(()=>[s("div",Zs,[s("span",ea,[i(e(Ce),{class:"h-5 w-5"})]),Ae(s("input",{"onUpdate:modelValue":y[0]||(y[0]=r=>d.value=r),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Ajouter une localisation",disabled:l.value,onFocus:y[1]||(y[1]=r=>a.value=!0)},null,40,ta),[[Ne,d.value]]),d.value?(v(),$("button",{key:0,onMousedown:T(S,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[i(e(oe),{class:"h-4 w-4"})],32)):F("",!0)])]),_:1}),i(e(Xe),{class:"w-full p-0",align:"start"},{default:p(()=>[l.value?(v(),$("div",sa,y[3]||(y[3]=[s("div",{class:"flex items-center justify-center"},[s("div",{class:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),s("span",{class:"ml-2"},"Recherche en cours...")],-1)]))):u.value?(v(),$("div",aa,w(u.value),1)):o.value.length===0?(v(),$("div",oa," Aucun résultat trouvé ")):(v(),$("div",la,[(v(!0),$(Q,null,se(o.value,r=>(v(),$("div",{key:r.id,class:"flex items-center gap-2 px-4 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground",onClick:m=>_(r)},[i(e(Ce),{class:"h-4 w-4 text-muted-foreground"}),s("div",ra,[s("span",null,w(r.name),1),s("span",ia,w(r.postcode),1)])],8,na))),128))]))]),_:1})]),_:1},8,["open"])]))}},ua={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ca={class:"relative rounded-xl shadow-xl border border-gray-200/60"},ma={key:0,class:"px-6 pt-6 pb-4"},fa={class:"px-6 pb-6"},pa={class:"flex flex-col md:flex-row gap-4 p-4"},va={class:"flex-1"},ha={class:"flex-1"},ga={class:"flex items-end"},ya={key:1,class:"h-5 w-5 mr-2"},xa={class:"px-6 pb-6"},ba={class:""},_a={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},ka={class:"space-y-2"},wa={class:"space-y-2"},$a={class:"flex justify-end items-end"},Ca={__name:"SearchSection",props:{filters:{type:Object,default:()=>({})},stats:{type:Object,required:!0}},emits:["searching"],setup(t,{emit:c}){const f=Ie().props.auth.user,d=t,o=c,a=V(!1),l=V({from:d.filters.start_date?Oe(d.filters.start_date):void 0,to:d.filters.end_date?Oe(d.filters.end_date):void 0});te(l,r=>{u.start_date=r.from?r.from.toDate(Re()).toISOString().split("T")[0]:"",u.end_date=r.to?r.to.toDate(Re()).toISOString().split("T")[0]:""},{deep:!0});const u=yt({search:d.filters.search||"",radius:d.filters.radius||50,category:d.filters.category||"all",start_date:d.filters.start_date||"",end_date:d.filters.end_date||"",coordinates:d.filters.coordinates||null,city:d.filters.city||null,postcode:d.filters.postcode||null}),x=()=>{a.value=!0,o("searching",a.value),u.get(route("home"),{only:["filters","equipments"],preserveScroll:!0,preserveState:!0,onFinish:()=>{a.value=!1,o("searching",a.value)}})},_=()=>{const r=localStorage.getItem("search_filters");if(r)try{const m=JSON.parse(r);u.city=m.city||null,u.coordinates=m.coordinates||null,u.radius=m.radius||50,u.postcode=m.postcode||null}catch(m){console.error("Error loading filters from localStorage:",m)}},S=r=>{try{const m={city:r.city,coordinates:r.coordinates,radius:r.radius,postcode:r.postcode};localStorage.setItem("search_filters",JSON.stringify(m))}catch(m){console.error("Error saving filters to localStorage:",m)}};te(u,r=>{S(r)},{deep:!0}),de(()=>{_()});const g=()=>{l.value={from:void 0,to:void 0},u.reset({search:"",radius:50,category:"all",start_date:"",end_date:"",coordinates:null,city:null,postcode:null}),localStorage.removeItem("search_filters"),x()},y=r=>{u.city=r.name,u.postcode=r.postcode,u.coordinates={lat:r.lat,lng:r.lng},u.radius=u.radius||5};return(r,m)=>(v(),$("div",{class:M({"relative mt-8":e(f)})},[s("div",ua,[s("div",ca,[e(f)?F("",!0):(v(),$("div",ma,m[5]||(m[5]=[s("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Trouvez le matériel dont vous avez besoin",-1),s("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Recherchez parmi des milliers d'équipements disponibles près de chez vous.",-1)]))),s("div",fa,[s("div",pa,[s("div",va,[i(e(Z),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:p(()=>m[6]||(m[6]=[I("Dans quel secteur ?")])),_:1,__:[6]}),i(da,{modelValue:e(u).city,"onUpdate:modelValue":[m[0]||(m[0]=q=>e(u).city=q),y],placeholder:"Entrez une ville ou un code postal"},null,8,["modelValue"])]),s("div",ha,[i(e(Z),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:p(()=>m[7]||(m[7]=[I("Que recherchez-vous ?")])),_:1,__:[7]}),i(Js,{modelValue:e(u).search,"onUpdate:modelValue":m[1]||(m[1]=q=>e(u).search=q),placeholder:"Ex: Vidéoprojecteur, Enceinte, Table...","onSearch:submit":x},null,8,["modelValue"])]),s("div",ga,[i(e(K),{type:"submit",size:"lg",disabled:a.value,class:"w-full md:w-auto min-w-[140px] bg-primary hover:bg-primary/90 shadow-sm dark:bg-primary dark:hover:bg-primary/90",onClick:x},{default:p(()=>[a.value?(v(),$("span",ya,m[8]||(m[8]=[s("span",{class:"animate-spin inline-block h-5 w-5 border-[3px] border-current border-t-transparent rounded-full"},null,-1)]))):(v(),C(e(Fe),{key:0,class:"h-5 w-5 mr-2"})),I(" "+w(a.value?"Recherche...":"Rechercher"),1)]),_:1},8,["disabled"])])])]),s("div",xa,[s("div",ba,[s("div",_a,[i(Gs,{modelValue:e(u).category,"onUpdate:modelValue":[m[2]||(m[2]=q=>e(u).category=q),x],categories:t.stats.categories},null,8,["modelValue","categories"]),s("div",ka,[i(e(Z),{for:"radius",class:"flex items-center gap-2"},{default:p(()=>[m[10]||(m[10]=I(" Rayon de recherche ")),i(e(xe),null,{default:p(()=>[i(e(be),null,{default:p(()=>[i(e(_e),null,{default:p(()=>[i(e(Se),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),i(e(ke),null,{default:p(()=>m[9]||(m[9]=[s("p",null,"Distance maximale de recherche",-1)])),_:1,__:[9]})]),_:1})]),_:1})]),_:1,__:[10]}),i(e(It),{modelValue:e(u).radius,"onUpdate:modelValue":[m[3]||(m[3]=q=>e(u).radius=q),x]},{default:p(()=>[i(e(St),{id:"radius",class:"w-full bg-white dark:bg-gray-800"},{default:p(()=>[i(e(Vt),{placeholder:"Sélectionner un rayon"})]),_:1}),i(e(qt),null,{default:p(()=>[i(e(J),{value:"5"},{default:p(()=>m[11]||(m[11]=[I("5 km")])),_:1,__:[11]}),i(e(J),{value:"10"},{default:p(()=>m[12]||(m[12]=[I("10 km")])),_:1,__:[12]}),i(e(J),{value:"25"},{default:p(()=>m[13]||(m[13]=[I("25 km")])),_:1,__:[13]}),i(e(J),{value:"50"},{default:p(()=>m[14]||(m[14]=[I("50 km")])),_:1,__:[14]}),i(e(J),{value:"100"},{default:p(()=>m[15]||(m[15]=[I("100 km")])),_:1,__:[15]})]),_:1})]),_:1},8,["modelValue"])]),s("div",wa,[i(e(Z),{class:"flex items-center gap-2"},{default:p(()=>[m[17]||(m[17]=I(" Période de location ")),i(e(xe),null,{default:p(()=>[i(e(be),null,{default:p(()=>[i(e(_e),null,{default:p(()=>[i(e(Se),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),i(e(ke),null,{default:p(()=>m[16]||(m[16]=[s("p",null,"Période de location souhaitée",-1)])),_:1,__:[16]})]),_:1})]),_:1})]),_:1,__:[17]}),i(Et,{modelValue:l.value,"onUpdate:modelValue":[m[4]||(m[4]=q=>l.value=q),x]},null,8,["modelValue"])]),s("div",$a,[i(e(K),{variant:"outline",size:"sm",onClick:g,class:"text-sm hover:text-destructive hover:border-destructive dark:hover:text-destructive dark:hover:border-destructive"},{default:p(()=>[i(e(oe),{class:"h-4 w-4 mr-1.5"}),m[18]||(m[18]=I(" Réinitialiser les filtres "))]),_:1,__:[18]})])])])])])])],2))}},Sa={class:"group relative bg-card rounded-xl shadow-sm border border-border/50 overflow-hidden hover:shadow-lg transition-all duration-200"},Va=["src","alt"],qa={key:1,class:"w-full h-full flex items-center justify-center text-muted-foreground/30"},Ia={class:"absolute top-3 right-3"},Ea={class:"p-6"},Fa={class:"flex items-start justify-between gap-4"},Ba={class:"text-lg font-semibold text-foreground group-hover:text-primary transition-colors duration-200 line-clamp-2"},Da={class:"mt-4 space-y-3"},La={class:"flex items-center text-sm text-muted-foreground"},za={class:"truncate"},ja={class:"flex items-center text-sm text-muted-foreground"},Ma={class:"truncate"},Oa={class:"flex items-center text-sm text-muted-foreground"},Ra={key:0,class:"mt-4 p-3 bg-accent/50 rounded-lg space-y-2"},Pa={class:"flex items-center text-sm"},Ta={class:"text-muted-foreground"},Ka={class:"flex items-center justify-between text-sm font-medium"},Aa={class:"text-foreground"},Na={class:"mt-4 text-sm text-muted-foreground line-clamp-2"},Ha={class:"mt-6"},Ua={__name:"EquipmentCard",props:{equipment:{type:Object,required:!0},startDate:{type:String,default:""},endDate:{type:String,default:""}},setup(t){const c=t,n=L(()=>{if(!c.startDate||!c.endDate)return c.equipment.rental_price;const o=new Date(c.startDate),a=new Date(c.endDate),l=Math.ceil((a-o)/(1e3*60*60*24))+1;return(c.equipment.rental_price*l).toFixed(2)}),f=o=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(o),d=L(()=>{if(!c.startDate||!c.endDate)return null;const o=new Date(c.startDate),a=new Date(c.endDate),l=Math.ceil((a-o)/(1e3*60*60*24))+1;return{start:Pe(o,"dd MMM yyyy",{locale:Te}),end:Pe(a,"dd MMM yyyy",{locale:Te}),days:l}});return(o,a)=>{var l,u;return v(),$("div",Sa,[i(e(ie),{href:o.route("equipments.show",t.equipment),class:"block aspect-[16/9] bg-accent/10 relative overflow-hidden"},{default:p(()=>[t.equipment.images&&t.equipment.images.length>0?(v(),$("img",{key:0,src:t.equipment.images[0].url,alt:t.equipment.name,loading:"lazy",placeholder:"blur",class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"},null,8,Va)):(v(),$("div",qa,[i(e(Ke),{class:"w-12 h-12"})])),s("div",Ia,[i(e(Mt),{variant:t.equipment.is_available?"success":"destructive",class:"flex items-center gap-1 shadow-sm"},{default:p(()=>[t.equipment.is_available?(v(),C(e(Qe),{key:0,class:"h-3 w-3"})):(v(),C(e(Qt),{key:1,class:"h-3 w-3"})),I(" "+w(t.equipment.is_available?"Disponible":"Indisponible"),1)]),_:1},8,["variant"])])]),_:1},8,["href"]),s("div",Ea,[s("div",Fa,[i(e(ie),{href:o.route("equipments.show",t.equipment),class:"block"},{default:p(()=>[s("h3",Ba,w(t.equipment.name),1)]),_:1},8,["href"])]),s("div",Da,[s("div",La,[i(e(Ce),{class:"h-4 w-4 mr-2 text-primary/70 flex-shrink-0"}),s("span",za,w(((l=t.equipment.depot)==null?void 0:l.city)||"Non localisé"),1)]),s("div",ja,[i(e(Ke),{class:"h-4 w-4 mr-2 text-primary/70 flex-shrink-0"}),s("span",Ma,w(((u=t.equipment.category)==null?void 0:u.name)||"Sans catégorie"),1)]),s("div",Oa,[i(e(wt),{class:"h-4 w-4 mr-2 text-primary/70 flex-shrink-0"}),s("span",null,w(f(t.equipment.rental_price))+" / jour",1)])]),d.value?(v(),$("div",Ra,[s("div",Pa,[i(e(Ot),{class:"h-4 w-4 mr-2 text-primary/70"}),s("span",Ta,w(d.value.start)+" - "+w(d.value.end),1)]),s("div",Ka,[s("span",null,"Total ("+w(d.value.days)+" jour"+w(d.value.days>1?"s":"")+")",1),s("span",Aa,w(f(n.value)),1)])])):F("",!0),s("p",Na,w(t.equipment.description),1),s("div",Ha,[i(e(K),{asChild:"",class:"w-full group/button"},{default:p(()=>[i(e(ie),{href:o.route("equipments.show",t.equipment)},{default:p(()=>[a[0]||(a[0]=I(" Voir les détails ")),i(e(Ge),{class:"ml-2 h-4 w-4 transition-transform group-hover/button:translate-x-1"})]),_:1,__:[0]},8,["href"])]),_:1})])])])}}},Ga={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Qa={key:0,class:"min-h-[400px] flex flex-col items-center justify-center"},Wa={key:1,class:"min-h-[400px] flex flex-col items-center justify-center text-center"},Xa={class:"w-24 h-24 text-muted-foreground mb-6"},Ja={class:"text-xl font-medium text-foreground"},Ya={class:"mt-2 text-base text-muted-foreground max-w-md"},Za={key:0,class:"mt-6"},eo={key:2},to={class:"mb-6 flex items-center justify-between"},so={class:"text-lg font-medium text-foreground"},ao={class:"text-sm text-muted-foreground"},oo={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},lo={class:"mt-12"},no={__name:"ResultsSection",props:{equipments:{type:Object,required:!0},startDate:{type:String,default:""},endDate:{type:String,default:""},isSearching:{type:Boolean,default:!1}},setup(t){const c=t,n=L(()=>c.equipments.data.length>0),f=L(()=>c.startDate||c.endDate);return(d,o)=>(v(),$("div",Ga,[t.isSearching?(v(),$("div",Qa,o[1]||(o[1]=[s("div",{class:"w-16 h-16 mb-4"},[s("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})],-1),s("h3",{class:"text-lg font-medium text-foreground"},"Recherche en cours...",-1),s("p",{class:"mt-2 text-sm text-muted-foreground"}," Nous recherchons les meilleurs équipements pour vous ",-1)]))):n.value?(v(),$("div",eo,[s("div",to,[s("h2",so,w(t.equipments.total)+" équipement"+w(t.equipments.total>1?"s":"")+" trouvé"+w(t.equipments.total>1?"s":""),1),s("p",ao," Page "+w(t.equipments.current_page)+" sur "+w(t.equipments.last_page),1)]),s("div",oo,[(v(!0),$(Q,null,se(t.equipments.data,a=>(v(),C(Ua,{key:a.id,equipment:a,"start-date":t.startDate,"end-date":t.endDate,class:"transition-all duration-300 ease-in-out"},null,8,["equipment","start-date","end-date"]))),128))]),s("div",lo,[i(Gt,{links:t.equipments.links},null,8,["links"])])])):(v(),$("div",Wa,[s("div",Xa,[f.value?(v(),C(e(cs),{key:0,class:"w-full h-full"})):(v(),C(e(us),{key:1,class:"w-full h-full"}))]),s("h3",Ja,w(f.value?"Aucun équipement trouvé":"Commencez votre recherche"),1),s("p",Ya,w(f.value?"Essayez de modifier vos critères de recherche pour trouver plus de résultats.":"Utilisez la barre de recherche ci-dessus pour trouver l'équipement dont vous avez besoin."),1),f.value?(v(),$("div",Za,[i(e(K),{variant:"outline",onClick:o[0]||(o[0]=a=>d.$emit("reset-filters"))},{default:p(()=>o[2]||(o[2]=[I(" Réinitialiser les filtres ")])),_:1,__:[2]})])):F("",!0)]))]))}},ro={key:0,class:"relative pb-12"},To={__name:"Home",props:{equipments:{type:Object,required:!0},filters:{type:Object,default:()=>({})},stats:{type:Object,default:()=>({min_price:0,max_price:1e3,categories:[]})}},setup(t){const c=V(!1),n=Ie(),f=n.props.name,d=n.props.auth.user;return(o,a)=>(v(),C(xt,{title:"Location et prêt de matériel événementiel",description:`${e(f)} facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements.`},{default:p(()=>[e(d)?F("",!0):(v(),$("section",ro,[i($s)])),s("section",null,[i(Ca,{filters:t.filters,stats:t.stats,onSearching:a[0]||(a[0]=l=>c.value=l)},null,8,["filters","stats"])]),s("section",{class:M(["relative py-12 bg-gradient-to-b from-background via-background/50 to-background",{"mt-8":t.equipments.data.length>0}])},[i(no,{equipments:t.equipments,"start-date":t.filters.start_date,"end-date":t.filters.end_date,isSearching:c.value},null,8,["equipments","start-date","end-date","isSearching"])],2)]),_:1},8,["description"]))}};export{To as default};
