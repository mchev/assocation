import V from"./Layout-CN22vBlH.js";import{_ as j}from"./index-DI6RvLef.js";import{_ as g}from"./index-C12ZVvTv.js";import{_ as b,a as $}from"./index-BFC4ZGFK.js";import{_ as k}from"./AlertDescription.vue_vue_type_script_setup_true_lang-CeKgvram.js";import{c as f,o as m,w as l,a as s,b as e,u as t,J as c,d as r,t as n,n as B,g as v,f as N,F as R,r as A}from"./app-B4qOAnfi.js";import{_ as D,a as E,b as C,c as d,d as I,e as u}from"./TableHeader.vue_vue_type_script_setup_true_lang-DynRcrHG.js";import{_ as x,a as p}from"./CardContent.vue_vue_type_script_setup_true_lang-Dxs8B7Cc.js";import{_ as y,a as h}from"./CardTitle.vue_vue_type_script_setup_true_lang-BMtyeea1.js";import{A as S}from"./arrow-left-zvdFuDQe.js";import{B as z}from"./building-CAPUiTJN.js";import{X as T}from"./useForwardPropsEmits-Jyk7U837.js";import{b as M,U as J}from"./FlashMessage-D_-HBX8k.js";import{C as L}from"./clock-By_Vf2dX.js";import{P as Q}from"./plus-B3taoEdH.js";import{P as F,T as H}from"./trash-2-D-B-nsNP.js";import{M as O}from"./mail-CV61DQsi.js";import{P as U}from"./phone-CYq2d0s-.js";import{c as X}from"./createLucideIcon-BZQQAVQF.js";import{C as G}from"./circle-alert-BfIKQPG8.js";import"./AppLayout-C2RBtAmW.js";import"./upload-_xxpYeUM.js";import"./useForwardExpose-BhbG1jVO.js";import"./UserDropdown-Bfa6tj0l.js";import"./package-Bpb1lRVT.js";import"./loader-circle-I9gtGeU6.js";import"./Input.vue_vue_type_script_setup_true_lang-CDzGxu88.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=X("MessageSquareQuoteIcon",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]),W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 py-8"},Y={class:"bg-white rounded-lg shadow-sm p-6"},Z={class:"mb-6"},tt={class:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4 mb-6"},st={class:"flex-1"},et={class:"text-2xl sm:text-3xl font-bold text-gray-900"},at={class:"flex items-center gap-2 mt-2"},lt={class:"text-lg sm:text-xl font-semibold text-gray-600"},it={class:"flex flex-col items-start sm:items-end gap-2"},rt={class:"flex gap-2"},nt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6"},ot={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},dt={class:"flex items-start gap-3"},ut={class:"text-gray-900"},mt={class:"flex items-start gap-3"},ft={class:"text-gray-900"},_t={class:"flex items-start gap-3"},gt={class:"text-gray-900"},ct={class:"flex items-start gap-3"},vt={class:"text-gray-900"},xt={class:"flex items-start gap-3"},pt={class:"text-gray-900"},yt={class:"flex items-start gap-3"},ht={class:"text-gray-900"},wt={class:"grid grid-cols-1 gap-6"},bt={class:"flex items-start gap-3"},$t={class:"text-gray-900"},kt={class:"flex items-start gap-3"},Ct={class:"text-gray-900"},zt={class:"flex items-start gap-3"},Mt={class:"text-gray-900"},qt={class:"text-sm whitespace-pre-wrap"},Pt={class:"flex justify-between items-center"},Vt={class:"text-right"},jt={class:"text-xl font-bold text-gray-900"},rs={__name:"Edit",props:{reservation:{type:Object,required:!0}},setup(i){const w=i,q=()=>{confirm("Voulez-vous vraiment annuler cette réservation ?")&&c.delete(route("app.organizations.reservations.in.destroy",{reservation:w.reservation.id}))},P=_=>{confirm("Voulez-vous vraiment retirer cet équipement de la réservation ?")&&c.delete(route("organizations.reservations.in.items.destroy",{reservation:w.reservation.id,item:_}))};return(_,a)=>(m(),f(V,{title:"Réservation du "+i.reservation.start_date+" au "+i.reservation.end_date},{default:l(()=>[s("div",W,[s("div",Y,[s("div",Z,[e(t(g),{variant:"ghost",class:"gap-2",onClick:a[0]||(a[0]=o=>t(c).visit(_.route("app.organizations.reservations.in.index")))},{default:l(()=>[e(t(S),{class:"h-4 w-4"}),a[1]||(a[1]=r(" Retour aux réservations "))]),_:1,__:[1]})]),s("div",tt,[s("div",st,[s("h1",et," Réservation du "+n(i.reservation.start_date)+" au "+n(i.reservation.end_date),1),s("div",at,[e(t(z),{class:"h-4 w-4 text-gray-500"}),s("h2",lt,n(i.reservation.from_organization.name),1)])]),s("div",it,[e(t(j),{class:B(`${i.reservation.status_color}`)},{default:l(()=>[r(n(i.reservation.status_label),1)]),_:1},8,["class"]),s("div",rt,[["pending","confirmed"].includes(i.reservation.status)?(m(),f(t(g),{key:0,variant:"destructive",size:"sm",onClick:q},{default:l(()=>[e(t(T),{class:"h-4 w-4"}),a[2]||(a[2]=r(" Annuler la réservation "))]),_:1,__:[2]})):v("",!0)])])]),s("div",nt,[e(t(x),null,{default:l(()=>[e(t(y),null,{default:l(()=>[e(t(h),{class:"text-lg"},{default:l(()=>a[3]||(a[3]=[r("Détails de la réservation")])),_:1,__:[3]})]),_:1}),e(t(p),null,{default:l(()=>[s("div",ot,[s("div",dt,[e(t(M),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[4]||(a[4]=s("h3",{class:"text-sm font-medium text-gray-500"},"Récupération",-1)),s("p",ut,n(i.reservation.start_date),1)])]),s("div",mt,[e(t(M),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[5]||(a[5]=s("h3",{class:"text-sm font-medium text-gray-500"},"Retour",-1)),s("p",ft,n(i.reservation.end_date),1)])]),s("div",_t,[e(t(L),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[6]||(a[6]=s("h3",{class:"text-sm font-medium text-gray-500"},"Durée",-1)),s("p",gt,n(i.reservation.duration)+" jours",1)])]),s("div",ct,[e(t(z),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[7]||(a[7]=s("h3",{class:"text-sm font-medium text-gray-500"},"Organisation emprunteuse",-1)),s("p",vt,n(i.reservation.to_organization.name),1)])]),s("div",xt,[e(t(Q),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[8]||(a[8]=s("h3",{class:"text-sm font-medium text-gray-500"},"Créée le",-1)),s("p",pt,n(i.reservation.created_at),1)])]),s("div",yt,[e(t(F),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[9]||(a[9]=s("h3",{class:"text-sm font-medium text-gray-500"},"Dernière mise à jour",-1)),s("p",ht,n(i.reservation.updated_at),1)])])])]),_:1})]),_:1}),e(t(x),null,{default:l(()=>[e(t(y),null,{default:l(()=>[e(t(h),{class:"text-lg"},{default:l(()=>a[10]||(a[10]=[r("Contact")])),_:1,__:[10]})]),_:1}),e(t(p),null,{default:l(()=>[s("div",wt,[s("div",bt,[e(t(J),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[11]||(a[11]=s("h3",{class:"text-sm font-medium text-gray-500"},"Nom",-1)),s("p",$t,n(i.reservation.user.name),1)])]),s("div",kt,[e(t(O),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[12]||(a[12]=s("h3",{class:"text-sm font-medium text-gray-500"},"Email",-1)),s("p",Ct,n(i.reservation.user.email),1)])]),s("div",zt,[e(t(U),{class:"h-5 w-5 text-gray-500 mt-0.5"}),s("div",null,[a[13]||(a[13]=s("h3",{class:"text-sm font-medium text-gray-500"},"Téléphone",-1)),s("p",Mt,n(i.reservation.user.phone||"Non renseigné"),1)])])])]),_:1})]),_:1})]),e(t(b),{class:"mb-6"},{default:l(()=>[e(t(K),{class:"h-4 w-4"}),e(t($),null,{default:l(()=>a[14]||(a[14]=[r("Message de la demande")])),_:1,__:[14]}),e(t(k),null,{default:l(()=>[s("div",qt,n(i.reservation.notes),1)]),_:1})]),_:1}),e(t(b),{variant:"warning",class:"mb-6"},{default:l(()=>[e(t(G),{class:"h-4 w-4"}),e(t($),null,{default:l(()=>a[15]||(a[15]=[r("Information importante")])),_:1,__:[15]}),e(t(k),null,{default:l(()=>a[16]||(a[16]=[r(" Pour garantir la sécurité du matériel, les informations de localisation ne sont pas visibles sur cette page."),s("br",null,null,-1),r(" Merci de contacter directement l'organisation pour organiser la récupération. ")])),_:1,__:[16]})]),_:1}),e(t(x),null,{default:l(()=>[e(t(y),null,{default:l(()=>[s("div",Pt,[e(t(h),{class:"text-lg"},{default:l(()=>a[17]||(a[17]=[r("Matériel réservé")])),_:1,__:[17]}),s("div",Vt,[a[18]||(a[18]=s("p",{class:"text-sm text-gray-600"},"Prix total",-1)),s("p",jt,n(i.reservation.total)+" €",1)])])]),_:1}),e(t(p),null,{default:l(()=>[e(t(D),null,{default:l(()=>[e(t(E),null,{default:l(()=>[e(t(C),null,{default:l(()=>[e(t(d),null,{default:l(()=>a[19]||(a[19]=[r("Équipement")])),_:1,__:[19]}),e(t(d),null,{default:l(()=>a[20]||(a[20]=[r("Qté")])),_:1,__:[20]}),e(t(d),null,{default:l(()=>a[21]||(a[21]=[r("Jours")])),_:1,__:[21]}),e(t(d),null,{default:l(()=>a[22]||(a[22]=[r("Prix/jour")])),_:1,__:[22]}),e(t(d),null,{default:l(()=>a[23]||(a[23]=[r("Sous-total")])),_:1,__:[23]}),e(t(d),null,{default:l(()=>a[24]||(a[24]=[r("Caution")])),_:1,__:[24]}),e(t(d),null,{default:l(()=>a[25]||(a[25]=[r("Emplacement")])),_:1,__:[25]}),i.reservation.status==="pending"?(m(),f(t(d),{key:0,class:"w-[100px]"})):v("",!0)]),_:1})]),_:1}),e(t(I),null,{default:l(()=>[(m(!0),N(R,null,A(i.reservation.items,o=>(m(),f(t(C),{key:o.id},{default:l(()=>[e(t(u),{class:"font-medium"},{default:l(()=>[r(n(o.equipment.name),1)]),_:2},1024),e(t(u),null,{default:l(()=>[r(n(o.quantity),1)]),_:2},1024),e(t(u),null,{default:l(()=>[r(n(i.reservation.duration),1)]),_:1}),e(t(u),null,{default:l(()=>[r(n(o.price)+" €",1)]),_:2},1024),e(t(u),null,{default:l(()=>[r(n(o.total_price)+" €",1)]),_:2},1024),e(t(u),null,{default:l(()=>[r(n(o.equipment.deposit_amount)+" €",1)]),_:2},1024),e(t(u),null,{default:l(()=>[r(n(o.city),1)]),_:2},1024),i.reservation.status==="pending"?(m(),f(t(u),{key:0},{default:l(()=>[e(t(g),{variant:"ghost",size:"icon",class:"text-destructive hover:text-destructive/90",onClick:Bt=>P(o.id)},{default:l(()=>[e(t(H),{class:"h-4 w-4"})]),_:2},1032,["onClick"])]),_:2},1024)):v("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1},8,["title"]))}};export{rs as default};
