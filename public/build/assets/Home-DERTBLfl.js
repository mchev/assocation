import{q as R,d as e,j as P,x as vt,k as V,y as ue,J as Z,c as I,o as f,w as p,m as M,h as O,b as m,K as ee,f as J,am as ht,s as te,v as Ve,B as N,an as gt,H as Ee,g as b,a as l,e as T,t as E,l as Ne,F as G,r as W,n as Q,G as yt,T as xt,z as Ge,Q as We,M as pe,a5 as _t,u as bt,ao as Ke,C as kt}from"./app-BYBpYXXc.js";import{_ as wt}from"./AppLayout-C0_z0Zdy.js";import{_ as Ct,a as $t}from"./CardContent.vue_vue_type_script_setup_true_lang-C0yh-7SO.js";import{P as Y,_ as X,c as se}from"./index-D8Kwwrsm.js";import{c as de,b as he,i as St,X as ce,u as Qe,d as Xe}from"./Teleport-nsFEvGTL.js";import{A as qt}from"./arrow-right-NI_IBRJC.js";import{S as Vt}from"./sparkles-YBxju8Ea.js";import{S as Et}from"./shield-check-BM8CReEK.js";import{c as me}from"./createLucideIcon-BPhbyT7J.js";import{U as It}from"./users-X_r0G8GA.js";import{a as Lt,b as jt,c as Tt,d as ne,_ as zt}from"./SelectValue.vue_vue_type_script_setup_true_lang-CTlmDD2d.js";import{_ as le}from"./Label.vue_vue_type_script_setup_true_lang-DkiSUhnn.js";import{j as Ie,m as Bt,s as Je,u as Ft,p as Ot,e as Rt,f as Pt,g as Mt}from"./UserDropdown-B0_B6Z2W.js";import{f as Le,h as Kt,_ as Dt}from"./FlashMessage-jUUGV3Bi.js";import{_ as je,a as Te,b as ze}from"./PopoverTrigger.vue_vue_type_script_setup_true_lang-Diy3o7Ad.js";import{d as At}from"./debounce-BGDmtvsu.js";import{M as De}from"./map-pin-Dkw44MBK.js";import{i as Ce}from"./ohash.D__AXeF1-DHF4M4F_.js";import{u as Ut}from"./useFormControl-BBew3k2S.js";import{u as Ht}from"./useKbd-kRIii9yh.js";import{V as Nt}from"./VisuallyHiddenInput-C3xqGlcu.js";import{b as Ye,h as ke,g as Gt,u as Wt,r as ae,v as Qt}from"./useForwardExpose-C_9AdpuD.js";import{_ as Ze}from"./index-DvJ-ZFn7.js";import{C as $e}from"./check-Dono6wyA.js";import{C as Xt}from"./circle-help-BvxkxeEk.js";import{I as Jt}from"./image-DCh9cgWV.js";import{L as Yt}from"./loader-circle-CXEBVQ--.js";import"./useNonce-CAp0vwUU.js";import"./chevron-down-BSrtHEMY.js";import"./nullish-CHIgUVhi.js";import"./package-Bz3lVHSv.js";import"./Input.vue_vue_type_script_setup_true_lang-BudlBpqL.js";import"./plus-BS9TlObs.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=me("ChevronsUpDownIcon",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=me("LayoutListIcon",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=me("PackageSearchIcon",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=me("SearchXIcon",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=me("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);function as(t,o,a){const i=t.findIndex(s=>Ce(s,o)),d=t.findIndex(s=>Ce(s,a));if(i===-1||d===-1)return[];const[u,n]=[i,d].sort((s,c)=>s-c);return t.slice(u,n+1)}function os(t){const o=R(()=>e(t)),a=R(()=>new Intl.Collator("en",{usage:"search",...o.value}));return{startsWith:(n,s)=>s.length===0?!0:(n=n.normalize("NFC"),s=s.normalize("NFC"),a.value.compare(n.slice(0,s.length),s)===0),endsWith:(n,s)=>s.length===0?!0:(n=n.normalize("NFC"),s=s.normalize("NFC"),a.value.compare(n.slice(-s.length),s)===0),contains:(n,s)=>{if(s.length===0)return!0;n=n.normalize("NFC"),s=s.normalize("NFC");let c=0;const v=s.length;for(;c+v<=n.length;c++){const y=n.slice(c,c+v);if(a.value.compare(s,y)===0)return!0}return!1}}}function ns(t,o,a){return t===void 0?!1:Array.isArray(t)?t.some(i=>ie(i,o,a)):ie(t,o,a)}function ie(t,o,a){return t===void 0||o===void 0?!1:typeof t=="string"?t===o:typeof a=="function"?a(t,o):typeof a=="string"?(t==null?void 0:t[a])===(o==null?void 0:o[a]):Ce(t,o)}const[Be,ls]=de("ListboxRoot");var rs=P({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{expose:o,emit:a}){const i=t,d=a,{multiple:u,highlightOnHover:n,orientation:s,disabled:c,selectionBehavior:v,dir:y}=vt(i),{getItems:r}=Ie({isProvider:!0}),{handleTypeaheadSearch:w}=Bt(),{primitiveElement:$,currentElement:x}=Je(),S=Ht(),_=Ft(y),k=Ut(x),h=V(),L=V(!1),K=V(!0),z=Ye(i,"modelValue",d,{defaultValue:i.defaultValue??(u.value?[]:void 0),passive:i.modelValue===void 0,deep:!0});function B(g){if(L.value=!0,i.multiple){const C=Array.isArray(z.value)?[...z.value]:[],q=C.findIndex(F=>ie(F,g,i.by));i.selectionBehavior==="toggle"?(q===-1?C.push(g):C.splice(q,1),z.value=C):(z.value=[g],h.value=g)}else i.selectionBehavior==="toggle"&&ie(z.value,g,i.by)?z.value=void 0:z.value=g;setTimeout(()=>{L.value=!1},1)}const j=V(null),D=V(null),A=V(!1),ye=V(!1),Fe=ke(),xe=ke(),Oe=ke();function _e(){return r().map(g=>g.ref).filter(g=>g.dataset.disabled!=="")}function U(g,C=!0){if(!g)return;j.value=g,K.value&&j.value.focus(),C&&j.value.scrollIntoView({block:"nearest"});const q=r().find(F=>F.ref===g);d("highlight",q)}function rt(g){if(A.value)Oe.trigger(g);else{const C=r().find(q=>ie(q.value,g,i.by));C&&(j.value=C.ref,U(C.ref))}}function it(g){j.value&&j.value.isConnected&&(g.preventDefault(),g.stopPropagation(),ye.value||j.value.click())}function ut(g){if(K.value){if(L.value=!0,A.value)xe.trigger(g);else{const C=g.altKey||g.ctrlKey||g.metaKey;if(C&&g.key==="a"&&u.value){const q=r(),F=q.map(H=>H.value);z.value=[...F],g.preventDefault(),U(q[q.length-1].ref)}else if(!C){const q=w(g.key,r());q&&U(q)}}setTimeout(()=>{L.value=!1},1)}}function dt(){ye.value=!0}function ct(){Z(()=>{ye.value=!1})}function Re(){Z(()=>{const g=new KeyboardEvent("keydown",{key:"PageUp"});Pe(g)})}function be(g){const C=j.value;C!=null&&C.isConnected&&(D.value=C),j.value=null,d("leave",g)}function mt(g){var q,F;const C=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((q=g.currentTarget)==null||q.dispatchEvent(C),d("entryFocus",C),!C.defaultPrevented)if(D.value)U(D.value);else{const H=(F=_e())==null?void 0:F[0];U(H)}}function Pe(g){const C=Ot(g,s.value,_.value);if(!C)return;let q=_e();if(j.value){if(C==="last")q.reverse();else if(C==="prev"||C==="next"){C==="prev"&&q.reverse();const F=q.indexOf(j.value);q=q.slice(F+1)}ft(g,q[0])}if(q.length){const F=!j.value&&C==="prev"?q.length-1:0;U(q[F])}if(A.value)return xe.trigger(g)}function ft(g,C){var F;if(!(A.value||i.selectionBehavior!=="replace"||!u.value||!Array.isArray(z.value)||(g.altKey||g.ctrlKey||g.metaKey)&&!g.shiftKey)&&g.shiftKey){const H=r().filter(oe=>oe.ref.dataset.disabled!=="");let fe=(F=H.find(oe=>oe.ref===C))==null?void 0:F.value;if(g.key===S.END?fe=H[H.length-1].value:g.key===S.HOME&&(fe=H[0].value),!fe||!h.value)return;const pt=as(H.map(oe=>oe.value),h.value,fe);z.value=pt}}async function Me(g){if(await Z(),A.value)Fe.trigger(g);else{const C=_e(),q=C.find(F=>F.dataset.state==="checked");q?U(q):C.length&&U(C[0])}}return ue(z,()=>{L.value||Z(()=>{Me()})},{immediate:!0,deep:!0}),o({highlightedElement:j,highlightItem:rt,highlightFirstItem:Re,highlightSelected:Me,getItems:r}),ls({modelValue:z,onValueChange:B,multiple:u,orientation:s,dir:_,disabled:c,highlightOnHover:n,highlightedElement:j,isVirtual:A,virtualFocusHook:Fe,virtualKeydownHook:xe,virtualHighlightHook:Oe,by:i.by,firstValue:h,selectionBehavior:v,focusable:K,onLeave:be,onEnter:mt,changeHighlight:U,onKeydownEnter:it,onKeydownNavigation:Pe,onKeydownTypeAhead:ut,onCompositionStart:dt,onCompositionEnd:ct,highlightFirstItem:Re}),(g,C)=>(f(),I(e(Y),{ref_key:"primitiveElement",ref:$,as:g.as,"as-child":g.asChild,dir:e(_),"data-disabled":e(c)?"":void 0,onPointerleave:be,onFocusout:C[0]||(C[0]=async q=>{const F=q.relatedTarget||q.target;await Z(),j.value&&e(x)&&!e(x).contains(F)&&be(q)})},{default:p(()=>[M(g.$slots,"default",{modelValue:e(z)}),e(k)&&g.name?(f(),I(e(Nt),{key:0,name:g.name,value:e(z),disabled:e(c),required:g.required},null,8,["name","value","disabled","required"])):O("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),is=rs,us=P({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const{CollectionSlot:o}=Ie(),a=Be(),i=Gt(!1,10);return(d,u)=>(f(),I(e(o),null,{default:p(()=>[m(e(Y),{role:"listbox",as:d.as,"as-child":d.asChild,tabindex:e(a).focusable.value?e(a).highlightedElement.value?"-1":"0":void 0,"aria-orientation":e(a).orientation.value,"aria-multiselectable":!!e(a).multiple.value,"data-orientation":e(a).orientation.value,onMousedown:u[0]||(u[0]=J(n=>i.value=!0,["left"])),onFocus:u[1]||(u[1]=n=>{e(i)||e(a).onEnter(n)}),onKeydown:[u[2]||(u[2]=ee(J(n=>{e(a).focusable.value&&e(a).onKeydownNavigation(n)},["prevent"]),["down","up","left","right","home","end"])),ee(e(a).onKeydownEnter,["enter"]),e(a).onKeydownTypeAhead]},{default:p(()=>[M(d.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),ds=us,cs=P({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(t,{emit:o}){const a=t,d=Ye(a,"modelValue",o,{defaultValue:"",passive:a.modelValue===void 0}),u=Be(),{primitiveElement:n,currentElement:s}=Je(),c=R(()=>a.disabled||u.disabled.value||!1),v=V();return ht(()=>{var y;return v.value=(y=u.highlightedElement.value)==null?void 0:y.id}),te(()=>{u.focusable.value=!1,setTimeout(()=>{var y;a.autoFocus&&((y=s.value)==null||y.focus())},1)}),Ve(()=>{u.focusable.value=!0}),(y,r)=>(f(),I(e(Y),{ref_key:"primitiveElement",ref:n,as:y.as,"as-child":y.asChild,value:e(d),disabled:c.value?"":void 0,"data-disabled":c.value?"":void 0,"aria-disabled":c.value??void 0,"aria-activedescendant":v.value,type:"text",onKeydown:[ee(J(e(u).onKeydownNavigation,["prevent"]),["down","up","home","end"]),ee(e(u).onKeydownEnter,["enter"])],onInput:r[0]||(r[0]=w=>{d.value=w.target.value,e(u).highlightFirstItem()}),onCompositionstart:e(u).onCompositionStart,onCompositionend:e(u).onCompositionEnd},{default:p(()=>[M(y.$slots,"default",{modelValue:e(d)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),ms=cs;const[fs,ps]=de("ListboxGroup");var vs=P({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const o=t,a=he(void 0,"reka-listbox-group");return ps({id:a}),(i,d)=>(f(),I(e(Y),N({role:"group"},o,{"aria-labelledby":e(a)}),{default:p(()=>[M(i.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),hs=vs,gs=P({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const o=t,a=fs({id:""});return(i,d)=>(f(),I(e(Y),N(o,{id:e(a).id}),{default:p(()=>[M(i.$slots,"default")]),_:3},16,["id"]))}}),ys=gs;const xs="listbox.select",[_n,_s]=de("ListboxItem");var bs=P({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(t,{emit:o}){const a=t,i=o,d=he(void 0,"reka-listbox-item"),{CollectionItem:u}=Ie(),{forwardRef:n,currentElement:s}=Wt(),c=Be(),v=R(()=>s.value===c.highlightedElement.value),y=R(()=>ns(c.modelValue.value,a.value,c.by)),r=R(()=>c.disabled.value||a.disabled);async function w(x){i("select",x),!(x!=null&&x.defaultPrevented)&&!r.value&&x&&(c.onValueChange(a.value),c.changeHighlight(s.value))}function $(x){const S={originalEvent:x,value:a.value};St(xs,w,S)}return _s({isSelected:y}),(x,S)=>(f(),I(e(u),{value:x.value},{default:p(()=>[gt([v.value,y.value],()=>m(e(Y),N({id:e(d)},x.$attrs,{ref:e(n),role:"option",tabindex:e(c).focusable.value?v.value?"0":"-1":-1,"aria-selected":y.value,as:x.as,"as-child":x.asChild,disabled:r.value?"":void 0,"data-disabled":r.value?"":void 0,"data-highlighted":v.value?"":void 0,"data-state":y.value?"checked":"unchecked",onClick:$,onKeydown:ee(J($,["prevent"]),["space"]),onPointermove:S[0]||(S[0]=_=>{e(c).highlightedElement.value!==e(s)&&(e(c).highlightOnHover.value?e(c).changeHighlight(e(s),!1):e(c).focusable.value||e(c).changeHighlight(e(s),!1))})}),{default:p(()=>[M(x.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),S,1)]),_:3},8,["value"]))}}),ks=bs;const ws={key:0,"aria-labelledby":"hero-heading",class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Cs={class:"flex flex-col lg:flex-row items-center gap-8"},$s={class:"flex-1 text-center lg:text-left"},Ss={class:"space-y-4"},qs={class:"text-base text-gray-500 max-w-xl mx-auto lg:mx-0 dark:text-gray-400"},Vs={class:"text-gray-900 dark:text-white"},Es={class:"mt-6 flex flex-wrap items-center gap-3 justify-center lg:justify-start"},Is={class:"flex-shrink-0 lg:w-80"},Ls={class:"rounded-lg p-4"},js={class:"grid gap-3",role:"list"},Ts={class:"text-sm font-medium text-gray-900 dark:text-white"},zs={class:"text-xs text-gray-500 mt-0.5 dark:text-gray-400"},Bs={__name:"HeroSection",setup(t){const a=Ee().props.name,i=V(!0),d=()=>{i.value=!1,localStorage.setItem("heroCardDismissed","true")},u=[{icon:Vt,title:"Gratuit",description:"Pour une association ou un particulier"},{icon:Et,title:"Réservation sécurisée",description:"Processus simple et sûr"},{icon:Zt,title:"Gestion d'inventaire",description:"Suivez votre matériel"},{icon:It,title:"Communauté active",description:"Réseau associatif"}];return(n,s)=>(f(),I(xt,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform -translate-y-4 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-4 opacity-0"},{default:p(()=>[i.value?(f(),b("section",ws,[s[7]||(s[7]=l("div",{class:"absolute inset-0 rounded-2xl"},null,-1)),m(e(Ct),{class:"relative border-none bg-gradient-to-br from-violet-100 via-blue-50 to-background dark:from-violet-950 dark:via-blue-950 dark:to-background"},{default:p(()=>[m(e(X),{variant:"ghost",size:"icon",class:"absolute right-3 top-3 hover:bg-white/80",onClick:d},{default:p(()=>[m(e(ce),{class:"h-4 w-4"}),s[0]||(s[0]=l("span",{class:"sr-only"},"Fermer la bannière d'accueil",-1))]),_:1,__:[0]}),m(e($t),{class:"p-6"},{default:p(()=>[l("div",Cs,[l("div",$s,[l("div",Ss,[s[2]||(s[2]=l("h1",{id:"hero-heading",class:"text-2xl sm:text-3xl font-bold font-title text-gray-900 leading-tight dark:text-white"},[l("span",{class:"inline-block"},[T(" Location et prêt de matériel "),l("span",{class:"bg-gradient-to-r from-violet-600 to-blue-600 bg-clip-text text-transparent whitespace-nowrap dark:from-violet-400 dark:to-blue-400"},"événementiel")]),l("span",{class:"block text-lg sm:text-xl mt-2 text-gray-600 font-medium dark:text-gray-400"}," entre associations et particuliers ")],-1)),l("p",qs,[l("strong",Vs,E(e(a)),1),s[1]||(s[1]=T(" facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements. ",-1))])]),l("div",Es,[m(e(Ne),{href:n.route("discover"),class:"inline-flex items-center px-5 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-violet-600 to-blue-600 text-white hover:from-violet-700 hover:to-blue-700 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-violet-500 dark:from-violet-500 dark:to-blue-500 dark:hover:from-violet-600 dark:hover:to-blue-600"},{default:p(()=>[s[3]||(s[3]=T(" Découvrir la plateforme ",-1)),m(e(qt),{class:"ml-2 h-4 w-4"})]),_:1,__:[3]},8,["href"]),m(e(X),{variant:"outline",as:"a",href:n.route("how-it-works"),class:"text-sm border-violet-200 text-violet-700 hover:text-violet-500 hover:bg-violet-50 dark:border-violet-800 dark:text-violet-300 dark:hover:bg-violet-900"},{default:p(()=>s[4]||(s[4]=[T(" Comment ça marche ? ",-1)])),_:1,__:[4]},8,["href"])])]),s[6]||(s[6]=l("div",{class:"hidden lg:block w-px h-32 bg-gradient-to-b from-violet-200 to-blue-200 self-center dark:from-violet-800 dark:to-blue-800"},null,-1)),l("div",Is,[l("div",Ls,[s[5]||(s[5]=l("h2",{class:"text-sm font-medium text-gray-900 mb-4 dark:text-white"}," Avantages de la plateforme ",-1)),l("ul",js,[(f(),b(G,null,W(u,c=>l("li",{key:c.title,class:"flex items-start gap-3 group"},[l("div",{class:Q(["rounded-md bg-gradient-to-br from-violet-100 to-blue-100 p-2 group-hover:from-violet-200 group-hover:to-blue-200 transition-colors duration-200 dark:from-violet-900 dark:to-blue-900",{"from-violet-200 to-blue-200 dark:from-violet-800 dark:to-blue-800":c.title==="Gratuit"}])},[(f(),I(yt(c.icon),{class:"w-4 h-4 text-violet-600 dark:text-violet-400"}))],2),l("div",null,[l("h3",Ts,E(c.title),1),l("p",zs,E(c.description),1)])])),64))])])])])]),_:1})]),_:1})])):O("",!0)]),_:1}))}},Fs={class:"flex items-center border rounded-lg shadow-md bg-background"},Os={class:"pl-3 text-muted-foreground"},Rs=["onKeydown"],Ps={__name:"SearchInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","search:submit"],setup(t,{emit:o}){const a=t,i=o,d=V(null),u=R({get(){return a.modelValue},set(c){i("update:modelValue",c)}}),n=()=>{u.value="",Z(()=>{var c;(c=d.value)==null||c.focus()})},s=()=>{i("search:submit",u.value)};return(c,v)=>(f(),b("div",Fs,[l("span",Os,[m(e(Le),{class:"h-5 w-5"})]),Ge(l("input",{ref_key:"inputRef",ref:d,"onUpdate:modelValue":v[0]||(v[0]=y=>u.value=y),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Que recherchez-vous ?",onKeydown:ee(J(s,["prevent"]),["enter"]),autocomplete:"off"},null,40,Rs),[[We,u.value]]),u.value?(f(),b("button",{key:0,onMousedown:J(n,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[m(e(ce),{class:"h-4 w-4"})],32)):O("",!0)]))}},Ms={class:"relative w-full"},Ks={class:"flex items-center border rounded-lg shadow-md bg-background"},Ds={class:"pl-3 text-muted-foreground"},As={key:0,class:"py-6 text-center text-sm text-muted-foreground"},Us={key:1,class:"py-6 text-center text-sm text-destructive"},Hs={key:2,class:"py-6 text-center text-sm text-muted-foreground"},Ns={key:3,class:"max-h-[300px] overflow-y-auto"},Gs=["onClick"],Ws={class:"flex flex-col"},Qs={class:"text-xs text-muted-foreground"},Xs={__name:"CityInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","selected"],setup(t,{emit:o}){const a=t,i=o,d=V(a.modelValue),u=V([]),n=V(!1),s=V(!1),c=V(""),v=V(null),y=At(async $=>{if($.length<3){u.value=[],n.value=!1,c.value="";return}s.value=!0,n.value=!0,c.value="";try{const x=await pe.get(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent($)}&type=municipality&limit=5`);if(!x.data.features||x.data.features.length===0){u.value=[];return}u.value=x.data.features.map(S=>({id:S.properties.id,name:S.properties.city,postcode:S.properties.postcode,coordinates:{lat:S.geometry.coordinates[1],lng:S.geometry.coordinates[0]}}))}catch(x){console.error("Error fetching city suggestions:",x),u.value=[],x.value="Erreur lors de la recherche de villes. Veuillez réessayer."}finally{s.value=!1}},150);ue(d,$=>{i("update:modelValue",$),$.length>=3&&$!==v.value?y($):(u.value=[],n.value=!1)});const r=$=>{v.value=$.name+" ("+$.postcode+")",d.value=v.value,c.value="";const x={name:$.name,lat:$.coordinates.lat,lng:$.coordinates.lng,postcode:$.postcode,departement:$.postcode.substring(0,2)};i("selected",x),n.value=!1},w=()=>{d.value="",u.value=[],n.value=!1,c.value="",v.value=null,i("update:modelValue",""),i("selected",null)};return($,x)=>(f(),b("div",Ms,[m(e(ze),{open:n.value,"onUpdate:open":x[1]||(x[1]=S=>n.value=S)},{default:p(()=>[m(e(je),{asChild:""},{default:p(()=>[l("div",Ks,[l("span",Ds,[m(e(De),{class:"h-5 w-5"})]),Ge(l("input",{"onUpdate:modelValue":x[0]||(x[0]=S=>d.value=S),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Ajouter une localisation"},null,512),[[We,d.value]]),d.value?(f(),b("button",{key:0,onMousedown:J(w,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[m(e(ce),{class:"h-4 w-4"})],32)):O("",!0)])]),_:1}),m(e(Te),{class:"w-full p-0",align:"start"},{default:p(()=>[s.value?(f(),b("div",As,x[2]||(x[2]=[l("div",{class:"flex items-center justify-center"},[l("div",{class:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),l("span",{class:"ml-2"},"Recherche en cours...")],-1)]))):c.value?(f(),b("div",Us,E(c.value),1)):u.value.length===0?(f(),b("div",Hs," Aucun résultat trouvé ")):(f(),b("div",Ns,[(f(!0),b(G,null,W(u.value,S=>(f(),b("div",{key:S.id,class:"flex items-center gap-2 px-4 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground",onClick:_=>r(S)},[m(e(De),{class:"h-4 w-4 text-muted-foreground"}),l("div",Ws,[l("span",null,E(S.name),1),l("span",Qs,E(S.postcode),1)])],8,Gs))),128))]))]),_:1})]),_:1},8,["open"])]))}},tt=P({__name:"Command",props:{modelValue:{default:""},defaultValue:{},multiple:{type:Boolean},orientation:{},dir:{},disabled:{type:Boolean},selectionBehavior:{},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{emit:o}){const a=t,i=o,d=ae(a,"class"),u=Qe(d,i),n=V(new Map),s=V(new Map),{contains:c}=os({sensitivity:"base"}),v=_t({search:"",filtered:{count:0,items:new Map,groups:new Set}});function y(){if(!v.search){v.filtered.count=n.value.size;return}v.filtered.groups=new Set;let r=0;for(const[w,$]of n.value){const x=c($,v.search);v.filtered.items.set(w,x?1:0),x&&r++}for(const[w,$]of s.value)for(const x of $)if(v.filtered.items.get(x)>0){v.filtered.groups.add(w);break}v.filtered.count=r}return ue(()=>v.search,()=>{y()}),ea({allItems:n,allGroups:s,filterState:v}),(r,w)=>(f(),I(e(is),N({"data-slot":"command"},e(u),{class:e(se)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",a.class)}),{default:p(()=>[M(r.$slots,"default")]),_:3},16,["class"]))}}),st=P({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const o=t,a=ae(o,"class"),{filterState:i}=ge(),d=R(()=>!!i.search&&i.filtered.count===0);return(u,n)=>d.value?(f(),I(e(Y),N({key:0,"data-slot":"command-empty"},e(a),{class:e(se)("py-6 text-center text-sm",o.class)}),{default:p(()=>[M(u.$slots,"default")]),_:3},16,["class"])):O("",!0)}}),at=P({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(t){const o=t,a=ae(o,"class"),{allGroups:i,filterState:d}=ge(),u=he(),n=R(()=>d.search?d.filtered.groups.has(u):!0);return sa({id:u}),te(()=>{i.value.has(u)||i.value.set(u,new Set)}),Ve(()=>{i.value.delete(u)}),(s,c)=>(f(),I(e(hs),N(e(a),{id:e(u),"data-slot":"command-group",class:e(se)("text-foreground overflow-hidden p-1",o.class),hidden:n.value?void 0:!0}),{default:p(()=>[s.heading?(f(),I(e(ys),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:p(()=>[T(E(s.heading),1)]),_:1})):O("",!0),M(s.$slots,"default")]),_:3},16,["id","class","hidden"]))}}),Js={"data-slot":"command-input-wrapper",class:"flex h-12 items-center gap-2 border-b px-3"},ot=P({inheritAttrs:!1,__name:"CommandInput",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const o=t,a=ae(o,"class"),i=Xe(a),{filterState:d}=ge();return(u,n)=>(f(),b("div",Js,[m(e(Le),{class:"size-4 shrink-0 opacity-50"}),m(e(ms),N({...e(i),...u.$attrs},{modelValue:e(d).search,"onUpdate:modelValue":n[0]||(n[0]=s=>e(d).search=s),"data-slot":"command-input","auto-focus":"",class:e(se)("placeholder:text-muted-foreground flex h-12 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",o.class)}),null,16,["modelValue","class"])]))}}),Se=P({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(t,{emit:o}){const a=t,i=o,d=ae(a,"class"),u=Qe(d,i),n=he(),{filterState:s,allItems:c,allGroups:v}=ge(),y=ta(),r=R(()=>{if(s.search){const x=s.filtered.items.get(n);return x===void 0?!0:x>0}else return!0}),w=V(),$=Qt(w);return te(()=>{var S,_;if(!($.value instanceof HTMLElement))return;c.value.set(n,$.value.textContent??((S=a.value)==null?void 0:S.toString())??"");const x=y==null?void 0:y.id;x&&(v.value.has(x)?(_=v.value.get(x))==null||_.add(n):v.value.set(x,new Set([n])))}),Ve(()=>{c.value.delete(n)}),(x,S)=>r.value?(f(),I(e(ks),N({key:0},e(u),{id:e(n),ref_key:"itemRef",ref:w,"data-slot":"command-item",class:e(se)("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-3 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a.class),onSelect:S[0]||(S[0]=()=>{e(s).search=""})}),{default:p(()=>[M(x.$slots,"default")]),_:3},16,["id","class"])):O("",!0)}}),Ys={role:"presentation"},Zs=P({__name:"CommandList",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const o=t,a=ae(o,"class"),i=Xe(a);return(d,u)=>(f(),I(e(ds),N({"data-slot":"command-list"},e(i),{class:e(se)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",o.class)}),{default:p(()=>[l("div",Ys,[M(d.$slots,"default")])]),_:3},16,["class"]))}}),[ge,ea]=de("Command"),[ta,sa]=de("CommandGroup");var aa=typeof global=="object"&&global&&global.Object===Object&&global,oa=typeof self=="object"&&self&&self.Object===Object&&self,nt=aa||oa||Function("return this")(),ve=nt.Symbol,lt=Object.prototype,na=lt.hasOwnProperty,la=lt.toString,re=ve?ve.toStringTag:void 0;function ra(t){var o=na.call(t,re),a=t[re];try{t[re]=void 0;var i=!0}catch{}var d=la.call(t);return i&&(o?t[re]=a:delete t[re]),d}var ia=Object.prototype,ua=ia.toString;function da(t){return ua.call(t)}var ca="[object Null]",ma="[object Undefined]",Ae=ve?ve.toStringTag:void 0;function fa(t){return t==null?t===void 0?ma:ca:Ae&&Ae in Object(t)?ra(t):da(t)}function pa(t){return t!=null&&typeof t=="object"}var va="[object Symbol]";function ha(t){return typeof t=="symbol"||pa(t)&&fa(t)==va}var ga=/\s/;function ya(t){for(var o=t.length;o--&&ga.test(t.charAt(o)););return o}var xa=/^\s+/;function _a(t){return t&&t.slice(0,ya(t)+1).replace(xa,"")}function qe(t){var o=typeof t;return t!=null&&(o=="object"||o=="function")}var Ue=NaN,ba=/^[-+]0x[0-9a-f]+$/i,ka=/^0b[01]+$/i,wa=/^0o[0-7]+$/i,Ca=parseInt;function He(t){if(typeof t=="number")return t;if(ha(t))return Ue;if(qe(t)){var o=typeof t.valueOf=="function"?t.valueOf():t;t=qe(o)?o+"":o}if(typeof t!="string")return t===0?t:+t;t=_a(t);var a=ka.test(t);return a||wa.test(t)?Ca(t.slice(2),a?2:8):ba.test(t)?Ue:+t}var we=function(){return nt.Date.now()},$a="Expected a function",Sa=Math.max,qa=Math.min;function Va(t,o,a){var i,d,u,n,s,c,v=0,y=!1,r=!1,w=!0;if(typeof t!="function")throw new TypeError($a);o=He(o)||0,qe(a)&&(y=!!a.leading,r="maxWait"in a,u=r?Sa(He(a.maxWait)||0,o):u,w="trailing"in a?!!a.trailing:w);function $(B){var j=i,D=d;return i=d=void 0,v=B,n=t.apply(D,j),n}function x(B){return v=B,s=setTimeout(k,o),y?$(B):n}function S(B){var j=B-c,D=B-v,A=o-j;return r?qa(A,u-D):A}function _(B){var j=B-c,D=B-v;return c===void 0||j>=o||j<0||r&&D>=u}function k(){var B=we();if(_(B))return h(B);s=setTimeout(k,S(B))}function h(B){return s=void 0,w&&i?$(B):(i=d=void 0,n)}function L(){s!==void 0&&clearTimeout(s),v=0,i=c=d=s=void 0}function K(){return s===void 0?n:h(we())}function z(){var B=we(),j=_(B);if(i=arguments,d=this,c=B,j){if(s===void 0)return x(c);if(r)return clearTimeout(s),s=setTimeout(k,o),$(c)}return s===void 0&&(s=setTimeout(k,o)),n}return z.cancel=L,z.flush=K,z}const Ea={class:"truncate"},Ia={class:"flex items-center justify-between border-b p-2"},La={class:"text-sm text-muted-foreground"},ja={key:0},Ta={key:1},za={key:0,class:"mt-2 flex flex-wrap gap-1"},Ba=["onClick"],Fa={__name:"OrganizationFilter",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:o}){const a=t,i=o,d=V(!1),u=V(""),n=V([]),s=V([]),c=V(!1),v=R(()=>a.modelValue.map(_=>s.value.find(k=>k.id===_)).filter(Boolean)),y=async _=>{if(_.length===0)return;const k=_.filter(h=>!s.value.some(L=>L.id===h));if(k.length!==0)try{const h=await pe.get(route("api.organizations.index",{"ids[]":k}));s.value.push(...h.data.data)}catch(h){console.error("Error fetching organizations by IDs:",h)}};te(()=>{S(),y(a.modelValue)}),ue(()=>a.modelValue,_=>{y(_)},{deep:!0});const r=_=>a.modelValue.includes(_.id),w=(_,k)=>{k&&k.preventDefault();const h=[...a.modelValue],L=h.indexOf(_.id);L>-1?h.splice(L,1):h.push(_.id),i("update:modelValue",h)},$=_=>{w(_,null)},x=()=>{i("update:modelValue",[])},S=Va(async()=>{c.value=!0;try{const _=await pe.get(route("api.organizations.index",{search:u.value}));n.value=_.data.data,_.data.data.forEach(k=>{s.value.some(h=>h.id===k.id)||s.value.push(k)})}catch(_){console.error("Error searching organizations:",_)}finally{c.value=!1}},300);return(_,k)=>(f(),b("div",null,[m(e(ze),{open:d.value,"onUpdate:open":k[1]||(k[1]=h=>d.value=h)},{default:p(()=>[m(e(je),{asChild:""},{default:p(()=>[m(e(X),{variant:"outline",role:"combobox","aria-expanded":d.value,class:"w-full justify-between"},{default:p(()=>[l("span",Ea,E(v.value.length>0?v.value.map(h=>h.name).join(", "):"Sélectionner une ou plusieurs organisations"),1),m(e(et),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),m(e(Te),{class:"w-[--radix-popover-trigger-width] p-0"},{default:p(()=>[m(e(tt),{"filter-function":h=>h},{default:p(()=>[l("div",Ia,[l("p",La,E(v.value.length)+" sélectionnée(s) ",1),v.value.length>0?(f(),I(e(X),{key:0,variant:"ghost",size:"sm",onClick:x},{default:p(()=>k[2]||(k[2]=[T(" Effacer ",-1)])),_:1,__:[2]})):O("",!0)]),m(e(ot),{modelValue:u.value,"onUpdate:modelValue":[k[0]||(k[0]=h=>u.value=h),e(S)],placeholder:"Rechercher une organisation..."},null,8,["modelValue","onUpdate:modelValue"]),m(e(st),null,{default:p(()=>[c.value?(f(),b("span",ja,"Chargement...")):(f(),b("span",Ta,"Aucune organisation trouvée."))]),_:1}),m(e(at),null,{default:p(()=>[(f(!0),b(G,null,W(n.value,h=>(f(),I(e(Se),{key:h.id,value:h.name,onSelect:L=>w(h,L)},{default:p(()=>[m(e($e),{class:Q(["mr-2 h-4 w-4",r(h)?"opacity-100":"opacity-0"])},null,8,["class"]),T(" "+E(h.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1},8,["filter-function"])]),_:1})]),_:1},8,["open"]),v.value.length>0?(f(),b("div",za,[(f(!0),b(G,null,W(v.value,h=>(f(),I(e(Ze),{key:`selected-${h.id}`,variant:"secondary"},{default:p(()=>[T(E(h.name)+" ",1),l("button",{type:"button",class:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onClick:L=>$(h)},[m(e(ce),{class:"h-3 w-3 text-muted-foreground hover:text-foreground"})],8,Ba)]),_:2},1024))),128))])):O("",!0)]))}},Oa={class:"truncate"},Ra={class:"flex items-center justify-between border-b p-2"},Pa={class:"text-sm text-muted-foreground"},Ma={key:0},Ka={key:1},Da={key:0,class:"mt-2 flex flex-wrap gap-1"},Aa=["onClick"],Ua={__name:"CategoryFilter",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:o}){const a=t,i=o,d=V(!1),u=V(""),n=V([]),s=R(()=>n.value.flatMap(_=>[_,..._.children])),c=V(!1),v=R(()=>a.modelValue.map(_=>s.value.find(k=>k.id===_)).filter(Boolean)),y=async()=>{c.value=!0;try{const _=await pe.get("/api/categories");n.value=_.data}catch(_){console.error("Error fetching categories:",_)}finally{c.value=!1}};te(()=>{y()});const r=_=>a.modelValue.includes(_.id),w=(_,k)=>{k&&k.preventDefault();const h=[...a.modelValue],L=h.indexOf(_.id);L>-1?h.splice(L,1):h.push(_.id),i("update:modelValue",h)},$=_=>{w(_,null)},x=()=>{i("update:modelValue",[])},S=(_,k)=>_.filter(h=>{var K;const L=(K=h.children)==null?void 0:K.some(z=>z.name.toLowerCase().includes(k.toLowerCase()));return h.name.toLowerCase().includes(k.toLowerCase())||L});return(_,k)=>(f(),b("div",null,[m(e(ze),{open:d.value,"onUpdate:open":k[1]||(k[1]=h=>d.value=h)},{default:p(()=>[m(e(je),{asChild:""},{default:p(()=>[m(e(X),{variant:"outline",role:"combobox","aria-expanded":d.value,class:"w-full justify-between"},{default:p(()=>[l("span",Oa,E(v.value.length>0?v.value.map(h=>h.name).join(", "):"Sélectionner une ou plusieurs catégories"),1),m(e(et),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),m(e(Te),{class:"w-[--radix-popover-trigger-width] p-0"},{default:p(()=>[m(e(tt),{"filter-function":S},{default:p(()=>[l("div",Ra,[l("p",Pa,E(v.value.length)+" sélectionnée(s) ",1),v.value.length>0?(f(),I(e(X),{key:0,variant:"ghost",size:"sm",onClick:x},{default:p(()=>k[2]||(k[2]=[T(" Effacer ",-1)])),_:1,__:[2]})):O("",!0)]),m(e(ot),{modelValue:u.value,"onUpdate:modelValue":k[0]||(k[0]=h=>u.value=h),placeholder:"Rechercher une catégorie..."},null,8,["modelValue"]),m(e(st),null,{default:p(()=>[c.value?(f(),b("span",Ma,"Chargement...")):(f(),b("span",Ka,"Aucune catégorie trouvée."))]),_:1}),m(e(Zs),null,{default:p(()=>[(f(!0),b(G,null,W(n.value,h=>(f(),I(e(at),{key:h.id,heading:h.name},{default:p(()=>[m(e(Se),{value:h.name,onSelect:L=>w(h,L)},{default:p(()=>[m(e($e),{class:Q(["mr-2 h-4 w-4",r(h)?"opacity-100":"opacity-0"])},null,8,["class"]),T(" "+E(h.name)+" (toute la catégorie) ",1)]),_:2},1032,["value","onSelect"]),(f(!0),b(G,null,W(h.children,L=>(f(),I(e(Se),{key:L.id,value:L.name,onSelect:K=>w(L,K),class:"pl-8"},{default:p(()=>[m(e($e),{class:Q(["mr-2 h-4 w-4",r(L)?"opacity-100":"opacity-0"])},null,8,["class"]),T(" "+E(L.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:2},1032,["heading"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),v.value.length>0?(f(),b("div",Da,[(f(!0),b(G,null,W(v.value,h=>(f(),I(e(Ze),{key:`selected-${h.id}`,variant:"secondary"},{default:p(()=>[T(E(h.name)+" ",1),l("button",{type:"button",class:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onClick:L=>$(h)},[m(e(ce),{class:"h-3 w-3 text-muted-foreground hover:text-foreground"})],8,Aa)]),_:2},1024))),128))])):O("",!0)]))}},Ha={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Na={class:"relative rounded-xl shadow-xl border border-gray-200/60"},Ga={key:0,class:"px-6 pt-6 pb-4"},Wa={class:"px-6 pb-6"},Qa={class:"flex flex-col md:flex-row gap-4 p-4"},Xa={class:"flex-1"},Ja={class:"flex-1"},Ya={class:"flex items-end"},Za={key:1,class:"h-5 w-5 mr-2"},eo={class:"px-6 pb-6"},to={class:""},so={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},ao={class:"space-y-2"},oo={class:"space-y-2"},no={class:"space-y-2"},lo={__name:"SearchSection",props:{filters:{type:Object,default:()=>({})},stats:{type:Object,required:!0}},emits:["searching"],setup(t,{emit:o}){const i=Ee().props.auth.user,d=t,u=o,n=V(!1),s=bt({search:d.filters.search||"",radius:d.filters.radius||50,categories:d.filters.categories||[],organizations:d.filters.organizations||[],coordinates:d.filters.coordinates||null,city:d.filters.city||null,postcode:d.filters.postcode||null});ue([()=>s.organizations,()=>s.categories,()=>s.radius],()=>{c()},{deep:!0});const c=()=>{s.isDirty&&(n.value=!0,u("searching",n.value),s.get(route("home"),{only:["filters","equipments"],preserveScroll:!0,preserveState:!0,onFinish:()=>{n.value=!1,u("searching",n.value)}}))},v=y=>{s.city=y.name,s.postcode=y.postcode,s.coordinates={lat:y.lat,lng:y.lng},s.radius=s.radius||5,c()};return(y,r)=>(f(),b("div",{class:Q({"relative mt-8":e(i)})},[l("div",Ha,[l("div",Na,[e(i)?O("",!0):(f(),b("div",Ga,r[5]||(r[5]=[l("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Trouvez le matériel dont vous avez besoin",-1),l("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Recherchez parmi des milliers d'équipements disponibles près de chez vous.",-1)]))),l("div",Wa,[l("div",Qa,[l("div",Xa,[m(e(le),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:p(()=>r[6]||(r[6]=[T("Dans quel secteur ?",-1)])),_:1,__:[6]}),m(Xs,{modelValue:e(s).city,"onUpdate:modelValue":r[0]||(r[0]=w=>e(s).city=w),onSelected:v,placeholder:"Entrez une ville ou un code postal"},null,8,["modelValue"])]),l("div",Ja,[m(e(le),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:p(()=>r[7]||(r[7]=[T("Que recherchez-vous ?",-1)])),_:1,__:[7]}),m(Ps,{modelValue:e(s).search,"onUpdate:modelValue":r[1]||(r[1]=w=>e(s).search=w),placeholder:"Ex: Vidéoprojecteur, Enceinte, Table...","onSearch:submit":c},null,8,["modelValue"])]),l("div",Ya,[m(e(X),{type:"submit",size:"lg",disabled:n.value,class:"w-full md:w-auto min-w-[140px] bg-primary hover:bg-primary/90 shadow-sm dark:bg-primary dark:hover:bg-primary/90",onClick:c},{default:p(()=>[n.value?(f(),b("span",Za,r[8]||(r[8]=[l("span",{class:"animate-spin inline-block h-5 w-5 border-[3px] border-current border-t-transparent rounded-full"},null,-1)]))):(f(),I(e(Le),{key:0,class:"h-5 w-5 mr-2"})),T(" "+E(n.value?"Recherche...":"Rechercher"),1)]),_:1},8,["disabled"])])])]),l("div",eo,[l("div",to,[l("div",so,[l("div",ao,[m(e(le),{for:"radius",class:"flex items-center gap-2"},{default:p(()=>[r[10]||(r[10]=T(" Rayon de recherche ",-1)),m(e(Kt),null,{default:p(()=>[m(e(Rt),null,{default:p(()=>[m(e(Pt),null,{default:p(()=>[m(e(Xt),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),m(e(Mt),null,{default:p(()=>r[9]||(r[9]=[l("p",null,"Distance maximale de recherche",-1)])),_:1,__:[9]})]),_:1})]),_:1})]),_:1,__:[10]}),m(e(zt),{modelValue:e(s).radius,"onUpdate:modelValue":r[2]||(r[2]=w=>e(s).radius=w)},{default:p(()=>[m(e(Lt),{id:"radius",class:"w-full bg-white dark:bg-gray-800"},{default:p(()=>[m(e(jt),{placeholder:"Sélectionner un rayon"})]),_:1}),m(e(Tt),null,{default:p(()=>[m(e(ne),{value:"5"},{default:p(()=>r[11]||(r[11]=[T("5 km",-1)])),_:1,__:[11]}),m(e(ne),{value:"10"},{default:p(()=>r[12]||(r[12]=[T("10 km",-1)])),_:1,__:[12]}),m(e(ne),{value:"25"},{default:p(()=>r[13]||(r[13]=[T("25 km",-1)])),_:1,__:[13]}),m(e(ne),{value:"50"},{default:p(()=>r[14]||(r[14]=[T("50 km",-1)])),_:1,__:[14]}),m(e(ne),{value:"100"},{default:p(()=>r[15]||(r[15]=[T("100 km",-1)])),_:1,__:[15]})]),_:1})]),_:1},8,["modelValue"])]),l("div",oo,[m(e(le),null,{default:p(()=>r[16]||(r[16]=[T("Catégories",-1)])),_:1,__:[16]}),m(Ua,{modelValue:e(s).categories,"onUpdate:modelValue":r[3]||(r[3]=w=>e(s).categories=w)},null,8,["modelValue"])]),l("div",no,[m(e(le),{class:"flex items-center gap-2"},{default:p(()=>r[17]||(r[17]=[T(" Filtrer par organisation ",-1)])),_:1,__:[17]}),m(Fa,{modelValue:e(s).organizations,"onUpdate:modelValue":r[4]||(r[4]=w=>e(s).organizations=w)},null,8,["modelValue"])])])])])])])],2))}},ro=["src","alt"],io={key:1,class:"flex h-full w-full items-center justify-center bg-accent/10 text-muted-foreground/30"},uo={class:"flex flex-grow flex-col p-4"},co={class:"flex-grow"},mo={class:"line-clamp-1 font-semibold text-foreground transition-colors duration-200 group-hover:text-primary"},fo={class:"text-sm"},po={class:"font-semibold text-foreground"},vo={class:"mt-2 space-y-2 text-xs text-muted-foreground"},ho={class:"truncate"},go={class:"mt-2 flex items-center text-xs text-muted-foreground"},yo={class:"truncate"},xo={__name:"EquipmentCard",props:{equipment:{type:Object,required:!0}},setup(t){const o=t,a=V(!1),i=R(()=>o.equipment.images&&o.equipment.images.length>0),d=()=>{a.value=!0},u=n=>n==null?"":new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(n);return(n,s)=>(f(),I(e(Ne),{href:n.route("equipments.show",t.equipment),class:"group relative flex flex-col overflow-hidden rounded-xl border border-border/50 bg-card shadow-sm transition-all duration-200 hover:shadow-lg"},{default:p(()=>{var c,v,y,r;return[l("div",{class:Q(["relative block aspect-[4/3] overflow-hidden",{shimmer:i.value&&!a.value}])},[i.value?(f(),b("img",{key:0,src:(c=t.equipment.images[0])==null?void 0:c.url,alt:t.equipment.name,loading:"lazy",class:Q(["h-full w-full object-cover transition-all duration-300 group-hover:scale-105",{"opacity-0":!a.value}]),onLoad:d},null,42,ro)):(f(),b("div",io,[m(e(Jt),{class:"h-12 w-12"})]))],2),l("div",uo,[l("div",co,[l("h3",mo,E(t.equipment.name),1),l("div",fo,[l("span",po,E(u(t.equipment.rental_price)),1),s[0]||(s[0]=l("span",{class:"text-sm text-muted-foreground"}," / jour",-1))]),l("div",vo,[l("span",ho,E(((v=t.equipment.organization)==null?void 0:v.name)||"Particulier")+" - "+E(((y=t.equipment.depot)==null?void 0:y.city)||"Non localisé"),1)]),l("div",go,[m(e(ss),{class:"mr-2 h-4 w-4"}),l("span",yo,E(((r=t.equipment.category)==null?void 0:r.name)||"Sans catégorie"),1)])])])]}),_:1},8,["href"]))}},_o={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},bo={key:0,class:"min-h-[400px] flex flex-col items-center justify-center"},ko={key:1,class:"min-h-[400px] flex flex-col items-center justify-center text-center"},wo={class:"w-24 h-24 text-muted-foreground mb-6"},Co={class:"text-xl font-medium text-foreground"},$o={class:"mt-2 text-base text-muted-foreground max-w-md"},So={key:2},qo={class:"mb-6 flex items-center justify-between"},Vo={class:"text-lg font-medium text-foreground"},Eo={class:"flex items-center space-x-4"},Io={class:"text-sm text-muted-foreground"},Lo={key:0,class:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded"},jo={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},To={class:"flex flex-col items-center space-y-4"},zo={key:0,class:"text-sm text-green-600 bg-green-50 px-4 py-2 rounded-md border border-green-200"},Bo={key:1,class:"flex items-center space-x-2"},Fo={key:1,class:"mt-12 text-center"},Oo={__name:"ResultsSection",props:{equipments:{type:Object,required:!0},startDate:{type:String,default:""},endDate:{type:String,default:""},isSearching:{type:Boolean,default:!1}},setup(t){te(()=>{console.log("WhenVisible component available:",!!Ke),console.log("Current equipments:",o.equipments),console.log("Has more pages:",o.equipments.has_more||o.equipments.next_page_url)});const o=t,a=R(()=>o.equipments.data.length>0),i=R(()=>o.startDate||o.endDate),d=V(!1),u=R(()=>({page:o.equipments.current_page+1,...o.startDate&&{start_date:o.startDate},...o.endDate&&{end_date:o.endDate}})),n=()=>{console.log("WhenVisible: Chargement en cours...")},s=v=>{console.log("WhenVisible: Chargement réussi:",v),d.value=!0,setTimeout(()=>{d.value=!1},2e3)},c=v=>{console.error("WhenVisible: Erreur lors du chargement:",v)};return(v,y)=>(f(),b("div",_o,[t.isSearching?(f(),b("div",bo,y[0]||(y[0]=[l("div",{class:"w-16 h-16 mb-4"},[l("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})],-1),l("h3",{class:"text-lg font-medium text-foreground"},"Recherche en cours...",-1),l("p",{class:"mt-2 text-sm text-muted-foreground"}," Nous recherchons les meilleurs équipements pour vous ",-1)]))):a.value?(f(),b("div",So,[l("div",qo,[l("h2",Vo,E(t.equipments.total)+" équipement"+E(t.equipments.total>1?"s":"")+" trouvé"+E(t.equipments.total>1?"s":""),1),l("div",Eo,[l("p",Io,E(t.equipments.data.length)+" affiché"+E(t.equipments.data.length>1?"s":"")+" sur "+E(t.equipments.total),1),t.equipments.has_more?(f(),b("div",Lo," Page "+E(t.equipments.current_page),1)):O("",!0)])]),l("div",jo,[(f(!0),b(G,null,W(t.equipments.data,(r,w)=>(f(),I(xo,{key:`${r.id}-${r.updated_at}`,equipment:r,"start-date":t.startDate,"end-date":t.endDate,class:"transition-all duration-300 ease-in-out animate-fade-in",style:kt({animationDelay:`${w*50}ms`})},null,8,["equipment","start-date","end-date","style"]))),128))]),t.equipments.has_more||t.equipments.next_page_url?(f(),I(e(Ke),{key:0,href:v.route("home"),params:u.value,method:"get","preserve-state":!0,"preserve-scroll":!0,only:["equipments"],onBefore:n,onSuccess:s,onError:c,class:"mt-12 flex justify-center"},{default:p(({loading:r})=>[l("div",To,[d.value?(f(),b("div",zo," ✓ Nouveaux équipements chargés avec succès ")):O("",!0),r?(f(),b("div",Bo,y[1]||(y[1]=[l("div",{class:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"},null,-1),l("span",{class:"text-sm text-muted-foreground"},"Chargement...",-1)]))):(f(),I(e(X),{key:2,variant:"outline",disabled:r,class:"px-6"},{default:p(()=>[r?(f(),I(e(Yt),{key:0,class:"w-4 h-4 mr-2 animate-spin"})):O("",!0),y[2]||(y[2]=T(" Charger plus d'équipements ",-1))]),_:2,__:[2]},1032,["disabled"]))])]),_:1},8,["href","params"])):t.equipments.data.length>0?(f(),b("div",Fo,y[3]||(y[3]=[l("p",{class:"text-sm text-muted-foreground"}," Vous avez vu tous les équipements disponibles ",-1)]))):O("",!0)])):(f(),b("div",ko,[l("div",wo,[i.value?(f(),I(e(ts),{key:0,class:"w-full h-full"})):(f(),I(e(es),{key:1,class:"w-full h-full"}))]),l("h3",Co,E(i.value?"Aucun équipement trouvé":"Commencez votre recherche"),1),l("p",$o,E(i.value?"Essayez de modifier vos critères de recherche pour trouver plus de résultats.":"Utilisez la barre de recherche ci-dessus pour trouver l'équipement dont vous avez besoin."),1)]))]))}},Ro=Dt(Oo,[["__scopeId","data-v-50bdb4a0"]]),Po={key:0,class:"relative"},bn={__name:"Home",props:{equipments:{type:Object,required:!0},filters:{type:Object,default:()=>({})},stats:{type:Object,default:()=>({min_price:0,max_price:1e3,categories:[]})}},setup(t){const o=V(!1),a=Ee(),i=a.props.name,d=a.props.auth.user;return(u,n)=>(f(),I(wt,{title:"Location et prêt de matériel événementiel",description:`${e(i)} facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements.`},{default:p(()=>[e(d)?O("",!0):(f(),b("section",Po,[m(Bs)])),l("section",null,[m(lo,{filters:t.filters,stats:t.stats,onSearching:n[0]||(n[0]=s=>o.value=s)},null,8,["filters","stats"])]),l("section",{class:Q(["relative py-12 bg-gradient-to-b from-background via-background/50 to-background",{"mt-8":t.equipments.data.length>0}])},[m(Ro,{equipments:t.equipments,"start-date":t.filters.start_date,"end-date":t.filters.end_date,isSearching:o.value},null,8,["equipments","start-date","end-date","isSearching"])],2)]),_:1},8,["description"]))}};export{bn as default};
