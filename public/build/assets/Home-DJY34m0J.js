import{z as B,r as w,c as $,o as d,w as r,k as f,f as S,l as e,i as s,u as t,p as g,s as p,S as M,F as T,v as F,x as G,H as ie,L as ne,b as C,I as se,O as ae,G as de,B as A,C as ue,K as ce,e as L,A as me,g as fe}from"./app-kylh3Vnu.js";import{_ as pe}from"./AppLayout-DK9_j087.js";import{_ as ve,a as he}from"./CardContent.vue_vue_type_script_setup_true_lang-DIKMzV08.js";import{_ as V}from"./index-DuhahaLp.js";import{X as R}from"./x-BSVyr_LX.js";import{A as re,E as ge}from"./euro-wfzZtJQ5.js";import{S as xe}from"./sparkles-0YpdHjgC.js";import{S as oe,U as _e}from"./users-HrUeiYB6.js";import{c as j}from"./createLucideIcon-DsbNZI6J.js";import{a as K,b as Q,c as X,d as q,_ as J}from"./SelectValue.vue_vue_type_script_setup_true_lang-B3aoxzg3.js";import{_ as z}from"./Label.vue_vue_type_script_setup_true_lang-6ot-eHsa.js";import{_ as E,a as U,b as O,c as N}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DFMBqFpM.js";import{l as ye,m as be,n as ke,o as W,e as Y,_ as we}from"./DateRangePicker-D03SMKqs.js";import{e as le,_ as $e,d as qe}from"./FlashMessage-CgNT4WZR.js";import{d as Se}from"./debounce-D4wHZ5Lt.js";import{M as H}from"./map-pin-C_QMAqY3.js";import{_ as Ve}from"./Pagination-D4JMBKoi.js";import{T as De}from"./triangle-alert-BQKTo26u.js";import{f as Z,a as ee}from"./fr-D_pP4D31.js";import"./Input.vue_vue_type_script_setup_true_lang-OBEs0tW7.js";import"./chevron-down-3L7nWkUT.js";import"./clamp-j19sW-AK.js";import"./check-DASu5wFJ.js";import"./ohash.D__AXeF1-DHF4M4F_.js";import"./VisuallyHidden-Vc74GXlE.js";import"./nullish-CHIgUVhi.js";import"./useKbd-kRIii9yh.js";import"./chevron-right-gKGDl2EE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=j("CircleHelpIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=j("LayoutListIcon",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=j("PackageSearchIcon",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=j("SearchXIcon",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=j("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Me={key:0,"aria-labelledby":"hero-heading",class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Te={class:"flex flex-col lg:flex-row items-center gap-8"},Fe={class:"flex-1 text-center lg:text-left"},Re={class:"space-y-4"},Ie={class:"text-base text-gray-500 max-w-xl mx-auto lg:mx-0 dark:text-gray-400"},Ee={class:"text-gray-900 dark:text-white"},Ue={class:"mt-6 flex flex-wrap items-center gap-3 justify-center lg:justify-start"},Oe={class:"flex-shrink-0 lg:w-80"},Ne={class:"rounded-lg p-4"},Pe={class:"grid gap-3",role:"list"},Ae={class:"text-sm font-medium text-gray-900 dark:text-white"},Le={class:"text-xs text-gray-500 mt-0.5 dark:text-gray-400"},He={__name:"HeroSection",setup(l){const y=B().props.name,h=w(!0),m=()=>{h.value=!1,localStorage.setItem("heroCardDismissed","true")},i=[{icon:xe,title:"Gratuit",description:"Pour une association ou un particulier"},{icon:oe,title:"Réservation sécurisée",description:"Processus simple et sûr"},{icon:ze,title:"Gestion d'inventaire",description:"Suivez votre matériel"},{icon:_e,title:"Communauté active",description:"Réseau associatif"}];return(u,n)=>(d(),$(ne,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform -translate-y-4 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-4 opacity-0"},{default:r(()=>[h.value?(d(),f("section",Me,[n[7]||(n[7]=e("div",{class:"absolute inset-0 rounded-2xl"},null,-1)),s(t(ve),{class:"relative border-none bg-gradient-to-br from-violet-100 via-blue-50 to-background dark:from-violet-950 dark:via-blue-950 dark:to-background"},{default:r(()=>[s(t(V),{variant:"ghost",size:"icon",class:"absolute right-3 top-3 hover:bg-white/80",onClick:m},{default:r(()=>[s(t(R),{class:"h-4 w-4"}),n[0]||(n[0]=e("span",{class:"sr-only"},"Fermer la bannière d'accueil",-1))]),_:1,__:[0]}),s(t(he),{class:"p-6"},{default:r(()=>[e("div",Te,[e("div",Fe,[e("div",Re,[n[2]||(n[2]=e("h1",{id:"hero-heading",class:"text-2xl sm:text-3xl font-bold font-title text-gray-900 leading-tight dark:text-white"},[e("span",{class:"inline-block"},[g(" Location et prêt de matériel "),e("span",{class:"bg-gradient-to-r from-violet-600 to-blue-600 bg-clip-text text-transparent whitespace-nowrap dark:from-violet-400 dark:to-blue-400"},"événementiel")]),e("span",{class:"block text-lg sm:text-xl mt-2 text-gray-600 font-medium dark:text-gray-400"}," entre associations et particuliers ")],-1)),e("p",Ie,[e("strong",Ee,p(t(y)),1),n[1]||(n[1]=g(" facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements. "))])]),e("div",Ue,[s(t(M),{href:u.route("discover"),class:"inline-flex items-center px-5 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-violet-600 to-blue-600 text-white hover:from-violet-700 hover:to-blue-700 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-violet-500 dark:from-violet-500 dark:to-blue-500 dark:hover:from-violet-600 dark:hover:to-blue-600"},{default:r(()=>[n[3]||(n[3]=g(" Découvrir la plateforme ")),s(t(re),{class:"ml-2 h-4 w-4"})]),_:1,__:[3]},8,["href"]),s(t(V),{variant:"outline",as:"a",href:u.route("how-it-works"),class:"text-sm border-violet-200 text-violet-700 hover:bg-violet-50 dark:border-violet-800 dark:text-violet-300 dark:hover:bg-violet-900"},{default:r(()=>n[4]||(n[4]=[g(" Comment ça marche ? ")])),_:1,__:[4]},8,["href"])])]),n[6]||(n[6]=e("div",{class:"hidden lg:block w-px h-32 bg-gradient-to-b from-violet-200 to-blue-200 self-center dark:from-violet-800 dark:to-blue-800"},null,-1)),e("div",Oe,[e("div",Ne,[n[5]||(n[5]=e("h2",{class:"text-sm font-medium text-gray-900 mb-4 dark:text-white"}," Avantages de la plateforme ",-1)),e("ul",Pe,[(d(),f(T,null,F(i,o=>e("li",{key:o.title,class:"flex items-start gap-3 group"},[e("div",{class:G(["rounded-md bg-gradient-to-br from-violet-100 to-blue-100 p-2 group-hover:from-violet-200 group-hover:to-blue-200 transition-colors duration-200 dark:from-violet-900 dark:to-blue-900",{"from-violet-200 to-blue-200 dark:from-violet-800 dark:to-blue-800":o.title==="Gratuit"}])},[(d(),$(ie(o.icon),{class:"w-4 h-4 text-violet-600 dark:text-violet-400"}))],2),e("div",null,[e("h3",Ae,p(o.title),1),e("p",Le,p(o.description),1)])])),64))])])])])]),_:1})]),_:1})])):S("",!0)]),_:1}))}},Be={class:"flex items-center border rounded-lg shadow-md bg-background"},Ge={class:"pl-3 text-muted-foreground"},Ke=["onKeydown"],Qe={__name:"SearchInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","search:submit"],setup(l,{emit:v}){const y=l,h=v,m=w(null),i=C({get(){return y.modelValue},set(o){h("update:modelValue",o)}}),u=()=>{i.value="",ue(()=>{var o;(o=m.value)==null||o.focus()})},n=()=>{h("search:submit",i.value)};return(o,k)=>(d(),f("div",Be,[e("span",Ge,[s(t(le),{class:"h-5 w-5"})]),se(e("input",{ref_key:"inputRef",ref:m,"onUpdate:modelValue":k[0]||(k[0]=D=>i.value=D),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Que recherchez-vous ?",onKeydown:de(A(n,["prevent"]),["enter"]),autocomplete:"off"},null,40,Ke),[[ae,i.value]]),i.value?(d(),f("button",{key:0,onMousedown:A(u,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[s(t(R),{class:"h-4 w-4"})],32)):S("",!0)]))}},Xe={class:"relative w-full"},Je={class:"flex items-center border rounded-lg shadow-md bg-background"},We={class:"pl-3 text-muted-foreground"},Ye=["disabled"],Ze={key:0,class:"py-6 text-center text-sm text-muted-foreground"},et={key:1,class:"py-6 text-center text-sm text-destructive"},tt={key:2,class:"py-6 text-center text-sm text-muted-foreground"},st={key:3,class:"max-h-[300px] overflow-y-auto"},at=["onClick"],rt={class:"flex flex-col"},ot={class:"text-xs text-muted-foreground"},lt={__name:"CityInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","coordinates","city"],setup(l,{emit:v}){const y=l,h=v,m=w(y.modelValue),i=w([]),u=w(!1),n=w(!1),o=w(""),k=Se(async _=>{if(_.length<3){i.value=[],u.value=!1,o.value="";return}n.value=!0,u.value=!0,o.value="";try{const x=await ce.get(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent(_)}&type=municipality&limit=5`);if(!x.data.features||x.data.features.length===0){i.value=[];return}i.value=x.data.features.map(c=>({id:c.properties.id,name:c.properties.city,postcode:c.properties.postcode,coordinates:{lat:c.geometry.coordinates[1],lng:c.geometry.coordinates[0]}}))}catch(x){console.error("Error fetching city suggestions:",x),i.value=[],x.value="Erreur lors de la recherche de villes. Veuillez réessayer."}finally{n.value=!1}},300);L(m,_=>{h("update:modelValue",_),_.length>=3?k(_):(i.value=[],u.value=!1)});const D=_=>{m.value=_.name,u.value=!1,o.value="",h("update:modelValue",{name:_.name,lat:_.coordinates.lat,lng:_.coordinates.lng,postcode:_.postcode,departement:_.postcode.substring(0,2)})},I=()=>{m.value="",i.value=[],u.value=!1,o.value="",h("update:modelValue","")};return(_,x)=>(d(),f("div",Xe,[s(t(ke),{open:u.value,"onUpdate:open":x[2]||(x[2]=c=>u.value=c)},{default:r(()=>[s(t(ye),{asChild:""},{default:r(()=>[e("div",Je,[e("span",We,[s(t(H),{class:"h-5 w-5"})]),se(e("input",{"onUpdate:modelValue":x[0]||(x[0]=c=>m.value=c),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Ajouter une localisation",disabled:n.value,onFocus:x[1]||(x[1]=c=>u.value=!0)},null,40,Ye),[[ae,m.value]]),m.value?(d(),f("button",{key:0,onMousedown:A(I,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[s(t(R),{class:"h-4 w-4"})],32)):S("",!0)])]),_:1}),s(t(be),{class:"w-full p-0",align:"start"},{default:r(()=>[n.value?(d(),f("div",Ze,x[3]||(x[3]=[e("div",{class:"flex items-center justify-center"},[e("div",{class:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),e("span",{class:"ml-2"},"Recherche en cours...")],-1)]))):o.value?(d(),f("div",et,p(o.value),1)):i.value.length===0?(d(),f("div",tt," Aucun résultat trouvé ")):(d(),f("div",st,[(d(!0),f(T,null,F(i.value,c=>(d(),f("div",{key:c.id,class:"flex items-center gap-2 px-4 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground",onClick:a=>D(c)},[s(t(H),{class:"h-4 w-4 text-muted-foreground"}),e("div",rt,[e("span",null,p(c.name),1),e("span",ot,p(c.postcode),1)])],8,at))),128))]))]),_:1})]),_:1},8,["open"])]))}},it={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},nt={class:"relative rounded-xl shadow-xl border border-gray-200/60"},dt={key:0,class:"px-6 pt-6 pb-4"},ut={class:"px-6 pb-6"},ct={class:"flex flex-col md:flex-row gap-4 p-4"},mt={class:"flex-1"},ft={class:"flex-1"},pt={class:"flex items-end"},vt={key:1,class:"h-5 w-5 mr-2"},ht={class:"px-6 pb-6"},gt={class:""},xt={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},_t={class:"space-y-2"},yt={class:"space-y-2"},bt={class:"space-y-2"},kt={class:"flex justify-end items-end"},wt={__name:"SearchSection",props:{filters:{type:Object,default:()=>({})},stats:{type:Object,required:!0}},emits:["searching"],setup(l,{emit:v}){const h=B().props.auth.user,m=l,i=v,u=w(!1),n=w({from:m.filters.start_date?W(m.filters.start_date):void 0,to:m.filters.end_date?W(m.filters.end_date):void 0});L(n,c=>{o.start_date=c.from?c.from.toDate(Y()).toISOString().split("T")[0]:"",o.end_date=c.to?c.to.toDate(Y()).toISOString().split("T")[0]:""},{deep:!0});const o=me({search:m.filters.search||"",radius:m.filters.radius||50,category:m.filters.category||"all",start_date:m.filters.start_date||"",end_date:m.filters.end_date||"",coordinates:m.filters.coordinates||null,city:m.filters.city||null,postcode:m.filters.postcode||null}),k=()=>{u.value=!0,i("searching",u.value),o.get(route("home"),{only:["filters","equipments"],preserveScroll:!0,preserveState:!0,onFinish:()=>{u.value=!1,i("searching",u.value)}})},D=()=>{const c=localStorage.getItem("search_filters");if(c)try{const a=JSON.parse(c);o.city=a.city||null,o.coordinates=a.coordinates||null,o.radius=a.radius||50,o.postcode=a.postcode||null}catch(a){console.error("Error loading filters from localStorage:",a)}},I=c=>{try{const a={city:c.city,coordinates:c.coordinates,radius:c.radius,postcode:c.postcode};localStorage.setItem("search_filters",JSON.stringify(a))}catch(a){console.error("Error saving filters to localStorage:",a)}};L(o,c=>{I(c)},{deep:!0}),fe(()=>{D()});const _=()=>{n.value={from:void 0,to:void 0},o.reset({search:"",radius:50,category:"all",start_date:"",end_date:"",coordinates:null,city:null,postcode:null}),localStorage.removeItem("search_filters"),k()},x=c=>{o.city=c.name,o.postcode=c.postcode,o.coordinates={lat:c.lat,lng:c.lng},o.radius=o.radius||5};return(c,a)=>(d(),f("div",{class:G({"relative mt-8":t(h)})},[e("div",it,[e("div",nt,[t(h)?S("",!0):(d(),f("div",dt,a[5]||(a[5]=[e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Trouvez le matériel dont vous avez besoin",-1),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Recherchez parmi des milliers d'équipements disponibles près de chez vous.",-1)]))),e("div",ut,[e("div",ct,[e("div",mt,[s(t(z),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:r(()=>a[6]||(a[6]=[g("Dans quel secteur ?")])),_:1,__:[6]}),s(lt,{modelValue:t(o).city,"onUpdate:modelValue":[a[0]||(a[0]=b=>t(o).city=b),x],placeholder:"Entrez une ville ou un code postal"},null,8,["modelValue"])]),e("div",ft,[s(t(z),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:r(()=>a[7]||(a[7]=[g("Que recherchez-vous ?")])),_:1,__:[7]}),s(Qe,{modelValue:t(o).search,"onUpdate:modelValue":a[1]||(a[1]=b=>t(o).search=b),placeholder:"Ex: Vidéoprojecteur, Enceinte, Table...","onSearch:submit":k},null,8,["modelValue"])]),e("div",pt,[s(t(V),{type:"submit",size:"lg",disabled:u.value,class:"w-full md:w-auto min-w-[140px] bg-primary hover:bg-primary/90 shadow-sm dark:bg-primary dark:hover:bg-primary/90",onClick:k},{default:r(()=>[u.value?(d(),f("span",vt,a[8]||(a[8]=[e("span",{class:"animate-spin inline-block h-5 w-5 border-[3px] border-current border-t-transparent rounded-full"},null,-1)]))):(d(),$(t(le),{key:0,class:"h-5 w-5 mr-2"})),g(" "+p(u.value?"Recherche...":"Rechercher"),1)]),_:1},8,["disabled"])])])]),e("div",ht,[e("div",gt,[e("div",xt,[e("div",_t,[s(t(z),{for:"category",class:"flex items-center gap-2"},{default:r(()=>[a[10]||(a[10]=g(" Catégorie ")),s(t(E),null,{default:r(()=>[s(t(U),null,{default:r(()=>[s(t(O),null,{default:r(()=>[s(t(P),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(N),null,{default:r(()=>a[9]||(a[9]=[e("p",null,"Filtrer par type d'équipement",-1)])),_:1,__:[9]})]),_:1})]),_:1})]),_:1,__:[10]}),s(t(J),{modelValue:t(o).category,"onUpdate:modelValue":[a[2]||(a[2]=b=>t(o).category=b),k]},{default:r(()=>[s(t(K),{id:"category",class:"w-full bg-white dark:bg-gray-800"},{default:r(()=>[s(t(Q),{placeholder:"Toutes les catégories"})]),_:1}),s(t(X),null,{default:r(()=>[s(t(q),{value:"all"},{default:r(()=>a[11]||(a[11]=[g("Toutes les catégories")])),_:1,__:[11]}),(d(!0),f(T,null,F(l.stats.categories,b=>(d(),$(t(q),{key:b.id,value:b.id},{default:r(()=>[g(p(b.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),e("div",yt,[s(t(z),{for:"radius",class:"flex items-center gap-2"},{default:r(()=>[a[13]||(a[13]=g(" Rayon de recherche ")),s(t(E),null,{default:r(()=>[s(t(U),null,{default:r(()=>[s(t(O),null,{default:r(()=>[s(t(P),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(N),null,{default:r(()=>a[12]||(a[12]=[e("p",null,"Distance maximale de recherche",-1)])),_:1,__:[12]})]),_:1})]),_:1})]),_:1,__:[13]}),s(t(J),{modelValue:t(o).radius,"onUpdate:modelValue":[a[3]||(a[3]=b=>t(o).radius=b),k]},{default:r(()=>[s(t(K),{id:"radius",class:"w-full bg-white dark:bg-gray-800"},{default:r(()=>[s(t(Q),{placeholder:"Sélectionner un rayon"})]),_:1}),s(t(X),null,{default:r(()=>[s(t(q),{value:"5"},{default:r(()=>a[14]||(a[14]=[g("5 km")])),_:1,__:[14]}),s(t(q),{value:"10"},{default:r(()=>a[15]||(a[15]=[g("10 km")])),_:1,__:[15]}),s(t(q),{value:"25"},{default:r(()=>a[16]||(a[16]=[g("25 km")])),_:1,__:[16]}),s(t(q),{value:"50"},{default:r(()=>a[17]||(a[17]=[g("50 km")])),_:1,__:[17]}),s(t(q),{value:"100"},{default:r(()=>a[18]||(a[18]=[g("100 km")])),_:1,__:[18]})]),_:1})]),_:1},8,["modelValue"])]),e("div",bt,[s(t(z),{class:"flex items-center gap-2"},{default:r(()=>[a[20]||(a[20]=g(" Période de location ")),s(t(E),null,{default:r(()=>[s(t(U),null,{default:r(()=>[s(t(O),null,{default:r(()=>[s(t(P),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),s(t(N),null,{default:r(()=>a[19]||(a[19]=[e("p",null,"Période de location souhaitée",-1)])),_:1,__:[19]})]),_:1})]),_:1})]),_:1,__:[20]}),s(we,{modelValue:n.value,"onUpdate:modelValue":[a[4]||(a[4]=b=>n.value=b),k]},null,8,["modelValue"])]),e("div",kt,[s(t(V),{variant:"outline",size:"sm",onClick:_,class:"text-sm hover:text-destructive hover:border-destructive dark:hover:text-destructive dark:hover:border-destructive"},{default:r(()=>[s(t(R),{class:"h-4 w-4 mr-1.5"}),a[21]||(a[21]=g(" Réinitialiser les filtres "))]),_:1,__:[21]})])])])])])])],2))}},$t={class:"group relative bg-card rounded-xl shadow-sm border border-border/50 overflow-hidden hover:shadow-lg transition-all duration-200"},qt=["src","alt"],St={key:1,class:"w-full h-full flex items-center justify-center text-muted-foreground/30"},Vt={class:"absolute top-3 right-3"},Dt={class:"p-6"},zt={class:"flex items-start justify-between gap-4"},Ct={class:"text-lg font-semibold text-foreground group-hover:text-primary transition-colors duration-200 line-clamp-2"},jt={class:"mt-4 space-y-3"},Mt={class:"flex items-center text-sm text-muted-foreground"},Tt={class:"truncate"},Ft={class:"flex items-center text-sm text-muted-foreground"},Rt={class:"truncate"},It={class:"flex items-center text-sm text-muted-foreground"},Et={key:0,class:"mt-4 p-3 bg-accent/50 rounded-lg space-y-2"},Ut={class:"flex items-center text-sm"},Ot={class:"text-muted-foreground"},Nt={class:"flex items-center justify-between text-sm font-medium"},Pt={class:"text-foreground"},At={class:"mt-4 text-sm text-muted-foreground line-clamp-2"},Lt={class:"mt-6"},Ht={__name:"EquipmentCard",props:{equipment:{type:Object,required:!0},startDate:{type:String,default:""},endDate:{type:String,default:""}},setup(l){const v=l,y=C(()=>{if(!v.startDate||!v.endDate)return v.equipment.rental_price;const i=new Date(v.startDate),u=new Date(v.endDate),n=Math.ceil((u-i)/(1e3*60*60*24))+1;return(v.equipment.rental_price*n).toFixed(2)}),h=i=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(i),m=C(()=>{if(!v.startDate||!v.endDate)return null;const i=new Date(v.startDate),u=new Date(v.endDate),n=Math.ceil((u-i)/(1e3*60*60*24))+1;return{start:Z(i,"dd MMM yyyy",{locale:ee}),end:Z(u,"dd MMM yyyy",{locale:ee}),days:n}});return(i,u)=>{var n,o;return d(),f("div",$t,[s(t(M),{href:i.route("equipments.show",l.equipment),class:"block aspect-[16/9] bg-accent/10 relative overflow-hidden"},{default:r(()=>[l.equipment.images&&l.equipment.images.length>0?(d(),f("img",{key:0,src:l.equipment.images[0].url,alt:l.equipment.name,loading:"lazy",placeholder:"blur",class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"},null,8,qt)):(d(),f("div",St,[s(t(te),{class:"w-12 h-12"})])),e("div",Vt,[s(t($e),{variant:l.equipment.is_available?"success":"destructive",class:"flex items-center gap-1 shadow-sm"},{default:r(()=>[l.equipment.is_available?(d(),$(t(oe),{key:0,class:"h-3 w-3"})):(d(),$(t(De),{key:1,class:"h-3 w-3"})),g(" "+p(l.equipment.is_available?"Disponible":"Indisponible"),1)]),_:1},8,["variant"])])]),_:1},8,["href"]),e("div",Dt,[e("div",zt,[s(t(M),{href:i.route("equipments.show",l.equipment),class:"block"},{default:r(()=>[e("h3",Ct,p(l.equipment.name),1)]),_:1},8,["href"])]),e("div",jt,[e("div",Mt,[s(t(H),{class:"h-4 w-4 mr-2 text-primary/70 flex-shrink-0"}),e("span",Tt,p(((n=l.equipment.depot)==null?void 0:n.city)||"Non localisé"),1)]),e("div",Ft,[s(t(te),{class:"h-4 w-4 mr-2 text-primary/70 flex-shrink-0"}),e("span",Rt,p(((o=l.equipment.category)==null?void 0:o.name)||"Sans catégorie"),1)]),e("div",It,[s(t(ge),{class:"h-4 w-4 mr-2 text-primary/70 flex-shrink-0"}),e("span",null,p(h(l.equipment.rental_price))+" / jour",1)])]),m.value?(d(),f("div",Et,[e("div",Ut,[s(t(qe),{class:"h-4 w-4 mr-2 text-primary/70"}),e("span",Ot,p(m.value.start)+" - "+p(m.value.end),1)]),e("div",Nt,[e("span",null,"Total ("+p(m.value.days)+" jour"+p(m.value.days>1?"s":"")+")",1),e("span",Pt,p(h(y.value)),1)])])):S("",!0),e("p",At,p(l.equipment.description),1),e("div",Lt,[s(t(V),{asChild:"",class:"w-full group/button"},{default:r(()=>[s(t(M),{href:i.route("equipments.show",l.equipment)},{default:r(()=>[u[0]||(u[0]=g(" Voir les détails ")),s(t(re),{class:"ml-2 h-4 w-4 transition-transform group-hover/button:translate-x-1"})]),_:1,__:[0]},8,["href"])]),_:1})])])])}}},Bt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Gt={key:0,class:"min-h-[400px] flex flex-col items-center justify-center"},Kt={key:1,class:"min-h-[400px] flex flex-col items-center justify-center text-center"},Qt={class:"w-24 h-24 text-muted-foreground mb-6"},Xt={class:"text-xl font-medium text-foreground"},Jt={class:"mt-2 text-base text-muted-foreground max-w-md"},Wt={key:0,class:"mt-6"},Yt={key:2},Zt={class:"mb-6 flex items-center justify-between"},es={class:"text-lg font-medium text-foreground"},ts={class:"text-sm text-muted-foreground"},ss={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},as={class:"mt-12"},rs={__name:"ResultsSection",props:{equipments:{type:Object,required:!0},startDate:{type:String,default:""},endDate:{type:String,default:""},isSearching:{type:Boolean,default:!1}},setup(l){const v=l,y=C(()=>v.equipments.data.length>0),h=C(()=>v.startDate||v.endDate);return(m,i)=>(d(),f("div",Bt,[l.isSearching?(d(),f("div",Gt,i[1]||(i[1]=[e("div",{class:"w-16 h-16 mb-4"},[e("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})],-1),e("h3",{class:"text-lg font-medium text-foreground"},"Recherche en cours...",-1),e("p",{class:"mt-2 text-sm text-muted-foreground"}," Nous recherchons les meilleurs équipements pour vous ",-1)]))):y.value?(d(),f("div",Yt,[e("div",Zt,[e("h2",es,p(l.equipments.total)+" équipement"+p(l.equipments.total>1?"s":"")+" trouvé"+p(l.equipments.total>1?"s":""),1),e("p",ts," Page "+p(l.equipments.current_page)+" sur "+p(l.equipments.last_page),1)]),e("div",ss,[(d(!0),f(T,null,F(l.equipments.data,u=>(d(),$(Ht,{key:u.id,equipment:u,"start-date":l.startDate,"end-date":l.endDate,class:"transition-all duration-300 ease-in-out"},null,8,["equipment","start-date","end-date"]))),128))]),e("div",as,[s(Ve,{links:l.equipments.links},null,8,["links"])])])):(d(),f("div",Kt,[e("div",Qt,[h.value?(d(),$(t(je),{key:0,class:"w-full h-full"})):(d(),$(t(Ce),{key:1,class:"w-full h-full"}))]),e("h3",Xt,p(h.value?"Aucun équipement trouvé":"Commencez votre recherche"),1),e("p",Jt,p(h.value?"Essayez de modifier vos critères de recherche pour trouver plus de résultats.":"Utilisez la barre de recherche ci-dessus pour trouver l'équipement dont vous avez besoin."),1),h.value?(d(),f("div",Wt,[s(t(V),{variant:"outline",onClick:i[0]||(i[0]=u=>m.$emit("reset-filters"))},{default:r(()=>i[2]||(i[2]=[g(" Réinitialiser les filtres ")])),_:1,__:[2]})])):S("",!0)]))]))}},os={key:0,class:"relative pb-12"},Rs={__name:"Home",props:{equipments:{type:Object,required:!0},filters:{type:Object,default:()=>({})},stats:{type:Object,default:()=>({min_price:0,max_price:1e3,categories:[]})}},setup(l){const v=w(!1),y=B(),h=y.props.name,m=y.props.auth.user;return(i,u)=>(d(),$(pe,{title:"Location et prêt de matériel événementiel",description:`${t(h)} facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements.`},{default:r(()=>[t(m)?S("",!0):(d(),f("section",os,[s(He)])),e("section",null,[s(wt,{filters:l.filters,stats:l.stats,onSearching:u[0]||(u[0]=n=>v.value=n)},null,8,["filters","stats"])]),e("section",{class:G(["relative py-12 bg-gradient-to-b from-background via-background/50 to-background",{"mt-8":l.equipments.data.length>0}])},[s(rs,{equipments:l.equipments,"start-date":l.filters.start_date,"end-date":l.filters.end_date,isSearching:v.value},null,8,["equipments","start-date","end-date","isSearching"])],2)]),_:1},8,["description"]))}};export{Rs as default};
