import{d as C,b as x,g as O,h as U,c as y,o as b,w as u,i as d,u as e,a as B,C as G,f as w,m as $,G as H,B as N,H as J,A as Q,l as n,q as W,k as R,s as K,p as h}from"./app-CIyfD0Xj.js";import{_ as E}from"./InputError.vue_vue_type_script_setup_true_lang-CVz0mtwH.js";import{_ as M}from"./TextLink.vue_vue_type_script_setup_true_lang-DXCotOGI.js";import{P as I,c as X,_ as P}from"./index-BE06ak9h.js";import{c as z,a as Y,P as Z,b as ee}from"./x-tB0iFgfJ.js";import{u as D,c as ae,_ as T}from"./Input.vue_vue_type_script_setup_true_lang-BZDSr2Ip.js";import{i as j}from"./nullish-CHIgUVhi.js";import{i as A}from"./isValueEqualOrExist-B5JO9E3o.js";import{u as te,C as se}from"./check-z7MelM8a.js";import{s as oe,o as re,v as le,w as ie,x as ne}from"./FlashMessage-C8aweLIX.js";import{_ as de}from"./VisuallyHiddenInput-R-_xSzP3.js";import{i as ue}from"./ohash.D__AXeF1-DHF4M4F_.js";import{_ as S}from"./Label.vue_vue_type_script_setup_true_lang-ByKCaAfa.js";import{_ as me}from"./Separator.vue_vue_type_script_setup_true_lang-DZ8C-A8G.js";import{_ as ce}from"./AppLayout-lyGgyMTT.js";import{L as pe}from"./loader-circle-D3xi_VDv.js";import"./createLucideIcon-BQUi59ud.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Separator-ByYyuyrf.js";const[fe,Ye]=z("CheckboxGroupRoot");function V(m){return m==="indeterminate"}function L(m){return V(m)?"indeterminate":m?"checked":"unchecked"}const ve=C({__name:"RovingFocusItem",props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(m){const o=m,t=oe(),i=Y(),a=x(()=>o.tabStopId||i),c=x(()=>t.currentTabStopId.value===a.value),{getItems:l,CollectionItem:v}=re();O(()=>{o.focusable&&t.onFocusableItemAdd()}),U(()=>{o.focusable&&t.onFocusableItemRemove()});function _(s){if(s.key==="Tab"&&s.shiftKey){t.onItemShiftTab();return}if(s.target!==s.currentTarget)return;const p=le(s,t.orientation.value,t.dir.value);if(p!==void 0){if(s.metaKey||s.ctrlKey||s.altKey||!o.allowShiftKey&&s.shiftKey)return;s.preventDefault();let f=[...l().map(g=>g.ref).filter(g=>g.dataset.disabled!=="")];if(p==="last")f.reverse();else if(p==="prev"||p==="next"){p==="prev"&&f.reverse();const g=f.indexOf(s.currentTarget);f=t.loop.value?ie(f,g+1):f.slice(g+1)}G(()=>ne(f))}}return(s,p)=>(b(),y(e(v),null,{default:u(()=>[d(e(I),{tabindex:c.value?0:-1,"data-orientation":e(t).orientation.value,"data-active":s.active?"":void 0,"data-disabled":s.focusable?void 0:"",as:s.as,"as-child":s.asChild,onMousedown:p[0]||(p[0]=f=>{s.focusable?e(t).onItemFocus(a.value):f.preventDefault()}),onFocus:p[1]||(p[1]=f=>e(t).onItemFocus(a.value)),onKeydown:_},{default:u(()=>[B(s.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),[be,ge]=z("CheckboxRoot"),ye=C({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(m,{emit:o}){const t=m,i=o,{forwardRef:a,currentElement:c}=D(),l=fe(null),v=ae(t,"modelValue",i,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),_=x(()=>(l==null?void 0:l.disabled.value)||t.disabled),s=x(()=>j(l==null?void 0:l.modelValue.value)?v.value==="indeterminate"?"indeterminate":v.value:A(l.modelValue.value,t.value));function p(){if(j(l==null?void 0:l.modelValue.value))v.value=V(v.value)?!0:!v.value;else{const r=[...l.modelValue.value||[]];if(A(r,t.value)){const F=r.findIndex(k=>ue(k,t.value));r.splice(F,1)}else r.push(t.value);l.modelValue.value=r}}const f=te(c),g=x(()=>{var r;return t.id&&c.value?(r=document.querySelector(`[for="${t.id}"]`))==null?void 0:r.innerText:void 0});return ge({disabled:_,state:s}),(r,F)=>{var k,q;return b(),y(J((k=e(l))!=null&&k.rovingFocus.value?e(ve):e(I)),$(r.$attrs,{id:r.id,ref:e(a),role:"checkbox","as-child":r.asChild,as:r.as,type:r.as==="button"?"button":void 0,"aria-checked":e(V)(s.value)?"mixed":s.value,"aria-required":r.required,"aria-label":r.$attrs["aria-label"]||g.value,"data-state":e(L)(s.value),"data-disabled":_.value?"":void 0,disabled:_.value,focusable:(q=e(l))!=null&&q.rovingFocus.value?!_.value:void 0,onKeydown:H(N(()=>{},["prevent"]),["enter"]),onClick:p}),{default:u(()=>[B(r.$slots,"default",{modelValue:e(v),state:s.value}),e(f)&&r.name&&!e(l)?(b(),y(e(de),{key:0,type:"checkbox",checked:!!s.value,name:r.name,value:r.value,disabled:_.value,required:r.required},null,8,["checked","name","value","disabled","required"])):w("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),_e=C({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(m){const{forwardRef:o}=D(),t=be();return(i,a)=>(b(),y(e(Z),{present:i.forceMount||e(V)(e(t).state.value)||e(t).state.value===!0},{default:u(()=>[d(e(I),$({ref:e(o),"data-state":e(L)(e(t).state.value),"data-disabled":e(t).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":i.asChild,as:i.as},i.$attrs),{default:u(()=>[B(i.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),he=C({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{type:[String,Object,Function]},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(m,{emit:o}){const t=m,i=o,a=x(()=>{const{class:l,...v}=t;return v}),c=ee(a,i);return(l,v)=>(b(),y(e(ye),$({"data-slot":"checkbox"},e(c),{class:e(X)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t.class)}),{default:u(()=>[d(e(_e),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:u(()=>[B(l.$slots,"default",{},()=>[d(e(se),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}}),xe={class:"max-w-xl mx-auto py-12 px-4 sm:px-6 lg:px-8"},we={key:0,class:"mb-4 text-center text-sm font-medium text-green-600"},Ce={key:1,class:"mb-4 text-center text-sm font-medium text-red-600"},ke={class:"space-y-6"},Ve={class:"grid gap-4"},Be={class:"relative"},Se={class:"absolute inset-0 flex items-center"},$e={class:"grid gap-2"},Ie={class:"grid gap-2"},Fe={class:"flex items-center justify-between"},qe={class:"flex items-center justify-between"},Re={class:"text-center text-sm text-muted-foreground"},Ze=C({__name:"Login",props:{status:{},canResetPassword:{type:Boolean},error:{}},setup(m){const o=Q({email:"",password:"",remember:!1}),t=()=>{o.post(route("login"),{onFinish:()=>o.reset("password")})};return(i,a)=>(b(),y(ce,{title:"Connexion à votre compte",description:"Entrez votre email et mot de passe ci-dessous pour vous connecter"},{header:u(()=>a[3]||(a[3]=[n("h1",{class:"text-2xl font-bold"},"Connexion",-1)])),default:u(()=>[d(e(W),{title:"Connexion"}),n("div",xe,[i.status?(b(),R("div",we,K(i.status),1)):w("",!0),i.error?(b(),R("div",Ce,K(i.error),1)):w("",!0),n("div",ke,[n("div",Ve,[d(e(P),{variant:"outline",class:"w-full",asChild:""},{default:u(()=>a[4]||(a[4]=[n("a",{href:"/auth/google/redirect",rel:"nofollow"},[n("img",{src:"https://www.google.com/favicon.ico",alt:"Google",class:"w-5 h-5 mr-2"}),h(" Continuer avec Google ")],-1)])),_:1,__:[4]})]),n("div",Be,[n("div",Se,[d(e(me),{class:"w-full"})]),a[5]||(a[5]=n("div",{class:"relative flex justify-center text-xs uppercase"},[n("span",{class:"bg-background px-2 text-muted-foreground"},"Ou")],-1))]),n("form",{onSubmit:N(t,["prevent"]),class:"grid gap-6"},[n("div",$e,[d(e(S),{for:"email"},{default:u(()=>a[6]||(a[6]=[h("Adresse email")])),_:1,__:[6]}),d(e(T),{id:"email",type:"email",required:"",autofocus:"",tabindex:1,autocomplete:"email",modelValue:e(o).email,"onUpdate:modelValue":a[0]||(a[0]=c=>e(o).email=c),placeholder:"email@exemple.com"},null,8,["modelValue"]),d(E,{message:e(o).errors.email},null,8,["message"])]),n("div",Ie,[n("div",Fe,[d(e(S),{for:"password"},{default:u(()=>a[7]||(a[7]=[h("Mot de passe")])),_:1,__:[7]}),i.canResetPassword?(b(),y(M,{key:0,href:i.route("password.request"),class:"text-sm",tabindex:5},{default:u(()=>a[8]||(a[8]=[h(" Mot de passe oublié ? ")])),_:1,__:[8]},8,["href"])):w("",!0)]),d(e(T),{id:"password",type:"password",required:"",tabindex:2,autocomplete:"current-password",modelValue:e(o).password,"onUpdate:modelValue":a[1]||(a[1]=c=>e(o).password=c),placeholder:"Mot de passe"},null,8,["modelValue"]),d(E,{message:e(o).errors.password},null,8,["message"])]),n("div",qe,[d(e(S),{for:"remember",class:"flex items-center space-x-3"},{default:u(()=>[d(e(he),{id:"remember",modelValue:e(o).remember,"onUpdate:modelValue":a[2]||(a[2]=c=>e(o).remember=c),tabindex:3},null,8,["modelValue"]),a[9]||(a[9]=n("span",null,"Se souvenir de moi",-1))]),_:1,__:[9]})]),d(e(P),{type:"submit",class:"w-full",tabindex:4,disabled:e(o).processing},{default:u(()=>[e(o).processing?(b(),y(e(pe),{key:0,class:"h-4 w-4 animate-spin mr-2"})):w("",!0),a[10]||(a[10]=h(" Se connecter "))]),_:1,__:[10]},8,["disabled"])],32),n("div",Re,[a[12]||(a[12]=h(" Vous n'avez pas de compte ? ")),d(M,{href:i.route("register"),tabindex:5},{default:u(()=>a[11]||(a[11]=[h("S'inscrire")])),_:1,__:[11]},8,["href"])])])])]),_:1}))}});export{Ze as default};
