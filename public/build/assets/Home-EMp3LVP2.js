import{q as O,d as e,j as P,x as pt,k as I,y as ie,J as Z,c as j,o as m,w as p,m as K,h as R,b as f,K as ee,f as X,am as vt,s as ue,v as Ve,B as N,an as ht,H as Ie,g as w,a as n,e as z,t as V,l as He,F as G,r as W,n as Q,G as gt,T as yt,z as Ne,Q as Ge,M as pe,a5 as xt,u as _t,C as bt,ao as kt}from"./app-u5kb7Jgb.js";import{_ as wt}from"./AppLayout-w9axwkkW.js";import{_ as Ct,a as $t}from"./CardContent.vue_vue_type_script_setup_true_lang-D-xFTdj8.js";import{P as Y,_ as J,c as te}from"./index-D7zvgTAT.js";import{c as de,b as he,i as St,X as ce,u as We,d as Qe}from"./Teleport-Dqe_pzm5.js";import{A as qt}from"./arrow-right-Bjs5fvtO.js";import{S as Vt}from"./sparkles-DJgz6j2B.js";import{S as It}from"./shield-check-uK7r7YSj.js";import{c as fe}from"./createLucideIcon-OmZrxzax.js";import{U as Et}from"./users-lrATL7X0.js";import{a as jt,b as Lt,c as zt,d as oe,_ as Tt}from"./SelectValue.vue_vue_type_script_setup_true_lang-Cb5SGk-G.js";import{_ as ne}from"./Label.vue_vue_type_script_setup_true_lang-Dmzbqked.js";import{j as Ee,m as Bt,s as Xe,u as Ft,p as Ot,e as Rt,f as Pt,g as Kt}from"./UserDropdown-BMKB6uQ6.js";import{f as je,h as Mt}from"./FlashMessage-MZ6ZWgGi.js";import{_ as Le,a as ze,b as Te}from"./PopoverTrigger.vue_vue_type_script_setup_true_lang-BM961yRg.js";import{d as At}from"./debounce-YYjiSE4V.js";import{M as Me}from"./map-pin-Cyu2K8fg.js";import{i as Ce}from"./ohash.D__AXeF1-DHF4M4F_.js";import{u as Ut}from"./useFormControl-C74HboE4.js";import{u as Dt}from"./useKbd-kRIii9yh.js";import{V as Ht}from"./VisuallyHiddenInput-4e2G74DN.js";import{b as Je,h as ke,g as Nt,u as Gt,r as ae,v as Wt}from"./useForwardExpose-eujPSuQP.js";import{_ as Ye}from"./index-BeI4xsgD.js";import{C as $e}from"./check-DiVe0WYD.js";import{C as Qt}from"./circle-help-C6wrzm9F.js";import{I as Xt}from"./image-BWQGsXpF.js";import"./useNonce-Dy3tYTlh.js";import"./chevron-down-C3L0LyGq.js";import"./nullish-CHIgUVhi.js";import"./package-CE-MB1jU.js";import"./loader-circle-DT5aXu4g.js";import"./Input.vue_vue_type_script_setup_true_lang-ZQE4I5AS.js";import"./plus-CAZvyxGM.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=fe("ChevronsUpDownIcon",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=fe("LayoutListIcon",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=fe("PackageSearchIcon",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=fe("SearchXIcon",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=fe("TagIcon",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);function ta(t,l,s){const u=t.findIndex(a=>Ce(a,l)),r=t.findIndex(a=>Ce(a,s));if(u===-1||r===-1)return[];const[i,o]=[u,r].sort((a,d)=>a-d);return t.slice(i,o+1)}function aa(t){const l=O(()=>e(t)),s=O(()=>new Intl.Collator("en",{usage:"search",...l.value}));return{startsWith:(o,a)=>a.length===0?!0:(o=o.normalize("NFC"),a=a.normalize("NFC"),s.value.compare(o.slice(0,a.length),a)===0),endsWith:(o,a)=>a.length===0?!0:(o=o.normalize("NFC"),a=a.normalize("NFC"),s.value.compare(o.slice(-a.length),a)===0),contains:(o,a)=>{if(a.length===0)return!0;o=o.normalize("NFC"),a=a.normalize("NFC");let d=0;const h=a.length;for(;d+h<=o.length;d++){const _=o.slice(d,d+h);if(s.value.compare(a,_)===0)return!0}return!1}}}function sa(t,l,s){return t===void 0?!1:Array.isArray(t)?t.some(u=>re(u,l,s)):re(t,l,s)}function re(t,l,s){return t===void 0||l===void 0?!1:typeof t=="string"?t===l:typeof s=="function"?s(t,l):typeof s=="string"?(t==null?void 0:t[s])===(l==null?void 0:l[s]):Ce(t,l)}const[Be,oa]=de("ListboxRoot");var na=P({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{expose:l,emit:s}){const u=t,r=s,{multiple:i,highlightOnHover:o,orientation:a,disabled:d,selectionBehavior:h,dir:_}=pt(u),{getItems:c}=Ee({isProvider:!0}),{handleTypeaheadSearch:C}=Bt(),{primitiveElement:$,currentElement:y}=Xe(),S=Dt(),x=Ft(_),b=Ut(y),v=I(),E=I(!1),M=I(!0),T=Je(u,"modelValue",r,{defaultValue:u.defaultValue??(i.value?[]:void 0),passive:u.modelValue===void 0,deep:!0});function B(g){if(E.value=!0,u.multiple){const k=Array.isArray(T.value)?[...T.value]:[],q=k.findIndex(F=>re(F,g,u.by));u.selectionBehavior==="toggle"?(q===-1?k.push(g):k.splice(q,1),T.value=k):(T.value=[g],v.value=g)}else u.selectionBehavior==="toggle"&&re(T.value,g,u.by)?T.value=void 0:T.value=g;setTimeout(()=>{E.value=!1},1)}const L=I(null),A=I(null),U=I(!1),ye=I(!1),Fe=ke(),xe=ke(),Oe=ke();function _e(){return c().map(g=>g.ref).filter(g=>g.dataset.disabled!=="")}function D(g,k=!0){if(!g)return;L.value=g,M.value&&L.value.focus(),k&&L.value.scrollIntoView({block:"nearest"});const q=c().find(F=>F.ref===g);r("highlight",q)}function lt(g){if(U.value)Oe.trigger(g);else{const k=c().find(q=>re(q.value,g,u.by));k&&(L.value=k.ref,D(k.ref))}}function rt(g){L.value&&L.value.isConnected&&(g.preventDefault(),g.stopPropagation(),ye.value||L.value.click())}function it(g){if(M.value){if(E.value=!0,U.value)xe.trigger(g);else{const k=g.altKey||g.ctrlKey||g.metaKey;if(k&&g.key==="a"&&i.value){const q=c(),F=q.map(H=>H.value);T.value=[...F],g.preventDefault(),D(q[q.length-1].ref)}else if(!k){const q=C(g.key,c());q&&D(q)}}setTimeout(()=>{E.value=!1},1)}}function ut(){ye.value=!0}function dt(){Z(()=>{ye.value=!1})}function Re(){Z(()=>{const g=new KeyboardEvent("keydown",{key:"PageUp"});Pe(g)})}function be(g){const k=L.value;k!=null&&k.isConnected&&(A.value=k),L.value=null,r("leave",g)}function ct(g){var q,F;const k=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((q=g.currentTarget)==null||q.dispatchEvent(k),r("entryFocus",k),!k.defaultPrevented)if(A.value)D(A.value);else{const H=(F=_e())==null?void 0:F[0];D(H)}}function Pe(g){const k=Ot(g,a.value,x.value);if(!k)return;let q=_e();if(L.value){if(k==="last")q.reverse();else if(k==="prev"||k==="next"){k==="prev"&&q.reverse();const F=q.indexOf(L.value);q=q.slice(F+1)}ft(g,q[0])}if(q.length){const F=!L.value&&k==="prev"?q.length-1:0;D(q[F])}if(U.value)return xe.trigger(g)}function ft(g,k){var F;if(!(U.value||u.selectionBehavior!=="replace"||!i.value||!Array.isArray(T.value)||(g.altKey||g.ctrlKey||g.metaKey)&&!g.shiftKey)&&g.shiftKey){const H=c().filter(se=>se.ref.dataset.disabled!=="");let me=(F=H.find(se=>se.ref===k))==null?void 0:F.value;if(g.key===S.END?me=H[H.length-1].value:g.key===S.HOME&&(me=H[0].value),!me||!v.value)return;const mt=ta(H.map(se=>se.value),v.value,me);T.value=mt}}async function Ke(g){if(await Z(),U.value)Fe.trigger(g);else{const k=_e(),q=k.find(F=>F.dataset.state==="checked");q?D(q):k.length&&D(k[0])}}return ie(T,()=>{E.value||Z(()=>{Ke()})},{immediate:!0,deep:!0}),l({highlightedElement:L,highlightItem:lt,highlightFirstItem:Re,highlightSelected:Ke,getItems:c}),oa({modelValue:T,onValueChange:B,multiple:i,orientation:a,dir:x,disabled:d,highlightOnHover:o,highlightedElement:L,isVirtual:U,virtualFocusHook:Fe,virtualKeydownHook:xe,virtualHighlightHook:Oe,by:u.by,firstValue:v,selectionBehavior:h,focusable:M,onLeave:be,onEnter:ct,changeHighlight:D,onKeydownEnter:rt,onKeydownNavigation:Pe,onKeydownTypeAhead:it,onCompositionStart:ut,onCompositionEnd:dt,highlightFirstItem:Re}),(g,k)=>(m(),j(e(Y),{ref_key:"primitiveElement",ref:$,as:g.as,"as-child":g.asChild,dir:e(x),"data-disabled":e(d)?"":void 0,onPointerleave:be,onFocusout:k[0]||(k[0]=async q=>{const F=q.relatedTarget||q.target;await Z(),L.value&&e(y)&&!e(y).contains(F)&&be(q)})},{default:p(()=>[K(g.$slots,"default",{modelValue:e(T)}),e(b)&&g.name?(m(),j(e(Ht),{key:0,name:g.name,value:e(T),disabled:e(d),required:g.required},null,8,["name","value","disabled","required"])):R("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),la=na,ra=P({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const{CollectionSlot:l}=Ee(),s=Be(),u=Nt(!1,10);return(r,i)=>(m(),j(e(l),null,{default:p(()=>[f(e(Y),{role:"listbox",as:r.as,"as-child":r.asChild,tabindex:e(s).focusable.value?e(s).highlightedElement.value?"-1":"0":void 0,"aria-orientation":e(s).orientation.value,"aria-multiselectable":!!e(s).multiple.value,"data-orientation":e(s).orientation.value,onMousedown:i[0]||(i[0]=X(o=>u.value=!0,["left"])),onFocus:i[1]||(i[1]=o=>{e(u)||e(s).onEnter(o)}),onKeydown:[i[2]||(i[2]=ee(X(o=>{e(s).focusable.value&&e(s).onKeydownNavigation(o)},["prevent"]),["down","up","left","right","home","end"])),ee(e(s).onKeydownEnter,["enter"]),e(s).onKeydownTypeAhead]},{default:p(()=>[K(r.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),ia=ra,ua=P({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(t,{emit:l}){const s=t,r=Je(s,"modelValue",l,{defaultValue:"",passive:s.modelValue===void 0}),i=Be(),{primitiveElement:o,currentElement:a}=Xe(),d=O(()=>s.disabled||i.disabled.value||!1),h=I();return vt(()=>{var _;return h.value=(_=i.highlightedElement.value)==null?void 0:_.id}),ue(()=>{i.focusable.value=!1,setTimeout(()=>{var _;s.autoFocus&&((_=a.value)==null||_.focus())},1)}),Ve(()=>{i.focusable.value=!0}),(_,c)=>(m(),j(e(Y),{ref_key:"primitiveElement",ref:o,as:_.as,"as-child":_.asChild,value:e(r),disabled:d.value?"":void 0,"data-disabled":d.value?"":void 0,"aria-disabled":d.value??void 0,"aria-activedescendant":h.value,type:"text",onKeydown:[ee(X(e(i).onKeydownNavigation,["prevent"]),["down","up","home","end"]),ee(e(i).onKeydownEnter,["enter"])],onInput:c[0]||(c[0]=C=>{r.value=C.target.value,e(i).highlightFirstItem()}),onCompositionstart:e(i).onCompositionStart,onCompositionend:e(i).onCompositionEnd},{default:p(()=>[K(_.$slots,"default",{modelValue:e(r)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),da=ua;const[ca,fa]=de("ListboxGroup");var ma=P({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const l=t,s=he(void 0,"reka-listbox-group");return fa({id:s}),(u,r)=>(m(),j(e(Y),N({role:"group"},l,{"aria-labelledby":e(s)}),{default:p(()=>[K(u.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),pa=ma,va=P({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const l=t,s=ca({id:""});return(u,r)=>(m(),j(e(Y),N(l,{id:e(s).id}),{default:p(()=>[K(u.$slots,"default")]),_:3},16,["id"]))}}),ha=va;const ga="listbox.select",[mn,ya]=de("ListboxItem");var xa=P({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(t,{emit:l}){const s=t,u=l,r=he(void 0,"reka-listbox-item"),{CollectionItem:i}=Ee(),{forwardRef:o,currentElement:a}=Gt(),d=Be(),h=O(()=>a.value===d.highlightedElement.value),_=O(()=>sa(d.modelValue.value,s.value,d.by)),c=O(()=>d.disabled.value||s.disabled);async function C(y){u("select",y),!(y!=null&&y.defaultPrevented)&&!c.value&&y&&(d.onValueChange(s.value),d.changeHighlight(a.value))}function $(y){const S={originalEvent:y,value:s.value};St(ga,C,S)}return ya({isSelected:_}),(y,S)=>(m(),j(e(i),{value:y.value},{default:p(()=>[ht([h.value,_.value],()=>f(e(Y),N({id:e(r)},y.$attrs,{ref:e(o),role:"option",tabindex:e(d).focusable.value?h.value?"0":"-1":-1,"aria-selected":_.value,as:y.as,"as-child":y.asChild,disabled:c.value?"":void 0,"data-disabled":c.value?"":void 0,"data-highlighted":h.value?"":void 0,"data-state":_.value?"checked":"unchecked",onClick:$,onKeydown:ee(X($,["prevent"]),["space"]),onPointermove:S[0]||(S[0]=x=>{e(d).highlightedElement.value!==e(a)&&(e(d).highlightOnHover.value?e(d).changeHighlight(e(a),!1):e(d).focusable.value||e(d).changeHighlight(e(a),!1))})}),{default:p(()=>[K(y.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),S,1)]),_:3},8,["value"]))}}),_a=xa;const ba={key:0,"aria-labelledby":"hero-heading",class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},ka={class:"flex flex-col lg:flex-row items-center gap-8"},wa={class:"flex-1 text-center lg:text-left"},Ca={class:"space-y-4"},$a={class:"text-base text-gray-500 max-w-xl mx-auto lg:mx-0 dark:text-gray-400"},Sa={class:"text-gray-900 dark:text-white"},qa={class:"mt-6 flex flex-wrap items-center gap-3 justify-center lg:justify-start"},Va={class:"flex-shrink-0 lg:w-80"},Ia={class:"rounded-lg p-4"},Ea={class:"grid gap-3",role:"list"},ja={class:"text-sm font-medium text-gray-900 dark:text-white"},La={class:"text-xs text-gray-500 mt-0.5 dark:text-gray-400"},za={__name:"HeroSection",setup(t){const s=Ie().props.name,u=I(!0),r=()=>{u.value=!1,localStorage.setItem("heroCardDismissed","true")},i=[{icon:Vt,title:"Gratuit",description:"Pour une association ou un particulier"},{icon:It,title:"Réservation sécurisée",description:"Processus simple et sûr"},{icon:Jt,title:"Gestion d'inventaire",description:"Suivez votre matériel"},{icon:Et,title:"Communauté active",description:"Réseau associatif"}];return(o,a)=>(m(),j(yt,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform -translate-y-4 opacity-0","enter-to-class":"transform translate-y-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-y-0 opacity-100","leave-to-class":"transform -translate-y-4 opacity-0"},{default:p(()=>[u.value?(m(),w("section",ba,[a[7]||(a[7]=n("div",{class:"absolute inset-0 rounded-2xl"},null,-1)),f(e(Ct),{class:"relative border-none bg-gradient-to-br from-violet-100 via-blue-50 to-background dark:from-violet-950 dark:via-blue-950 dark:to-background"},{default:p(()=>[f(e(J),{variant:"ghost",size:"icon",class:"absolute right-3 top-3 hover:bg-white/80",onClick:r},{default:p(()=>[f(e(ce),{class:"h-4 w-4"}),a[0]||(a[0]=n("span",{class:"sr-only"},"Fermer la bannière d'accueil",-1))]),_:1,__:[0]}),f(e($t),{class:"p-6"},{default:p(()=>[n("div",ka,[n("div",wa,[n("div",Ca,[a[2]||(a[2]=n("h1",{id:"hero-heading",class:"text-2xl sm:text-3xl font-bold font-title text-gray-900 leading-tight dark:text-white"},[n("span",{class:"inline-block"},[z(" Location et prêt de matériel "),n("span",{class:"bg-gradient-to-r from-violet-600 to-blue-600 bg-clip-text text-transparent whitespace-nowrap dark:from-violet-400 dark:to-blue-400"},"événementiel")]),n("span",{class:"block text-lg sm:text-xl mt-2 text-gray-600 font-medium dark:text-gray-400"}," entre associations et particuliers ")],-1)),n("p",$a,[n("strong",Sa,V(e(s)),1),a[1]||(a[1]=z(" facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements. ",-1))])]),n("div",qa,[f(e(He),{href:o.route("discover"),class:"inline-flex items-center px-5 py-2.5 text-sm font-medium rounded-lg bg-gradient-to-r from-violet-600 to-blue-600 text-white hover:from-violet-700 hover:to-blue-700 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-violet-500 dark:from-violet-500 dark:to-blue-500 dark:hover:from-violet-600 dark:hover:to-blue-600"},{default:p(()=>[a[3]||(a[3]=z(" Découvrir la plateforme ",-1)),f(e(qt),{class:"ml-2 h-4 w-4"})]),_:1,__:[3]},8,["href"]),f(e(J),{variant:"outline",as:"a",href:o.route("how-it-works"),class:"text-sm border-violet-200 text-violet-700 hover:text-violet-500 hover:bg-violet-50 dark:border-violet-800 dark:text-violet-300 dark:hover:bg-violet-900"},{default:p(()=>a[4]||(a[4]=[z(" Comment ça marche ? ",-1)])),_:1,__:[4]},8,["href"])])]),a[6]||(a[6]=n("div",{class:"hidden lg:block w-px h-32 bg-gradient-to-b from-violet-200 to-blue-200 self-center dark:from-violet-800 dark:to-blue-800"},null,-1)),n("div",Va,[n("div",Ia,[a[5]||(a[5]=n("h2",{class:"text-sm font-medium text-gray-900 mb-4 dark:text-white"}," Avantages de la plateforme ",-1)),n("ul",Ea,[(m(),w(G,null,W(i,d=>n("li",{key:d.title,class:"flex items-start gap-3 group"},[n("div",{class:Q(["rounded-md bg-gradient-to-br from-violet-100 to-blue-100 p-2 group-hover:from-violet-200 group-hover:to-blue-200 transition-colors duration-200 dark:from-violet-900 dark:to-blue-900",{"from-violet-200 to-blue-200 dark:from-violet-800 dark:to-blue-800":d.title==="Gratuit"}])},[(m(),j(gt(d.icon),{class:"w-4 h-4 text-violet-600 dark:text-violet-400"}))],2),n("div",null,[n("h3",ja,V(d.title),1),n("p",La,V(d.description),1)])])),64))])])])])]),_:1})]),_:1})])):R("",!0)]),_:1}))}},Ta={class:"flex items-center border rounded-lg shadow-md bg-background"},Ba={class:"pl-3 text-muted-foreground"},Fa=["onKeydown"],Oa={__name:"SearchInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","search:submit"],setup(t,{emit:l}){const s=t,u=l,r=I(null),i=O({get(){return s.modelValue},set(d){u("update:modelValue",d)}}),o=()=>{i.value="",Z(()=>{var d;(d=r.value)==null||d.focus()})},a=()=>{u("search:submit",i.value)};return(d,h)=>(m(),w("div",Ta,[n("span",Ba,[f(e(je),{class:"h-5 w-5"})]),Ne(n("input",{ref_key:"inputRef",ref:r,"onUpdate:modelValue":h[0]||(h[0]=_=>i.value=_),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Que recherchez-vous ?",onKeydown:ee(X(a,["prevent"]),["enter"]),autocomplete:"off"},null,40,Fa),[[Ge,i.value]]),i.value?(m(),w("button",{key:0,onMousedown:X(o,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[f(e(ce),{class:"h-4 w-4"})],32)):R("",!0)]))}},Ra={class:"relative w-full"},Pa={class:"flex items-center border rounded-lg shadow-md bg-background"},Ka={class:"pl-3 text-muted-foreground"},Ma={key:0,class:"py-6 text-center text-sm text-muted-foreground"},Aa={key:1,class:"py-6 text-center text-sm text-destructive"},Ua={key:2,class:"py-6 text-center text-sm text-muted-foreground"},Da={key:3,class:"max-h-[300px] overflow-y-auto"},Ha=["onClick"],Na={class:"flex flex-col"},Ga={class:"text-xs text-muted-foreground"},Wa={__name:"CityInput",props:{modelValue:{type:String,default:""}},emits:["update:modelValue","selected"],setup(t,{emit:l}){const s=t,u=l,r=I(s.modelValue),i=I([]),o=I(!1),a=I(!1),d=I(""),h=I(null),_=At(async $=>{if($.length<3){i.value=[],o.value=!1,d.value="";return}a.value=!0,o.value=!0,d.value="";try{const y=await pe.get(`https://api-adresse.data.gouv.fr/search/?q=${encodeURIComponent($)}&type=municipality&limit=5`);if(!y.data.features||y.data.features.length===0){i.value=[];return}i.value=y.data.features.map(S=>({id:S.properties.id,name:S.properties.city,postcode:S.properties.postcode,coordinates:{lat:S.geometry.coordinates[1],lng:S.geometry.coordinates[0]}}))}catch(y){console.error("Error fetching city suggestions:",y),i.value=[],y.value="Erreur lors de la recherche de villes. Veuillez réessayer."}finally{a.value=!1}},150);ie(r,$=>{u("update:modelValue",$),$.length>=3&&$!==h.value?_($):(i.value=[],o.value=!1)});const c=$=>{h.value=$.name+" ("+$.postcode+")",r.value=h.value,d.value="";const y={name:$.name,lat:$.coordinates.lat,lng:$.coordinates.lng,postcode:$.postcode,departement:$.postcode.substring(0,2)};u("selected",y),o.value=!1},C=()=>{r.value="",i.value=[],o.value=!1,d.value="",h.value=null,u("update:modelValue",""),u("selected",null)};return($,y)=>(m(),w("div",Ra,[f(e(Te),{open:o.value,"onUpdate:open":y[1]||(y[1]=S=>o.value=S)},{default:p(()=>[f(e(Le),{asChild:""},{default:p(()=>[n("div",Pa,[n("span",Ka,[f(e(Me),{class:"h-5 w-5"})]),Ne(n("input",{"onUpdate:modelValue":y[0]||(y[0]=S=>r.value=S),type:"text",class:"flex-1 h-12 px-3 bg-transparent focus:outline-none",placeholder:"Ajouter une localisation"},null,512),[[Ge,r.value]]),r.value?(m(),w("button",{key:0,onMousedown:X(C,["prevent"]),class:"pr-3 text-muted-foreground hover:text-foreground",tabindex:"-1"},[f(e(ce),{class:"h-4 w-4"})],32)):R("",!0)])]),_:1}),f(e(ze),{class:"w-full p-0",align:"start"},{default:p(()=>[a.value?(m(),w("div",Ma,y[2]||(y[2]=[n("div",{class:"flex items-center justify-center"},[n("div",{class:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),n("span",{class:"ml-2"},"Recherche en cours...")],-1)]))):d.value?(m(),w("div",Aa,V(d.value),1)):i.value.length===0?(m(),w("div",Ua," Aucun résultat trouvé ")):(m(),w("div",Da,[(m(!0),w(G,null,W(i.value,S=>(m(),w("div",{key:S.id,class:"flex items-center gap-2 px-4 py-2 cursor-pointer hover:bg-accent hover:text-accent-foreground",onClick:x=>c(S)},[f(e(Me),{class:"h-4 w-4 text-muted-foreground"}),n("div",Na,[n("span",null,V(S.name),1),n("span",Ga,V(S.postcode),1)])],8,Ha))),128))]))]),_:1})]),_:1},8,["open"])]))}},et=P({__name:"Command",props:{modelValue:{default:""},defaultValue:{},multiple:{type:Boolean},orientation:{},dir:{},disabled:{type:Boolean},selectionBehavior:{},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{emit:l}){const s=t,u=l,r=ae(s,"class"),i=We(r,u),o=I(new Map),a=I(new Map),{contains:d}=aa({sensitivity:"base"}),h=xt({search:"",filtered:{count:0,items:new Map,groups:new Set}});function _(){if(!h.search){h.filtered.count=o.value.size;return}h.filtered.groups=new Set;let c=0;for(const[C,$]of o.value){const y=d($,h.search);h.filtered.items.set(C,y?1:0),y&&c++}for(const[C,$]of a.value)for(const y of $)if(h.filtered.items.get(y)>0){h.filtered.groups.add(C);break}h.filtered.count=c}return ie(()=>h.search,()=>{_()}),Ya({allItems:o,allGroups:a,filterState:h}),(c,C)=>(m(),j(e(la),N({"data-slot":"command"},e(i),{class:e(te)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",s.class)}),{default:p(()=>[K(c.$slots,"default")]),_:3},16,["class"]))}}),tt=P({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,s=ae(l,"class"),{filterState:u}=ge(),r=O(()=>!!u.search&&u.filtered.count===0);return(i,o)=>r.value?(m(),j(e(Y),N({key:0,"data-slot":"command-empty"},e(s),{class:e(te)("py-6 text-center text-sm",l.class)}),{default:p(()=>[K(i.$slots,"default")]),_:3},16,["class"])):R("",!0)}}),at=P({__name:"CommandGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(t){const l=t,s=ae(l,"class"),{allGroups:u,filterState:r}=ge(),i=he(),o=O(()=>r.search?r.filtered.groups.has(i):!0);return es({id:i}),ue(()=>{u.value.has(i)||u.value.set(i,new Set)}),Ve(()=>{u.value.delete(i)}),(a,d)=>(m(),j(e(pa),N(e(s),{id:e(i),"data-slot":"command-group",class:e(te)("text-foreground overflow-hidden p-1",l.class),hidden:o.value?void 0:!0}),{default:p(()=>[a.heading?(m(),j(e(ha),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:p(()=>[z(V(a.heading),1)]),_:1})):R("",!0),K(a.$slots,"default")]),_:3},16,["id","class","hidden"]))}}),Qa={"data-slot":"command-input-wrapper",class:"flex h-12 items-center gap-2 border-b px-3"},st=P({inheritAttrs:!1,__name:"CommandInput",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,s=ae(l,"class"),u=Qe(s),{filterState:r}=ge();return(i,o)=>(m(),w("div",Qa,[f(e(je),{class:"size-4 shrink-0 opacity-50"}),f(e(da),N({...e(u),...i.$attrs},{modelValue:e(r).search,"onUpdate:modelValue":o[0]||(o[0]=a=>e(r).search=a),"data-slot":"command-input","auto-focus":"",class:e(te)("placeholder:text-muted-foreground flex h-12 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",l.class)}),null,16,["modelValue","class"])]))}}),Se=P({__name:"CommandItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(t,{emit:l}){const s=t,u=l,r=ae(s,"class"),i=We(r,u),o=he(),{filterState:a,allItems:d,allGroups:h}=ge(),_=Za(),c=O(()=>{if(a.search){const y=a.filtered.items.get(o);return y===void 0?!0:y>0}else return!0}),C=I(),$=Wt(C);return ue(()=>{var S,x;if(!($.value instanceof HTMLElement))return;d.value.set(o,$.value.textContent??((S=s.value)==null?void 0:S.toString())??"");const y=_==null?void 0:_.id;y&&(h.value.has(y)?(x=h.value.get(y))==null||x.add(o):h.value.set(y,new Set([o])))}),Ve(()=>{d.value.delete(o)}),(y,S)=>c.value?(m(),j(e(_a),N({key:0},e(i),{id:e(o),ref_key:"itemRef",ref:C,"data-slot":"command-item",class:e(te)("data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-3 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s.class),onSelect:S[0]||(S[0]=()=>{e(a).search=""})}),{default:p(()=>[K(y.$slots,"default")]),_:3},16,["id","class"])):R("",!0)}}),Xa={role:"presentation"},Ja=P({__name:"CommandList",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const l=t,s=ae(l,"class"),u=Qe(s);return(r,i)=>(m(),j(e(ia),N({"data-slot":"command-list"},e(u),{class:e(te)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",l.class)}),{default:p(()=>[n("div",Xa,[K(r.$slots,"default")])]),_:3},16,["class"]))}}),[ge,Ya]=de("Command"),[Za,es]=de("CommandGroup");var ts=typeof global=="object"&&global&&global.Object===Object&&global,as=typeof self=="object"&&self&&self.Object===Object&&self,ot=ts||as||Function("return this")(),ve=ot.Symbol,nt=Object.prototype,ss=nt.hasOwnProperty,os=nt.toString,le=ve?ve.toStringTag:void 0;function ns(t){var l=ss.call(t,le),s=t[le];try{t[le]=void 0;var u=!0}catch{}var r=os.call(t);return u&&(l?t[le]=s:delete t[le]),r}var ls=Object.prototype,rs=ls.toString;function is(t){return rs.call(t)}var us="[object Null]",ds="[object Undefined]",Ae=ve?ve.toStringTag:void 0;function cs(t){return t==null?t===void 0?ds:us:Ae&&Ae in Object(t)?ns(t):is(t)}function fs(t){return t!=null&&typeof t=="object"}var ms="[object Symbol]";function ps(t){return typeof t=="symbol"||fs(t)&&cs(t)==ms}var vs=/\s/;function hs(t){for(var l=t.length;l--&&vs.test(t.charAt(l)););return l}var gs=/^\s+/;function ys(t){return t&&t.slice(0,hs(t)+1).replace(gs,"")}function qe(t){var l=typeof t;return t!=null&&(l=="object"||l=="function")}var Ue=NaN,xs=/^[-+]0x[0-9a-f]+$/i,_s=/^0b[01]+$/i,bs=/^0o[0-7]+$/i,ks=parseInt;function De(t){if(typeof t=="number")return t;if(ps(t))return Ue;if(qe(t)){var l=typeof t.valueOf=="function"?t.valueOf():t;t=qe(l)?l+"":l}if(typeof t!="string")return t===0?t:+t;t=ys(t);var s=_s.test(t);return s||bs.test(t)?ks(t.slice(2),s?2:8):xs.test(t)?Ue:+t}var we=function(){return ot.Date.now()},ws="Expected a function",Cs=Math.max,$s=Math.min;function Ss(t,l,s){var u,r,i,o,a,d,h=0,_=!1,c=!1,C=!0;if(typeof t!="function")throw new TypeError(ws);l=De(l)||0,qe(s)&&(_=!!s.leading,c="maxWait"in s,i=c?Cs(De(s.maxWait)||0,l):i,C="trailing"in s?!!s.trailing:C);function $(B){var L=u,A=r;return u=r=void 0,h=B,o=t.apply(A,L),o}function y(B){return h=B,a=setTimeout(b,l),_?$(B):o}function S(B){var L=B-d,A=B-h,U=l-L;return c?$s(U,i-A):U}function x(B){var L=B-d,A=B-h;return d===void 0||L>=l||L<0||c&&A>=i}function b(){var B=we();if(x(B))return v(B);a=setTimeout(b,S(B))}function v(B){return a=void 0,C&&u?$(B):(u=r=void 0,o)}function E(){a!==void 0&&clearTimeout(a),h=0,u=d=r=a=void 0}function M(){return a===void 0?o:v(we())}function T(){var B=we(),L=x(B);if(u=arguments,r=this,d=B,L){if(a===void 0)return y(d);if(c)return clearTimeout(a),a=setTimeout(b,l),$(d)}return a===void 0&&(a=setTimeout(b,l)),o}return T.cancel=E,T.flush=M,T}const qs={class:"truncate"},Vs={class:"flex items-center justify-between border-b p-2"},Is={class:"text-sm text-muted-foreground"},Es={key:0},js={key:1},Ls={key:0,class:"mt-2 flex flex-wrap gap-1"},zs=["onClick"],Ts={__name:"OrganizationFilter",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:l}){const s=t,u=l,r=I(!1),i=I(""),o=I([]),a=I([]),d=I(!1),h=O(()=>s.modelValue.map(x=>a.value.find(b=>b.id===x)).filter(Boolean)),_=async x=>{if(x.length===0)return;const b=x.filter(v=>!a.value.some(E=>E.id===v));if(b.length!==0)try{const v=await pe.get(route("api.organizations.index",{"ids[]":b}));a.value.push(...v.data.data)}catch(v){console.error("Error fetching organizations by IDs:",v)}};ue(()=>{S(),_(s.modelValue)}),ie(()=>s.modelValue,x=>{_(x)},{deep:!0});const c=x=>s.modelValue.includes(x.id),C=(x,b)=>{b&&b.preventDefault();const v=[...s.modelValue],E=v.indexOf(x.id);E>-1?v.splice(E,1):v.push(x.id),u("update:modelValue",v)},$=x=>{C(x,null)},y=()=>{u("update:modelValue",[])},S=Ss(async()=>{d.value=!0;try{const x=await pe.get(route("api.organizations.index",{search:i.value}));o.value=x.data.data,x.data.data.forEach(b=>{a.value.some(v=>v.id===b.id)||a.value.push(b)})}catch(x){console.error("Error searching organizations:",x)}finally{d.value=!1}},300);return(x,b)=>(m(),w("div",null,[f(e(Te),{open:r.value,"onUpdate:open":b[1]||(b[1]=v=>r.value=v)},{default:p(()=>[f(e(Le),{asChild:""},{default:p(()=>[f(e(J),{variant:"outline",role:"combobox","aria-expanded":r.value,class:"w-full justify-between"},{default:p(()=>[n("span",qs,V(h.value.length>0?h.value.map(v=>v.name).join(", "):"Sélectionner une ou plusieurs organisations"),1),f(e(Ze),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),f(e(ze),{class:"w-[--radix-popover-trigger-width] p-0"},{default:p(()=>[f(e(et),{"filter-function":v=>v},{default:p(()=>[n("div",Vs,[n("p",Is,V(h.value.length)+" sélectionnée(s) ",1),h.value.length>0?(m(),j(e(J),{key:0,variant:"ghost",size:"sm",onClick:y},{default:p(()=>b[2]||(b[2]=[z(" Effacer ",-1)])),_:1,__:[2]})):R("",!0)]),f(e(st),{modelValue:i.value,"onUpdate:modelValue":[b[0]||(b[0]=v=>i.value=v),e(S)],placeholder:"Rechercher une organisation..."},null,8,["modelValue","onUpdate:modelValue"]),f(e(tt),null,{default:p(()=>[d.value?(m(),w("span",Es,"Chargement...")):(m(),w("span",js,"Aucune organisation trouvée."))]),_:1}),f(e(at),null,{default:p(()=>[(m(!0),w(G,null,W(o.value,v=>(m(),j(e(Se),{key:v.id,value:v.name,onSelect:E=>C(v,E)},{default:p(()=>[f(e($e),{class:Q(["mr-2 h-4 w-4",c(v)?"opacity-100":"opacity-0"])},null,8,["class"]),z(" "+V(v.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1},8,["filter-function"])]),_:1})]),_:1},8,["open"]),h.value.length>0?(m(),w("div",Ls,[(m(!0),w(G,null,W(h.value,v=>(m(),j(e(Ye),{key:`selected-${v.id}`,variant:"secondary"},{default:p(()=>[z(V(v.name)+" ",1),n("button",{type:"button",class:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onClick:E=>$(v)},[f(e(ce),{class:"h-3 w-3 text-muted-foreground hover:text-foreground"})],8,zs)]),_:2},1024))),128))])):R("",!0)]))}},Bs={class:"truncate"},Fs={class:"flex items-center justify-between border-b p-2"},Os={class:"text-sm text-muted-foreground"},Rs={key:0},Ps={key:1},Ks={key:0,class:"mt-2 flex flex-wrap gap-1"},Ms=["onClick"],As={__name:"CategoryFilter",props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(t,{emit:l}){const s=t,u=l,r=I(!1),i=I(""),o=I([]),a=O(()=>o.value.flatMap(x=>[x,...x.children])),d=I(!1),h=O(()=>s.modelValue.map(x=>a.value.find(b=>b.id===x)).filter(Boolean)),_=async()=>{d.value=!0;try{const x=await pe.get("/api/categories");o.value=x.data}catch(x){console.error("Error fetching categories:",x)}finally{d.value=!1}};ue(()=>{_()});const c=x=>s.modelValue.includes(x.id),C=(x,b)=>{b&&b.preventDefault();const v=[...s.modelValue],E=v.indexOf(x.id);E>-1?v.splice(E,1):v.push(x.id),u("update:modelValue",v)},$=x=>{C(x,null)},y=()=>{u("update:modelValue",[])},S=(x,b)=>x.filter(v=>{var M;const E=(M=v.children)==null?void 0:M.some(T=>T.name.toLowerCase().includes(b.toLowerCase()));return v.name.toLowerCase().includes(b.toLowerCase())||E});return(x,b)=>(m(),w("div",null,[f(e(Te),{open:r.value,"onUpdate:open":b[1]||(b[1]=v=>r.value=v)},{default:p(()=>[f(e(Le),{asChild:""},{default:p(()=>[f(e(J),{variant:"outline",role:"combobox","aria-expanded":r.value,class:"w-full justify-between"},{default:p(()=>[n("span",Bs,V(h.value.length>0?h.value.map(v=>v.name).join(", "):"Sélectionner une ou plusieurs catégories"),1),f(e(Ze),{class:"ml-2 h-4 w-4 shrink-0 opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),f(e(ze),{class:"w-[--radix-popover-trigger-width] p-0"},{default:p(()=>[f(e(et),{"filter-function":S},{default:p(()=>[n("div",Fs,[n("p",Os,V(h.value.length)+" sélectionnée(s) ",1),h.value.length>0?(m(),j(e(J),{key:0,variant:"ghost",size:"sm",onClick:y},{default:p(()=>b[2]||(b[2]=[z(" Effacer ",-1)])),_:1,__:[2]})):R("",!0)]),f(e(st),{modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=v=>i.value=v),placeholder:"Rechercher une catégorie..."},null,8,["modelValue"]),f(e(tt),null,{default:p(()=>[d.value?(m(),w("span",Rs,"Chargement...")):(m(),w("span",Ps,"Aucune catégorie trouvée."))]),_:1}),f(e(Ja),null,{default:p(()=>[(m(!0),w(G,null,W(o.value,v=>(m(),j(e(at),{key:v.id,heading:v.name},{default:p(()=>[f(e(Se),{value:v.name,onSelect:E=>C(v,E)},{default:p(()=>[f(e($e),{class:Q(["mr-2 h-4 w-4",c(v)?"opacity-100":"opacity-0"])},null,8,["class"]),z(" "+V(v.name)+" (toute la catégorie) ",1)]),_:2},1032,["value","onSelect"]),(m(!0),w(G,null,W(v.children,E=>(m(),j(e(Se),{key:E.id,value:E.name,onSelect:M=>C(E,M),class:"pl-8"},{default:p(()=>[f(e($e),{class:Q(["mr-2 h-4 w-4",c(E)?"opacity-100":"opacity-0"])},null,8,["class"]),z(" "+V(E.name),1)]),_:2},1032,["value","onSelect"]))),128))]),_:2},1032,["heading"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),h.value.length>0?(m(),w("div",Ks,[(m(!0),w(G,null,W(h.value,v=>(m(),j(e(Ye),{key:`selected-${v.id}`,variant:"secondary"},{default:p(()=>[z(V(v.name)+" ",1),n("button",{type:"button",class:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onClick:E=>$(v)},[f(e(ce),{class:"h-3 w-3 text-muted-foreground hover:text-foreground"})],8,Ms)]),_:2},1024))),128))])):R("",!0)]))}},Us={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ds={class:"relative rounded-xl shadow-xl border border-gray-200/60"},Hs={key:0,class:"px-6 pt-6 pb-4"},Ns={class:"px-6 pb-6"},Gs={class:"flex flex-col md:flex-row gap-4 p-4"},Ws={class:"flex-1"},Qs={class:"flex-1"},Xs={class:"flex items-end"},Js={key:1,class:"h-5 w-5 mr-2"},Ys={class:"px-6 pb-6"},Zs={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},eo={class:"space-y-2"},to={class:"space-y-2"},ao={class:"space-y-2"},so={__name:"SearchSection",props:{filters:{type:Object,default:()=>({})},stats:{type:Object,required:!0}},emits:["searching"],setup(t,{emit:l}){const u=Ie().props.auth.user,r=t,i=l,o=I(!1),a=_t({search:r.filters.search||"",radius:r.filters.radius||50,categories:r.filters.categories||[],organizations:r.filters.organizations||[],coordinates:r.filters.coordinates||null,city:r.filters.city||null,postcode:r.filters.postcode||null});ie([()=>a.search,()=>a.radius,()=>a.categories,()=>a.organizations],()=>{d()},{deep:!0});const d=()=>{o.value=!0,i("searching",o.value),a.get(route("home"),{only:["filters","equipments"],preserveScroll:!0,preserveState:!0,onFinish:()=>{o.value=!1,i("searching",o.value)}})},h=_=>{a.city=_.name,a.postcode=_.postcode,a.coordinates={lat:_.lat,lng:_.lng},a.radius=a.radius||5,d()};return(_,c)=>(m(),w("div",{class:Q({"relative mt-8":e(u)})},[n("div",Us,[n("div",Ds,[e(u)?R("",!0):(m(),w("div",Hs,c[5]||(c[5]=[n("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Trouvez le matériel dont vous avez besoin",-1),n("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},"Recherchez parmi des milliers d'équipements disponibles près de chez vous.",-1)]))),n("div",Ns,[n("div",Gs,[n("div",Ws,[f(e(ne),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:p(()=>c[6]||(c[6]=[z("Dans quel secteur ?",-1)])),_:1,__:[6]}),f(Wa,{modelValue:e(a).city,"onUpdate:modelValue":c[0]||(c[0]=C=>e(a).city=C),onSelected:h,placeholder:"Entrez une ville ou un code postal"},null,8,["modelValue"])]),n("div",Qs,[f(e(ne),{class:"text-sm font-medium mb-2 text-gray-700 dark:text-white"},{default:p(()=>c[7]||(c[7]=[z("Que recherchez-vous ?",-1)])),_:1,__:[7]}),f(Oa,{modelValue:e(a).search,"onUpdate:modelValue":c[1]||(c[1]=C=>e(a).search=C),placeholder:"Ex: Vidéoprojecteur, Enceinte, Table...","onSearch:submit":d},null,8,["modelValue"])]),n("div",Xs,[f(e(J),{type:"submit",size:"lg",disabled:o.value,class:"w-full md:w-auto min-w-[140px] bg-primary hover:bg-primary/90 shadow-sm dark:bg-primary dark:hover:bg-primary/90",onClick:d},{default:p(()=>[o.value?(m(),w("span",Js,c[8]||(c[8]=[n("span",{class:"animate-spin inline-block h-5 w-5 border-[3px] border-current border-t-transparent rounded-full"},null,-1)]))):(m(),j(e(je),{key:0,class:"h-5 w-5 mr-2"})),z(" "+V(o.value?"Recherche...":"Rechercher"),1)]),_:1},8,["disabled"])])])]),n("div",Ys,[n("div",Zs,[n("div",eo,[f(e(ne),{for:"radius",class:"flex items-center gap-2"},{default:p(()=>[c[10]||(c[10]=z(" Rayon de recherche ",-1)),f(e(Mt),null,{default:p(()=>[f(e(Rt),null,{default:p(()=>[f(e(Pt),null,{default:p(()=>[f(e(Qt),{class:"h-4 w-4 text-muted-foreground"})]),_:1}),f(e(Kt),null,{default:p(()=>c[9]||(c[9]=[n("p",null,"Distance maximale de recherche",-1)])),_:1,__:[9]})]),_:1})]),_:1})]),_:1,__:[10]}),f(e(Tt),{modelValue:e(a).radius,"onUpdate:modelValue":[c[2]||(c[2]=C=>e(a).radius=C),d]},{default:p(()=>[f(e(jt),{id:"radius",class:"w-full bg-white dark:bg-gray-800"},{default:p(()=>[f(e(Lt),{placeholder:"Sélectionner un rayon"})]),_:1}),f(e(zt),null,{default:p(()=>[f(e(oe),{value:"5"},{default:p(()=>c[11]||(c[11]=[z("5 km",-1)])),_:1,__:[11]}),f(e(oe),{value:"10"},{default:p(()=>c[12]||(c[12]=[z("10 km",-1)])),_:1,__:[12]}),f(e(oe),{value:"25"},{default:p(()=>c[13]||(c[13]=[z("25 km",-1)])),_:1,__:[13]}),f(e(oe),{value:"50"},{default:p(()=>c[14]||(c[14]=[z("50 km",-1)])),_:1,__:[14]}),f(e(oe),{value:"100"},{default:p(()=>c[15]||(c[15]=[z("100 km",-1)])),_:1,__:[15]})]),_:1})]),_:1},8,["modelValue"])]),n("div",to,[f(e(ne),null,{default:p(()=>c[16]||(c[16]=[z("Catégories",-1)])),_:1,__:[16]}),f(As,{modelValue:e(a).categories,"onUpdate:modelValue":[c[3]||(c[3]=C=>e(a).categories=C),d]},null,8,["modelValue"])]),n("div",ao,[f(e(ne),{class:"flex items-center gap-2"},{default:p(()=>c[17]||(c[17]=[z(" Filtrer par organisation ",-1)])),_:1,__:[17]}),f(Ts,{modelValue:e(a).organizations,"onUpdate:modelValue":[c[4]||(c[4]=C=>e(a).organizations=C),d]},null,8,["modelValue"])])])])])])],2))}},oo=["src","alt"],no={key:1,class:"flex h-full w-full items-center justify-center bg-accent/10 text-muted-foreground/30"},lo={class:"flex flex-grow flex-col p-4"},ro={class:"flex-grow"},io={class:"line-clamp-1 font-semibold text-foreground transition-colors duration-200 group-hover:text-primary"},uo={class:"text-sm"},co={class:"font-semibold text-foreground"},fo={class:"mt-2 space-y-2 text-xs text-muted-foreground"},mo={class:"truncate"},po={class:"mt-2 flex items-center text-xs text-muted-foreground"},vo={class:"truncate"},ho={__name:"EquipmentCard",props:{equipment:{type:Object,required:!0}},setup(t){const l=t,s=I(!1),u=O(()=>l.equipment.images&&l.equipment.images.length>0),r=()=>{s.value=!0},i=o=>o==null?"":new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(o);return(o,a)=>(m(),j(e(He),{href:o.route("equipments.show",t.equipment),class:"group relative flex flex-col overflow-hidden rounded-xl border border-border/50 bg-card shadow-sm transition-all duration-200 hover:shadow-lg"},{default:p(()=>{var d,h,_,c;return[n("div",{class:Q(["relative block aspect-[4/3] overflow-hidden",{shimmer:u.value&&!s.value}])},[u.value?(m(),w("img",{key:0,src:(d=t.equipment.images[0])==null?void 0:d.url,alt:t.equipment.name,loading:"lazy",class:Q(["h-full w-full object-cover transition-all duration-300 group-hover:scale-105",{"opacity-0":!s.value}]),onLoad:r},null,42,oo)):(m(),w("div",no,[f(e(Xt),{class:"h-12 w-12"})]))],2),n("div",lo,[n("div",ro,[n("h3",io,V(t.equipment.name),1),n("div",uo,[n("span",co,V(i(t.equipment.rental_price)),1),a[0]||(a[0]=n("span",{class:"text-sm text-muted-foreground"}," / jour",-1))]),n("div",fo,[n("span",mo,V(((h=t.equipment.organization)==null?void 0:h.name)||"Particulier")+" - "+V(((_=t.equipment.depot)==null?void 0:_.city)||"Non localisé"),1)]),n("div",po,[f(e(ea),{class:"mr-2 h-4 w-4"}),n("span",vo,V(((c=t.equipment.category)==null?void 0:c.name)||"Sans catégorie"),1)])])])]}),_:1},8,["href"]))}},go={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},yo={key:0,class:"min-h-[400px] flex flex-col items-center justify-center"},xo={key:1,class:"min-h-[400px] flex flex-col items-center justify-center text-center"},_o={class:"w-24 h-24 text-muted-foreground mb-6"},bo={class:"text-xl font-medium text-foreground"},ko={class:"mt-2 text-base text-muted-foreground max-w-md"},wo={key:2},Co={class:"mb-6 flex items-center justify-between"},$o={class:"text-lg font-medium text-foreground"},So={class:"flex items-center space-x-4"},qo={class:"text-sm text-muted-foreground"},Vo={key:0,class:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded"},Io={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"},Eo={class:"mt-12 flex justify-center"},jo={__name:"ResultsSection",props:{equipments:{type:Object,required:!0},equipments_pagination:{type:Object,required:!0},filters:{type:Object,default:()=>({})},startDate:{type:String,default:""},endDate:{type:String,default:""},isSearching:{type:Boolean,default:!1}},setup(t){const l=t,s=O(()=>l.equipments.length>0),u=O(()=>{const r=l.filters;return r.search||r.categories&&r.categories.length>0||r.organizations&&r.organizations.length>0||r.radius||r.city||r.postcode});return(r,i)=>(m(),w("div",go,[t.isSearching?(m(),w("div",yo,i[0]||(i[0]=[n("div",{class:"w-16 h-16 mb-4"},[n("div",{class:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary"})],-1),n("h3",{class:"text-lg font-medium text-foreground"},"Recherche en cours...",-1),n("p",{class:"mt-2 text-sm text-muted-foreground"}," Nous recherchons les meilleurs équipements pour vous ",-1)]))):s.value?(m(),w("div",wo,[n("div",Co,[n("h2",$o,V(t.equipments_pagination.total)+" équipement"+V(t.equipments_pagination.total>1?"s":"")+" trouvé"+V(t.equipments_pagination.total>1?"s":""),1),n("div",So,[n("p",qo,V(t.equipments.length)+" affiché"+V(t.equipments.length>1?"s":"")+" sur "+V(t.equipments_pagination.total),1),t.equipments_pagination.has_more?(m(),w("div",Vo," Page "+V(t.equipments_pagination.current_page),1)):R("",!0)])]),n("div",Io,[(m(!0),w(G,null,W(t.equipments,(o,a)=>(m(),j(ho,{key:`${o.id}-${o.updated_at}`,equipment:o,"start-date":t.startDate,"end-date":t.endDate,class:"transition-all duration-300 ease-in-out animate-fade-in",style:bt({animationDelay:`${a*50}ms`})},null,8,["equipment","start-date","end-date","style"]))),128))]),n("div",Eo,[t.equipments_pagination.last_page>t.equipments_pagination.current_page?(m(),j(e(kt),{key:0,always:"",params:{data:{page:t.equipments_pagination.current_page+1},only:["equipments","equipments_pagination"]}},{fallback:p(()=>i[1]||(i[1]=[n("div",{class:"flex items-center space-x-2"},[n("div",{class:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}),n("span",{class:"text-sm text-muted-foreground"},"Chargement...")],-1)])),_:1},8,["params"])):R("",!0)])])):(m(),w("div",xo,[n("div",_o,[u.value?(m(),j(e(Zt),{key:0,class:"w-full h-full"})):(m(),j(e(Yt),{key:1,class:"w-full h-full"}))]),n("h3",bo,V(u.value?"Aucun équipement trouvé":"Commencez votre recherche"),1),n("p",ko,V(u.value?"Essayez de modifier vos critères de recherche pour trouver plus de résultats.":"Utilisez la barre de recherche ci-dessus pour trouver l'équipement dont vous avez besoin."),1)]))]))}},Lo={key:0,class:"relative"},pn={__name:"Home",props:{equipments:{type:Object,required:!0},equipments_pagination:{type:Object,required:!0},filters:{type:Object,default:()=>({})},stats:{type:Object,default:()=>({min_price:0,max_price:1e3,categories:[]})}},setup(t){const l=I(!1),s=Ie(),u=s.props.name,r=s.props.auth.user;return(i,o)=>(m(),j(wt,{title:"Location et prêt de matériel événementiel",description:`${e(u)} facilite la location de matériel entre associations. Trouvez et réservez en quelques clics le matériel dont vous avez besoin pour vos événements.`},{default:p(()=>[e(r)?R("",!0):(m(),w("section",Lo,[f(za)])),n("section",null,[f(so,{filters:t.filters,stats:t.stats,onSearching:o[0]||(o[0]=a=>l.value=a)},null,8,["filters","stats"])]),n("section",{class:Q(["relative py-12 bg-gradient-to-b from-background via-background/50 to-background",{"mt-8":t.equipments.length>0}])},[f(jo,{equipments:t.equipments,equipments_pagination:t.equipments_pagination,filters:t.filters,"start-date":t.filters.start_date,"end-date":t.filters.end_date,isSearching:l.value},null,8,["equipments","equipments_pagination","filters","start-date","end-date","isSearching"])],2)]),_:1},8,["description"]))}};export{pn as default};
